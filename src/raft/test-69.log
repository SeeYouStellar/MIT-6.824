=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 0 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 2 get outdate rpc reply from server 0
client write log 6585196731080218181 (index 1) to leader 2
flag 5599 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 63532 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6585196731080218181 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6585196731080218181 1 1}]
------------------------------------------------------
flag 3094 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 80232 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6585196731080218181 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6585196731080218181 1 1}]
------------------------------------------------------
flag 36319 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 52548 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6585196731080218181 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6585196731080218181 1 1}]
------------------------------------------------------
flag 77109 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 95915 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6585196731080218181 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6585196731080218181 1 1}]
------------------------------------------------------
flag 55281 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 30795 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6585196731080218181 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6585196731080218181 1 1}]
------------------------------------------------------
flag 81320 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 13154 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6585196731080218181 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6585196731080218181 1 1}]
------------------------------------------------------
flag 8980 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 94014 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6585196731080218181 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6585196731080218181 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4691979299468133871 (index 2) to leader 2
flag 54761 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 3779 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2}]
------------------------------------------------------
flag 59026 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 89618 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2}]
------------------------------------------------------
client write log 777049355156663822 (index 3) to leader 2
client write log 7506285285537787457 (index 4) to leader 2
client write log 1423597490658950872 (index 5) to leader 2
client write log 41630500233978675 (index 6) to leader 2
client write log 8505029854337214737 (index 7) to leader 2
client write log 1454778317640953682 (index 8) to leader 2
flag 56562 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 78018 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 2->1
------------------------------------------------------
term 1 leader 2 nextIndex[0]: 0  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 0  LastIncludedTerm: 0
------------------------------------------------------
flag 74044 term 1 leader 2 nextIndex[1]: 9  matchIndex[1]: 8
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8}]
------------------------------------------------------
!!!!!!connect server 0
client write log 3270674708314576959 (index 9) to leader 2
term 1 leader 2 nextIndex[0]: 0  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 0  LastIncludedTerm: 0
------------------------------------------------------
flag 33089 term 1 leader 2 nextIndex[1]: 9  matchIndex[1]: 8
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 2 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 0
term 3 server 2 become leader
------------------------------------------------------
term 3 server 2 get outdate rpc reply from server 1
flag 42975 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 21994 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 10->9
------------------------------------------------------
flag 4201 term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 53030 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
flag 37227 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 99749 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
flag 42530 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 23096 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
flag 55620 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 50637 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
flag 66479 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 43257 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
flag 29431 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 77306 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
flag 65429 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 6291 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
flag 69247 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 87301 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
flag 53087 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 94566 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
flag 97976 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 31321 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
flag 82314 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 40438 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
flag 36492 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 80576 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
flag 43501 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 38879 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
flag 37516 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 10525 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
flag 37190 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 8769 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
flag 59435 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 91009 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
flag 84241 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 60269 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
flag 58602 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 9516 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9}]
------------------------------------------------------
client write log 3270674708314576959 (index 10) to leader 2
flag 5429 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 53337 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9} {3270674708314576959 3 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {6585196731080218181 1 1} {4691979299468133871 1 2} {777049355156663822 1 3} {7506285285537787457 1 4} {1423597490658950872 1 5} {41630500233978675 1 6} {8505029854337214737 1 7} {1454778317640953682 1 8} {3270674708314576959 1 9} {3270674708314576959 3 10}]
------------------------------------------------------
term 3 Server2 start snapshot! index=9
term 3 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 12184 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 81613 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3270674708314576959 3 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3270674708314576959 3 10}]
------------------------------------------------------
term 3 Server1 start snapshot! index=9
term 3 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
term 3 Server0 start snapshot! index=9
term 3 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 69623 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 99136 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3270674708314576959 3 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3270674708314576959 3 10}]
------------------------------------------------------
flag 32372 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 13680 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3270674708314576959 3 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3270674708314576959 3 10}]
------------------------------------------------------
term 3 server 1 not vote for server 0, 任期不够新
term 3 server 0 get outdate rpc reply from server 1
flag 50711 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 51230 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3270674708314576959 3 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3270674708314576959 3 10}]
------------------------------------------------------
flag 38821 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 57450 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3270674708314576959 3 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3270674708314576959 3 10}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 79582 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 42876 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 31774 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 42301 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 76523 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 651 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
flag 40390 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 18349 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {3270674708314576959 3 10}]
------------------------------------------------------
flag 50165 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 23054 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
client write log 5138762755774188297 (index 11) to leader 1
flag 71474 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 9368 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3270674708314576959 3 10} {5138762755774188297 4 11}]
------------------------------------------------------
flag 62467 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 71467 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 90228 term 4 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
flag 56617 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3270674708314576959 3 10} {5138762755774188297 4 11}]
------------------------------------------------------
flag 7496 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 85516 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
client write log 658648663511036311 (index 12) to leader 1
flag 55792 term 4 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
flag 65497 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3270674708314576959 3 10} {5138762755774188297 4 11} {658648663511036311 4 12}]
------------------------------------------------------
flag 83162 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 95831 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 27474 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 2910 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3270674708314576959 3 10} {5138762755774188297 4 11} {658648663511036311 4 12}]
------------------------------------------------------
flag 80534 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 73791 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
!!!!!!connect server 2
client write log 8609573285676463148 (index 13) to leader 1
flag 87547 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 30825 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3270674708314576959 3 10} {5138762755774188297 4 11} {658648663511036311 4 12} {8609573285676463148 4 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3270674708314576959 3 10} {5138762755774188297 4 11} {658648663511036311 4 12} {8609573285676463148 4 13}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48290 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 13760 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3270674708314576959 3 10} {5138762755774188297 4 11} {658648663511036311 4 12} {8609573285676463148 4 13}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3270674708314576959 3 10} {5138762755774188297 4 11} {658648663511036311 4 12} {8609573285676463148 4 13}]
------------------------------------------------------
flag 15020 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 98693 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3270674708314576959 3 10} {5138762755774188297 4 11} {658648663511036311 4 12} {8609573285676463148 4 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3270674708314576959 3 10} {5138762755774188297 4 11} {658648663511036311 4 12} {8609573285676463148 4 13}]
------------------------------------------------------
flag 82767 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 96082 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3270674708314576959 3 10} {5138762755774188297 4 11} {658648663511036311 4 12} {8609573285676463148 4 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3270674708314576959 3 10} {5138762755774188297 4 11} {658648663511036311 4 12} {8609573285676463148 4 13}]
------------------------------------------------------
flag 46204 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 47482 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3270674708314576959 3 10} {5138762755774188297 4 11} {658648663511036311 4 12} {8609573285676463148 4 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3270674708314576959 3 10} {5138762755774188297 4 11} {658648663511036311 4 12} {8609573285676463148 4 13}]
------------------------------------------------------
flag 61033 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 93890 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3270674708314576959 3 10} {5138762755774188297 4 11} {658648663511036311 4 12} {8609573285676463148 4 13}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3270674708314576959 3 10} {5138762755774188297 4 11} {658648663511036311 4 12} {8609573285676463148 4 13}]
------------------------------------------------------
flag 30027 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 53671 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3270674708314576959 3 10} {5138762755774188297 4 11} {658648663511036311 4 12} {8609573285676463148 4 13}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3270674708314576959 3 10} {5138762755774188297 4 11} {658648663511036311 4 12} {8609573285676463148 4 13}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3366713360336833549 (index 14) to leader 1
flag 33422 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 1075 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3270674708314576959 3 10} {5138762755774188297 4 11} {658648663511036311 4 12} {8609573285676463148 4 13} {3366713360336833549 4 14}]
------------------------------------------------------
flag 14716 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 63284 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3270674708314576959 3 10} {5138762755774188297 4 11} {658648663511036311 4 12} {8609573285676463148 4 13} {3366713360336833549 4 14}]
------------------------------------------------------
client write log 4213992015052018939 (index 15) to leader 1
client write log 2131201368886643269 (index 16) to leader 1
client write log 4658965214983473814 (index 17) to leader 1
client write log 2584358441217423525 (index 18) to leader 1
client write log 6394505558002607116 (index 19) to leader 1
client write log 1995842153366779541 (index 20) to leader 1
client write log 3363010945521279514 (index 21) to leader 1
client write log 8457538086599523356 (index 22) to leader 1
client write log 4577174316664364959 (index 23) to leader 1
client write log 2133803190110026862 (index 24) to leader 1
client write log 8463152150399308164 (index 25) to leader 1
client write log 699479938867242440 (index 26) to leader 1
flag 87311 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 78151 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 1 9} {3270674708314576959 3 10} {5138762755774188297 4 11} {658648663511036311 4 12} {8609573285676463148 4 13} {3366713360336833549 4 14} {4213992015052018939 4 15} {2131201368886643269 4 16} {4658965214983473814 4 17} {2584358441217423525 4 18} {6394505558002607116 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=26
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29551 term 4 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=26
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1434679363596682966 (index 27) to leader 1
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 vote for server 1
term 6 server 0 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 1 get outdate rpc reply from server 0
flag 48430 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 89977 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 28->27
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 28->27
------------------------------------------------------
flag 70719 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
flag 58510 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 1278 term 6 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 6 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37141 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 82141 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
flag 89828 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 30921 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
flag 51905 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 71066 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
flag 73 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 99076 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
term 6 server 2 not vote for server 1, 任期不够新
term 6 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76834 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 36099 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
flag 98441 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 65457 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
flag 77728 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 46225 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
flag 89111 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 7328 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1983 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 3501 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
flag 68288 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 62546 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4682 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 96338 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
flag 52004 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 69246 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
flag 63773 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 72431 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
flag 44426 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 39129 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
flag 38278 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 96894 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
flag 92439 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 93688 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98025 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 75830 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1434679363596682966 (index 28) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83494 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 47577 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27} {1434679363596682966 6 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27} {1434679363596682966 6 28}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55142 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 25802 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27} {1434679363596682966 6 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27} {1434679363596682966 6 28}]
------------------------------------------------------
flag 17395 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 82206 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27} {1434679363596682966 6 28}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27} {1434679363596682966 6 28}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60731 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 82339 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27} {1434679363596682966 6 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27} {1434679363596682966 6 28}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56872 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 64159 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27} {1434679363596682966 6 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27} {1434679363596682966 6 28}]
------------------------------------------------------
flag 92130 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 45268 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27} {1434679363596682966 6 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27} {1434679363596682966 6 28}]
------------------------------------------------------
flag 45085 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 79757 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27} {1434679363596682966 6 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27} {1434679363596682966 6 28}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4404554256240769488 (index 29) to leader 1
flag 12742 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 12155 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 19} {1995842153366779541 4 20} {3363010945521279514 4 21} {8457538086599523356 4 22} {4577174316664364959 4 23} {2133803190110026862 4 24} {8463152150399308164 4 25} {699479938867242440 4 26} {1434679363596682966 4 27} {1434679363596682966 6 28} {4404554256240769488 6 29}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17203 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
client write log 3154562607283395367 (index 30) to leader 1
client write log 5020096237596920043 (index 31) to leader 1
client write log 7394719047280094618 (index 32) to leader 1
client write log 4734643384590717085 (index 33) to leader 1
client write log 8959011562108935132 (index 34) to leader 1
client write log 8769728946242596056 (index 35) to leader 1
client write log 6704042953211623625 (index 36) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91747 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36}]
------------------------------------------------------
flag 26207 term 6 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36}]
------------------------------------------------------
!!!!!!connect server 2
client write log 7840013940887276627 (index 37) to leader 1
term 6 server 1 not vote for server 2, 日志不够新
term 6 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 0 vote for server 1
term 8 server 1 get outdate rpc reply from server 0
flag 13811 term 8 leader 1 nextIndex[0]: 38  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 15696 term 8 leader 1 nextIndex[2]: 38  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 38->37
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 38->37
------------------------------------------------------
flag 18627 term 8 leader 1 nextIndex[0]: 37  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 29  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
flag 2567 term 8 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 99052 term 8 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 8 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33108 term 8 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 31758 term 8 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
flag 9914 term 8 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 9692 term 8 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
flag 67949 term 8 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 38939 term 8 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
flag 73818 term 8 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 77268 term 8 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
flag 57465 term 8 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 34159 term 8 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66599 term 8 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 88794 term 8 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17154 term 8 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 36830 term 8 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
flag 74256 term 8 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 75563 term 8 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
flag 10615 term 8 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 57251 term 8 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
flag 20826 term 8 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 73993 term 8 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
flag 31316 term 8 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 62817 term 8 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
flag 75150 term 8 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 54240 term 8 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
flag 52763 term 8 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 67053 term 8 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18587 term 8 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 41478 term 8 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
flag 86559 term 8 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 26579 term 8 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65192 term 8 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 71885 term 8 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50863 term 8 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 84373 term 8 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37}]
------------------------------------------------------
client write log 7840013940887276627 (index 38) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21747 term 8 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 37861 term 8 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37} {7840013940887276627 8 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37} {7840013940887276627 8 38}]
------------------------------------------------------
flag 65255 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 42083 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37} {7840013940887276627 8 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37} {7840013940887276627 8 38}]
------------------------------------------------------
flag 36114 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 71551 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37} {7840013940887276627 8 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37} {7840013940887276627 8 38}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52460 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 15745 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37} {7840013940887276627 8 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37} {7840013940887276627 8 38}]
------------------------------------------------------
flag 39098 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 90287 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37} {7840013940887276627 8 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37} {7840013940887276627 8 38}]
------------------------------------------------------
flag 67637 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 48321 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37} {7840013940887276627 8 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37} {7840013940887276627 8 38}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 13657 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 27783 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 32993 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 52018 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 3558 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 55103 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 81296 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 64460 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 9 server 2 vote for server 0
term 9 server 0 get vote from server 2
term 9 server 0 become leader
------------------------------------------------------
flag 42861 term 9 leader 0 nextIndex[1]: 39  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 58022 term 9 leader 0 nextIndex[2]: 39  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37} {7840013940887276627 8 38}]
------------------------------------------------------
client write log 7525532534558002953 (index 39) to leader 0
flag 71907 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 71837 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 36031 term 9 leader 0 nextIndex[1]: 39  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 83611 term 9 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 9 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 29} {3154562607283395367 6 30} {5020096237596920043 6 31} {7394719047280094618 6 32} {4734643384590717085 6 33} {8959011562108935132 6 34} {8769728946242596056 6 35} {6704042953211623625 6 36} {7840013940887276627 6 37} {7840013940887276627 8 38} {7525532534558002953 9 39}]
------------------------------------------------------
term 9 Server0 start snapshot! index=39
term 9 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 69853 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 78657 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 39  matchIndex[1]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
flag 4035 term 9 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 9 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 9 39}]
------------------------------------------------------
term 9 Server2 start snapshot! index=39
term 9 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
client write log 2931485174316061216 (index 40) to leader 0
flag 59851 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 49094 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 39  matchIndex[1]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
flag 38327 term 9 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 9 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81433 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 80962 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 39  matchIndex[1]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
flag 25449 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
!!!!!!connect server 1
client write log 3832029866675324904 (index 39) to leader 1
flag 61833 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 85645 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 39  matchIndex[1]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
flag 16359 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
term 9 server 1 InstallSnapshot success
------------------------------------------------------
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 9 rf.commitIndex 39 rf.lastApplied 39
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22579 term 9 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 18823 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36292 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 47041 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
flag 23826 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 14148 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
flag 89906 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 38390 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
flag 44150 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 21848 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45085 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 40903 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
flag 76783 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 96329 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
flag 99009 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 47498 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
flag 20940 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 98887 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
flag 19699 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 64601 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
flag 13982 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 45109 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79609 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 24365 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
flag 37195 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 46714 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
flag 46703 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 85058 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
flag 48971 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 99178 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
flag 75426 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 28488 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
term 9 server 1 not vote for server 0, 日志不够新
term 9 server 0 get outdate rpc reply from server 1
flag 85311 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 27494 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
flag 5428 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 94710 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48502 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 86045 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {2931485174316061216 9 40}]
------------------------------------------------------
client write log 3832029866675324904 (index 41) to leader 0
flag 29426 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 16501 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2931485174316061216 9 40} {3832029866675324904 9 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2931485174316061216 9 40} {3832029866675324904 9 41}]
------------------------------------------------------
flag 86667 term 9 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 4912 term 9 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2931485174316061216 9 40} {3832029866675324904 9 41}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2931485174316061216 9 40} {3832029866675324904 9 41}]
------------------------------------------------------
flag 32057 term 9 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 91121 term 9 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2931485174316061216 9 40} {3832029866675324904 9 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2931485174316061216 9 40} {3832029866675324904 9 41}]
------------------------------------------------------
flag 94528 term 9 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 33607 term 9 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2931485174316061216 9 40} {3832029866675324904 9 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2931485174316061216 9 40} {3832029866675324904 9 41}]
------------------------------------------------------
flag 17477 term 9 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 11509 term 9 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2931485174316061216 9 40} {3832029866675324904 9 41}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2931485174316061216 9 40} {3832029866675324904 9 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 42->41
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 41
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
flag 51005 term 9 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {2931485174316061216 9 40} {3832029866675324904 9 41}]
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 41 args.LastIncludedIndex 39
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 7793436096024916685 (index 42) to leader 0
flag 11068 term 9 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 55663 term 9 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {2931485174316061216 9 40} {3832029866675324904 9 41} {7793436096024916685 9 42}]
------------------------------------------------------
flag 50942 term 9 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 64131 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 9 39} {2931485174316061216 9 40} {3832029866675324904 9 41} {7793436096024916685 9 42}]
------------------------------------------------------
client write log 99914717518024835 (index 43) to leader 0
client write log 8045127181426029096 (index 44) to leader 0
client write log 1274705813777126563 (index 45) to leader 0
client write log 115718301546460334 (index 46) to leader 0
client write log 7583013282338127857 (index 47) to leader 0
client write log 1994351254687842297 (index 48) to leader 0
client write log 3485373500776957292 (index 49) to leader 0
client write log 549445110410985057 (index 50) to leader 0
client write log 4482156091808650974 (index 51) to leader 0
client write log 7320378160312370694 (index 52) to leader 0
client write log 5195360646848441413 (index 53) to leader 0
flag 85733 term 9 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 63703 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 39} {2931485174316061216 9 40} {3832029866675324904 9 41} {7793436096024916685 9 42} {99914717518024835 9 43} {8045127181426029096 9 44} {1274705813777126563 9 45} {115718301546460334 9 46} {7583013282338127857 9 47} {1994351254687842297 9 48} {3485373500776957292 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=53
-------------------------------------------------------------
term 9 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 37871 term 9 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=53
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7822302287801806598 (index 54) to leader 0
term 9 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
flag 45345 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 73920 term 9 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 10 server 1 AppendEntries false 领导者任期过期 args.Term 9
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53} {7822302287801806598 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 9 server 2 not vote for server 1, 日志不够新
term 10 server 0 not vote for server 1, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 server 2 vote for server 0
term 12 server 0 get vote from server 2
term 12 server 0 become leader
------------------------------------------------------
term 12 server 1 vote for server 0
term 12 server 0 get outdate rpc reply from server 1
flag 94153 term 12 leader 0 nextIndex[1]: 55  matchIndex[1]: 0
term 12 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 3990 term 12 leader 0 nextIndex[2]: 55  matchIndex[2]: 0
term 12 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53} {7822302287801806598 9 54}]
------------------------------------------------------
term 12 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 55->54
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 leader 0 nextIndex[1]: 42  matchIndex[1]: 0
term 12 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 86302 term 12 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53} {7822302287801806598 9 54}]
------------------------------------------------------
term 12 server 1 InstallSnapshot success
------------------------------------------------------
term 12 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
flag 80360 term 12 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 12 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 32205 term 12 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53} {7822302287801806598 9 54}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53} {7822302287801806598 9 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95874 term 12 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 12 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 95775 term 12 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53} {7822302287801806598 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53} {7822302287801806598 9 54}]
------------------------------------------------------
flag 91353 term 12 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 12 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 95347 term 12 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53} {7822302287801806598 9 54}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53} {7822302287801806598 9 54}]
------------------------------------------------------
flag 5141 term 12 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 12 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 26650 term 12 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53} {7822302287801806598 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53} {7822302287801806598 9 54}]
------------------------------------------------------
flag 66293 term 12 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 12 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 77374 term 12 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53} {7822302287801806598 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53} {7822302287801806598 9 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10403 term 12 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 12 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 25581 term 12 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53} {7822302287801806598 9 54}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53} {7822302287801806598 9 54}]
------------------------------------------------------
flag 71208 term 12 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 12 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 63703 term 12 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53} {7822302287801806598 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53} {7822302287801806598 9 54}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8215895181433538668 (index 55) to leader 0
flag 76701 term 12 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 12 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 74357 term 12 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 12 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53} {7822302287801806598 9 54} {8215895181433538668 12 55}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83734 term 12 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 12 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 68836 term 12 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 12 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 12 leaderCommit: 55 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53} {7822302287801806598 9 54} {8215895181433538668 12 55}]
------------------------------------------------------
client write log 1311050953047710314 (index 56) to leader 0
client write log 583180360785853947 (index 57) to leader 0
client write log 3845946448999897536 (index 58) to leader 0
client write log 9057451809058949314 (index 59) to leader 0
client write log 2130300169502046319 (index 60) to leader 0
client write log 2149225541644268384 (index 61) to leader 0
client write log 6040026417727274439 (index 62) to leader 0
client write log 3010893597873944064 (index 63) to leader 0
client write log 6002176948311392650 (index 64) to leader 0
flag 69292 term 12 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 12 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 17725 term 12 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 12 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 12 leaderCommit: 55 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 49} {549445110410985057 9 50} {4482156091808650974 9 51} {7320378160312370694 9 52} {5195360646848441413 9 53} {7822302287801806598 9 54} {8215895181433538668 12 55} {1311050953047710314 12 56} {583180360785853947 12 57} {3845946448999897536 12 58} {9057451809058949314 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64}]
------------------------------------------------------
term 12 Server0 start snapshot! index=59
term 12 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=64
-------------------------------------------------------------
term 12 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 12 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 12
------------------------------------------------------
flag 84962 term 12 leader 0 nextIndex[2]: 65  matchIndex[2]: 64
term 12 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64}]
------------------------------------------------------
term 12 Server2 start snapshot! index=59
term 12 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=64
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6436022341514611309 (index 65) to leader 0
term 12 server 2 not vote for server 1, 日志不够新
term 12 server 0 not vote for server 1, 日志不够新
term 14 server 2 vote for server 0
term 14 server 0 get vote from server 2
term 14 server 0 become leader
------------------------------------------------------
term 14 server 1 vote for server 0
term 14 server 0 get outdate rpc reply from server 1
flag 41822 term 14 leader 0 nextIndex[1]: 66  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
flag 25238 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 14 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 66->65
------------------------------------------------------
term 14 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 66->65
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 55  matchIndex[1]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 12
------------------------------------------------------
flag 58709 term 14 leader 0 nextIndex[2]: 65  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
term 14 server 1 InstallSnapshot success
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 12 rf.commitIndex 59 rf.lastApplied 59
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56842 term 14 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 14 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
flag 37534 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
flag 26252 term 14 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
flag 93622 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83258 term 14 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
flag 11052 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
flag 97240 term 14 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
flag 62506 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
flag 41185 term 14 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
flag 81873 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
flag 99311 term 14 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
flag 5425 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
flag 64145 term 14 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
flag 49945 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
flag 67498 term 14 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
flag 23368 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59093 term 14 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
flag 62047 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41273 term 14 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
flag 35390 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
flag 37690 term 14 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
flag 52150 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75049 term 14 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
flag 70949 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
flag 64219 term 14 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
flag 27051 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92597 term 14 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
flag 97530 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72550 term 14 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
flag 48339 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
flag 17434 term 14 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
flag 88975 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
flag 4458 term 14 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
flag 9149 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65}]
------------------------------------------------------
flag 2801 term 14 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
flag 34510 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
client write log 6436022341514611309 (index 66) to leader 0
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65} {6436022341514611309 14 66}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65} {6436022341514611309 14 66}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84428 term 14 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
flag 56293 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 12 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65} {6436022341514611309 14 66}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65} {6436022341514611309 14 66}]
------------------------------------------------------
flag 29032 term 14 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
flag 74319 term 14 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65} {6436022341514611309 14 66}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65} {6436022341514611309 14 66}]
------------------------------------------------------
flag 41806 term 14 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
flag 35579 term 14 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65} {6436022341514611309 14 66}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65} {6436022341514611309 14 66}]
------------------------------------------------------
flag 29034 term 14 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
flag 38894 term 14 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65} {6436022341514611309 14 66}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65} {6436022341514611309 14 66}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49661 term 14 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
flag 50461 term 14 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65} {6436022341514611309 14 66}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65} {6436022341514611309 14 66}]
------------------------------------------------------
flag 65199 term 14 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
flag 7333 term 14 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65} {6436022341514611309 14 66}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65} {6436022341514611309 14 66}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 94561 term 14 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
flag 82232 term 14 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51124 term 14 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
flag 27251 term 14 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
flag 85790 term 14 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
flag 55287 term 14 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
term 15 server 1 vote for server 2
term 15 server 2 get vote from server 1
term 15 server 2 become leader
------------------------------------------------------
flag 79314 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
flag 46777 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65} {6436022341514611309 14 66}]
------------------------------------------------------
client write log 1064708616767951598 (index 67) to leader 2
flag 59283 term 14 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
flag 42157 term 14 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
flag 4931 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
flag 73868 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65} {6436022341514611309 14 66} {1064708616767951598 15 67}]
------------------------------------------------------
flag 99299 term 14 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
flag 79392 term 14 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37709 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 67 
------------------------------------------------------
flag 10891 term 15 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65} {6436022341514611309 14 66} {1064708616767951598 15 67}]
------------------------------------------------------
client write log 5776711255695848670 (index 68) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51463 term 14 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
flag 78631 term 14 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 67->66
------------------------------------------------------
flag 12540 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 67 
------------------------------------------------------
flag 18525 term 15 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65} {6436022341514611309 14 66} {1064708616767951598 15 67} {5776711255695848670 15 68}]
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 66
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 12
------------------------------------------------------
flag 96405 term 14 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
flag 83311 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 79900 term 15 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 15 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 15 leaderCommit: 68 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65} {6436022341514611309 14 66} {1064708616767951598 15 67} {5776711255695848670 15 68}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6302318871318481670 (index 69) to leader 2
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 66
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 12
------------------------------------------------------
flag 69552 term 14 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 66 
------------------------------------------------------
term 15 server 2 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 15 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57572 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 47899 term 15 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 15 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 15 leaderCommit: 68 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65} {6436022341514611309 14 66} {1064708616767951598 15 67} {5776711255695848670 15 68} {6302318871318481670 15 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 12 59} {2130300169502046319 12 60} {2149225541644268384 12 61} {6040026417727274439 12 62} {3010893597873944064 12 63} {6002176948311392650 12 64} {6436022341514611309 12 65} {6436022341514611309 14 66} {1064708616767951598 15 67} {5776711255695848670 15 68} {6302318871318481670 15 69}]
------------------------------------------------------
term 15 Server2 start snapshot! index=69
term 15 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 15 server 2 not vote for server 1, 任期不够新
term 15 server 1 get outdate rpc reply from server 2
flag 19859 term 15 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 15 leaderCommit: 69 
------------------------------------------------------
flag 65704 term 15 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 15 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 15 69}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 15 69}]
------------------------------------------------------
term 15 Server0 start snapshot! index=69
term 15 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 15 Server1 start snapshot! index=69
term 15 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
flag 39961 term 15 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 15 leaderCommit: 69 
------------------------------------------------------
flag 22469 term 15 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 15 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 15 69}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 15 69}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10785 term 15 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 15 leaderCommit: 69 
------------------------------------------------------
flag 84217 term 15 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 15 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 15 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 15 69}]
------------------------------------------------------
flag 17 term 15 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 15 leaderCommit: 69 
------------------------------------------------------
flag 37910 term 15 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 15 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 15 69}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 15 69}]
------------------------------------------------------
flag 683 term 15 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 15 leaderCommit: 69 
------------------------------------------------------
flag 90565 term 15 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 15 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 15 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 15 69}]
------------------------------------------------------
flag 24435 term 15 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 15 leaderCommit: 69 
------------------------------------------------------
flag 90475 term 15 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 15 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 15 69}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 15 69}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3119739531614619261 (index 70) to leader 2
flag 1281 term 15 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 15 leaderCommit: 69 
------------------------------------------------------
flag 5382 term 15 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 15 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 15 69} {3119739531614619261 15 70}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33297 term 15 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 75359 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 15 69} {3119739531614619261 15 70}]
------------------------------------------------------
client write log 7880528874743137755 (index 71) to leader 2
client write log 3727256462815935525 (index 72) to leader 2
client write log 94866007952774722 (index 73) to leader 2
client write log 1805713173832922181 (index 74) to leader 2
client write log 8409143567882821431 (index 75) to leader 2
client write log 2240164958833488997 (index 76) to leader 2
client write log 8485011334308438094 (index 77) to leader 2
client write log 4530732484761575132 (index 78) to leader 2
client write log 4112579275589559778 (index 79) to leader 2
client write log 4213663273892334132 (index 80) to leader 2
client write log 108485506219751088 (index 81) to leader 2
flag 11048 term 15 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 13017 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 15 69} {3119739531614619261 15 70} {7880528874743137755 15 71} {3727256462815935525 15 72} {94866007952774722 15 73} {1805713173832922181 15 74} {8409143567882821431 15 75} {2240164958833488997 15 76} {8485011334308438094 15 77} {4530732484761575132 15 78} {4112579275589559778 15 79} {4213663273892334132 15 80} {108485506219751088 15 81}]
------------------------------------------------------
term 15 Server2 start snapshot! index=79
term 15 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=81
-------------------------------------------------------------
term 15 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 15
------------------------------------------------------
flag 75769 term 15 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {4213663273892334132 15 80} {108485506219751088 15 81}]
------------------------------------------------------
term 15 Server1 start snapshot! index=79
term 15 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=81
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8050916997583836089 (index 82) to leader 2
term 15 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 15
------------------------------------------------------
flag 71747 term 15 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 16 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {4213663273892334132 15 80} {108485506219751088 15 81} {8050916997583836089 15 82}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 server 1 vote for server 2
term 17 server 2 get vote from server 1
term 17 server 2 become leader
------------------------------------------------------
term 17 server 0 vote for server 2
term 17 server 2 get outdate rpc reply from server 0
flag 2888 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 82 
------------------------------------------------------
flag 80633 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 82 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
term 17 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {4213663273892334132 15 80} {108485506219751088 15 81} {8050916997583836089 15 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 83->82
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 server 0 not vote for server 1, 任期不够新
term 17 server 1 get outdate rpc reply from server 0
term 17 leader 2 nextIndex[0]: 70  matchIndex[0]: 0
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 15
------------------------------------------------------
flag 46608 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 82 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {4213663273892334132 15 80} {108485506219751088 15 81} {8050916997583836089 15 82}]
------------------------------------------------------
term 17 server 0 InstallSnapshot success
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 15 rf.commitIndex 79 rf.lastApplied 79
flag 34725 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 15 leaderCommit: 82 
------------------------------------------------------
flag 96765 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 82 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {4213663273892334132 15 80} {108485506219751088 15 81} {8050916997583836089 15 82}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {4213663273892334132 15 80} {108485506219751088 15 81} {8050916997583836089 15 82}]
------------------------------------------------------
term 17 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61698 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 82 
------------------------------------------------------
flag 21348 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 82 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {4213663273892334132 15 80} {108485506219751088 15 81} {8050916997583836089 15 82}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {4213663273892334132 15 80} {108485506219751088 15 81} {8050916997583836089 15 82}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85362 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 82 
------------------------------------------------------
flag 72581 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 82 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {4213663273892334132 15 80} {108485506219751088 15 81} {8050916997583836089 15 82}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {4213663273892334132 15 80} {108485506219751088 15 81} {8050916997583836089 15 82}]
------------------------------------------------------
flag 34882 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 82 
------------------------------------------------------
flag 48238 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 82 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {4213663273892334132 15 80} {108485506219751088 15 81} {8050916997583836089 15 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {4213663273892334132 15 80} {108485506219751088 15 81} {8050916997583836089 15 82}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70339 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 82 
------------------------------------------------------
flag 28005 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 82 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {4213663273892334132 15 80} {108485506219751088 15 81} {8050916997583836089 15 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {4213663273892334132 15 80} {108485506219751088 15 81} {8050916997583836089 15 82}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79607 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 82 
------------------------------------------------------
flag 60703 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 82 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {4213663273892334132 15 80} {108485506219751088 15 81} {8050916997583836089 15 82}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {4213663273892334132 15 80} {108485506219751088 15 81} {8050916997583836089 15 82}]
------------------------------------------------------
flag 97160 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 82 
------------------------------------------------------
flag 84325 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 82 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {4213663273892334132 15 80} {108485506219751088 15 81} {8050916997583836089 15 82}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {4213663273892334132 15 80} {108485506219751088 15 81} {8050916997583836089 15 82}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1746200281641657638 (index 83) to leader 2
flag 39119 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 82 
------------------------------------------------------
flag 14945 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 82 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 15 79} {4213663273892334132 15 80} {108485506219751088 15 81} {8050916997583836089 15 82} {1746200281641657638 17 83}]
------------------------------------------------------
flag 12759 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 2704 term 17 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 17 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 15 79} {4213663273892334132 15 80} {108485506219751088 15 81} {8050916997583836089 15 82} {1746200281641657638 17 83}]
------------------------------------------------------
client write log 4851998106589220428 (index 84) to leader 2
client write log 7543060639353947489 (index 85) to leader 2
client write log 5888937634908353187 (index 86) to leader 2
client write log 2136943210124062979 (index 87) to leader 2
client write log 168565387721645152 (index 88) to leader 2
client write log 2461261507875948504 (index 89) to leader 2
client write log 2308004533898573423 (index 90) to leader 2
client write log 401524766990129894 (index 91) to leader 2
client write log 2028965836658149299 (index 92) to leader 2
client write log 2560261601944829890 (index 93) to leader 2
flag 79479 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 52292 term 17 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 17 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 15 79} {4213663273892334132 15 80} {108485506219751088 15 81} {8050916997583836089 15 82} {1746200281641657638 17 83} {4851998106589220428 17 84} {7543060639353947489 17 85} {5888937634908353187 17 86} {2136943210124062979 17 87} {168565387721645152 17 88} {2461261507875948504 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93}]
------------------------------------------------------
term 17 Server2 start snapshot! index=89
term 17 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=93
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 17
------------------------------------------------------
flag 59826 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93}]
------------------------------------------------------
term 17 Server1 start snapshot! index=89
term 17 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=93
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8229978351024333175 (index 94) to leader 2
term 17 server 2 not vote for server 0, 日志不够新
term 17 server 1 not vote for server 0, 日志不够新
term 19 server 1 vote for server 2
term 19 server 2 get vote from server 1
term 19 server 2 become leader
------------------------------------------------------
term 19 server 0 vote for server 2
term 19 server 2 get outdate rpc reply from server 0
flag 19491 term 19 leader 2 nextIndex[0]: 95  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 90156 term 19 leader 2 nextIndex[1]: 95  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 19 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 95->94
------------------------------------------------------
term 19 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 95->94
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 83  matchIndex[0]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 17
------------------------------------------------------
flag 24321 term 19 leader 2 nextIndex[1]: 94  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
term 19 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 17 rf.commitIndex 89 rf.lastApplied 89
term 19 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
flag 36030 term 19 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 19 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 81559 term 19 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
flag 51872 term 19 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 17330 term 19 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
flag 13306 term 19 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 33559 term 19 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83357 term 19 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 35310 term 19 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
flag 90156 term 19 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 40053 term 19 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
flag 27509 term 19 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 86694 term 19 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
flag 19669 term 19 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 33691 term 19 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
flag 76586 term 19 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 45851 term 19 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63486 term 19 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 78348 term 19 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
flag 52113 term 19 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 38321 term 19 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36146 term 19 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 29059 term 19 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
flag 61166 term 19 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 32159 term 19 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40382 term 19 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 97741 term 19 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88245 term 19 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 32342 term 19 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
flag 6345 term 19 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 29996 term 19 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
flag 1311 term 19 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 28998 term 19 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29449 term 19 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 44671 term 19 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
term 19 server 2 not vote for server 0, 任期不够新
term 19 server 0 get outdate rpc reply from server 2
flag 98857 term 19 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 10855 term 19 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=93
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94}]
------------------------------------------------------
client write log 8229978351024333175 (index 95) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94101 term 19 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 62312 term 19 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 19 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94} {8229978351024333175 19 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94} {8229978351024333175 19 95}]
------------------------------------------------------
flag 4900 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 92963 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94} {8229978351024333175 19 95}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94} {8229978351024333175 19 95}]
------------------------------------------------------
flag 11179 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 2694 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94} {8229978351024333175 19 95}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94} {8229978351024333175 19 95}]
------------------------------------------------------
flag 38020 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 86886 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94} {8229978351024333175 19 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94} {8229978351024333175 19 95}]
------------------------------------------------------
flag 25437 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 72226 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94} {8229978351024333175 19 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94} {8229978351024333175 19 95}]
------------------------------------------------------
flag 89615 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 20342 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94} {8229978351024333175 19 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94} {8229978351024333175 19 95}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 20898 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 32876 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 61565 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 26365 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 19 server 1 not vote for server 0, 任期不够新
term 19 server 0 get outdate rpc reply from server 1
flag 52767 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 42217 term 19 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 96->95
------------------------------------------------------
flag 29918 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 95
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 17
------------------------------------------------------
term 20 server 1 vote for server 0
term 20 server 0 get vote from server 1
term 20 server 0 become leader
------------------------------------------------------
flag 73312 term 20 leader 0 nextIndex[1]: 96  matchIndex[1]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 9406 term 20 leader 0 nextIndex[2]: 96  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94} {8229978351024333175 19 95}]
------------------------------------------------------
client write log 2197466942017108438 (index 96) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69796 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 95
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 17
------------------------------------------------------
flag 94440 term 20 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 92735 term 20 leader 0 nextIndex[2]: 96  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94} {8229978351024333175 19 95} {2197466942017108438 20 96}]
------------------------------------------------------
flag 82320 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 95
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 17
------------------------------------------------------
flag 59034 term 20 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 20 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
flag 10251 term 20 leader 0 nextIndex[2]: 96  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94} {8229978351024333175 19 95} {2197466942017108438 20 96}]
------------------------------------------------------
client write log 3399397686218088400 (index 97) to leader 0
client write log 1162387516615647820 (index 98) to leader 0
client write log 93289341719053246 (index 99) to leader 0
client write log 4521409421501696925 (index 100) to leader 0
client write log 461262474274459918 (index 101) to leader 0
client write log 7355756153673330047 (index 102) to leader 0
client write log 8137289180918586183 (index 103) to leader 0
client write log 2323295812988260900 (index 104) to leader 0
client write log 2679784386529518930 (index 105) to leader 0
client write log 5236625282685644531 (index 106) to leader 0
client write log 1011433656297277023 (index 107) to leader 0
client write log 7377250191473217247 (index 108) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64333 term 19 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 19 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 95
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 17
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 96->95
------------------------------------------------------
flag 6451 term 20 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 20 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
flag 46721 term 20 leader 0 nextIndex[2]: 96  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 17 89} {2308004533898573423 17 90} {401524766990129894 17 91} {2028965836658149299 17 92} {2560261601944829890 17 93} {8229978351024333175 17 94} {8229978351024333175 19 95} {2197466942017108438 20 96} {3399397686218088400 20 97} {1162387516615647820 20 98} {93289341719053246 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
term 20 Server0 start snapshot! index=99
term 20 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=108
-------------------------------------------------------------
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 95
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 17
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 95
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 17
------------------------------------------------------
flag 54758 term 20 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 20 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 20 leader 0 nextIndex[2]: 96  matchIndex[2]: 0
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
term 20 Server1 start snapshot! index=99
term 20 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=108
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 96->95
------------------------------------------------------
!!!!!!connect server 2
client write log 1270173506900264781 (index 96) to leader 2
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 95
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 17
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 95
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 17
------------------------------------------------------
term 20 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62912 term 20 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 20 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 20 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 2 InstallSnapshot success
------------------------------------------------------
term 20 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 20 rf.commitIndex 99 rf.lastApplied 99
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
term 20 server 1 not vote for server 2, 日志不够新
term 20 server 0 not vote for server 2, 日志不够新
term 22 server 2 vote for server 0
term 22 server 1 vote for server 0
term 22 server 0 get vote from server 2
term 22 server 0 become leader
------------------------------------------------------
term 22 server 0 get outdate rpc reply from server 1
flag 29782 term 22 leader 0 nextIndex[1]: 109  matchIndex[1]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 28007 term 22 leader 0 nextIndex[2]: 109  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 22 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 109->108
------------------------------------------------------
flag 78733 term 22 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 24491 term 22 leader 0 nextIndex[2]: 100  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
flag 17140 term 22 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 58213 term 22 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
flag 73669 term 22 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 98273 term 22 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8882 term 22 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 59458 term 22 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
term 22 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32541 term 22 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 39084 term 22 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
flag 98803 term 22 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 6961 term 22 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
flag 91040 term 22 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 54758 term 22 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
term 22 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84601 term 22 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 74903 term 22 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
flag 16200 term 22 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 10740 term 22 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
term 22 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4308 term 22 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 53336 term 22 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64115 term 22 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 19486 term 22 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
flag 13021 term 22 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 72221 term 22 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
term 22 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36967 term 22 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 28293 term 22 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
flag 56270 term 22 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 42095 term 22 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
flag 44212 term 22 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 92927 term 22 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
flag 87432 term 22 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 53118 term 22 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
flag 84623 term 22 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 95278 term 22 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 22 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77579 term 22 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 67080 term 22 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108}]
------------------------------------------------------
client write log 1270173506900264781 (index 109) to leader 0
flag 92172 term 22 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 32567 term 22 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 22 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108} {1270173506900264781 22 109}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 20 99} {4521409421501696925 20 100} {461262474274459918 20 101} {7355756153673330047 20 102} {8137289180918586183 20 103} {2323295812988260900 20 104} {2679784386529518930 20 105} {5236625282685644531 20 106} {1011433656297277023 20 107} {7377250191473217247 20 108} {1270173506900264781 22 109}]
------------------------------------------------------
term 22 Server0 start snapshot! index=109
term 22 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
flag 49980 term 22 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 22 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 22 leaderCommit: 109 
------------------------------------------------------
flag 58089 term 22 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 22 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 22 leaderCommit: 109 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 22 109}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 22 109}]
------------------------------------------------------
term 22 Server1 start snapshot! index=109
term 22 Server2 start snapshot! index=109
term 22 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
term 22 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54940 term 22 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 22 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 22 leaderCommit: 109 
------------------------------------------------------
flag 96775 term 22 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 22 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 22 leaderCommit: 109 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 22 109}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 22 109}]
------------------------------------------------------
flag 38117 term 22 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 22 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 22 leaderCommit: 109 
------------------------------------------------------
flag 42641 term 22 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 22 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 22 leaderCommit: 109 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 22 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 22 109}]
------------------------------------------------------
term 22 server 0 not vote for server 2, 任期不够新
term 22 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8199 term 22 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 22 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 22 leaderCommit: 109 
------------------------------------------------------
flag 46939 term 22 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 22 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 22 leaderCommit: 109 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 22 109}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 22 109}]
------------------------------------------------------
flag 45009 term 22 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 22 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 22 leaderCommit: 109 
------------------------------------------------------
flag 9419 term 22 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 22 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 22 leaderCommit: 109 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 22 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 22 109}]
------------------------------------------------------
flag 330 term 22 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 22 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 22 leaderCommit: 109 
------------------------------------------------------
flag 13452 term 22 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 22 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 22 leaderCommit: 109 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 22 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 22 109}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1792616643735576279 (index 110) to leader 0
flag 64545 term 22 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 22 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 22 leaderCommit: 109 
------------------------------------------------------
flag 74612 term 22 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 22 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 22 leaderCommit: 109 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 22 109} {1792616643735576279 22 110}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14539 term 22 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 22 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 22 leaderCommit: 110 
------------------------------------------------------
flag 1064 term 22 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 22 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 22 leaderCommit: 110 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 22 109} {1792616643735576279 22 110}]
------------------------------------------------------
client write log 6942069351672843341 (index 111) to leader 0
client write log 4447717715112114540 (index 112) to leader 0
client write log 9140243648975686486 (index 113) to leader 0
client write log 8173913514381591119 (index 114) to leader 0
client write log 752495438252601037 (index 115) to leader 0
client write log 8021977020229152610 (index 116) to leader 0
client write log 3733113822908002551 (index 117) to leader 0
client write log 1048443381185903043 (index 118) to leader 0
client write log 15825665922730314 (index 119) to leader 0
client write log 1935477267395770023 (index 120) to leader 0
client write log 12314349224127878 (index 121) to leader 0
client write log 2568584726952964449 (index 122) to leader 0
client write log 7518636415950922252 (index 123) to leader 0
client write log 3508219976642270847 (index 124) to leader 0
flag 30758 term 22 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 22 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 22 leaderCommit: 110 
------------------------------------------------------
flag 25282 term 22 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 22 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 22 leaderCommit: 110 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 22 109} {1792616643735576279 22 110} {6942069351672843341 22 111} {4447717715112114540 22 112} {9140243648975686486 22 113} {8173913514381591119 22 114} {752495438252601037 22 115} {8021977020229152610 22 116} {3733113822908002551 22 117} {1048443381185903043 22 118} {15825665922730314 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124}]
------------------------------------------------------
term 22 Server0 start snapshot! index=119
term 22 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=124
-------------------------------------------------------------
term 22 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
flag 26968 term 22 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 22 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124}]
------------------------------------------------------
term 22 Server2 start snapshot! index=119
term 22 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=124
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2575756051683823180 (index 125) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 110->109
------------------------------------------------------
term 22 leader 0 nextIndex[1]: 0  matchIndex[1]: 109
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
flag 20923 term 22 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 22 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 2 vote for server 0
term 24 server 1 vote for server 0
term 24 server 0 get vote from server 2
term 24 server 0 become leader
------------------------------------------------------
term 24 server 0 get outdate rpc reply from server 1
flag 70932 term 24 leader 0 nextIndex[1]: 126  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
flag 92099 term 24 leader 0 nextIndex[2]: 126  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 24 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 126->125
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 110  matchIndex[1]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
flag 84062 term 24 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 24 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 22 rf.commitIndex 119 rf.lastApplied 119
flag 15417 term 24 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 24 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
flag 65561 term 24 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
flag 11333 term 24 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
flag 61424 term 24 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
flag 89879 term 24 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
flag 93228 term 24 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 2 not vote for server 1, 任期不够新
term 24 server 1 get outdate rpc reply from server 2
flag 29307 term 24 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
flag 59871 term 24 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
flag 93143 term 24 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
flag 97699 term 24 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
flag 12169 term 24 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
flag 26002 term 24 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
flag 69949 term 24 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
flag 83137 term 24 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
flag 3585 term 24 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
flag 80510 term 24 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30653 term 24 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
flag 75558 term 24 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
flag 86228 term 24 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
flag 73643 term 24 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
flag 2240 term 24 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
flag 30290 term 24 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
flag 18034 term 24 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
flag 69756 term 24 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
flag 78518 term 24 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
flag 85033 term 24 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
term 24 server 2 not vote for server 0, 任期不够新
term 24 server 0 get outdate rpc reply from server 2
flag 55077 term 24 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
flag 9874 term 24 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
flag 61283 term 24 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
flag 87067 term 24 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
flag 96840 term 24 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
flag 87278 term 24 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125}]
------------------------------------------------------
client write log 2575756051683823180 (index 126) to leader 0
flag 15865 term 24 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
flag 2563 term 24 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 24 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125} {2575756051683823180 24 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125} {2575756051683823180 24 126}]
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69211 term 24 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 24 leaderCommit: 126 
------------------------------------------------------
flag 47935 term 24 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 24 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 24 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125} {2575756051683823180 24 126}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125} {2575756051683823180 24 126}]
------------------------------------------------------
term 24 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96810 term 24 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 24 leaderCommit: 126 
------------------------------------------------------
flag 98267 term 24 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 24 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 24 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125} {2575756051683823180 24 126}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125} {2575756051683823180 24 126}]
------------------------------------------------------
flag 52076 term 24 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 24 leaderCommit: 126 
------------------------------------------------------
flag 49687 term 24 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 24 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 24 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125} {2575756051683823180 24 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125} {2575756051683823180 24 126}]
------------------------------------------------------
flag 39724 term 24 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 24 leaderCommit: 126 
------------------------------------------------------
flag 49134 term 24 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 24 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 24 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125} {2575756051683823180 24 126}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125} {2575756051683823180 24 126}]
------------------------------------------------------
flag 40586 term 24 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 24 leaderCommit: 126 
------------------------------------------------------
flag 17585 term 24 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 24 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 24 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125} {2575756051683823180 24 126}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125} {2575756051683823180 24 126}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4622838664397223914 (index 127) to leader 0
flag 78512 term 24 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 24 leaderCommit: 126 
------------------------------------------------------
flag 21666 term 24 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 24 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 24 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125} {2575756051683823180 24 126} {4622838664397223914 24 127}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89042 term 24 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 65146 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125} {2575756051683823180 24 126} {4622838664397223914 24 127}]
------------------------------------------------------
client write log 5861490911989923291 (index 128) to leader 0
client write log 2435676111763564158 (index 129) to leader 0
client write log 393718734269169497 (index 130) to leader 0
client write log 5589820124068892913 (index 131) to leader 0
client write log 3861008567833837192 (index 132) to leader 0
client write log 4320746196660336729 (index 133) to leader 0
client write log 8012233568911013648 (index 134) to leader 0
client write log 7241056340316020916 (index 135) to leader 0
client write log 7551997741855295288 (index 136) to leader 0
client write log 4838557168965218570 (index 137) to leader 0
client write log 8726979112632915985 (index 138) to leader 0
client write log 3240730530929311959 (index 139) to leader 0
client write log 1470937465709113584 (index 140) to leader 0
term 24 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32288 term 24 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 73730 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 22 119} {1935477267395770023 22 120} {12314349224127878 22 121} {2568584726952964449 22 122} {7518636415950922252 22 123} {3508219976642270847 22 124} {2575756051683823180 22 125} {2575756051683823180 24 126} {4622838664397223914 24 127} {5861490911989923291 24 128} {2435676111763564158 24 129} {393718734269169497 24 130} {5589820124068892913 24 131} {3861008567833837192 24 132} {4320746196660336729 24 133} {8012233568911013648 24 134} {7241056340316020916 24 135} {7551997741855295288 24 136} {4838557168965218570 24 137} {8726979112632915985 24 138} {3240730530929311959 24 139} {1470937465709113584 24 140}]
------------------------------------------------------
term 24 Server0 start snapshot! index=129
term 24 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=140
-------------------------------------------------------------
term 24 Server0 start snapshot! index=139
term 24 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=140
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
flag 24433 term 24 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 24 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140}]
------------------------------------------------------
term 24 Server2 start snapshot! index=129
term 24 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=140
-------------------------------------------------------------
term 24 Server2 start snapshot! index=139
term 24 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=140
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8257869956784205946 (index 141) to leader 0
term 24 server 2 not vote for server 1, 日志不够新
term 24 server 0 not vote for server 1, 日志不够新
term 26 server 2 vote for server 0
term 26 server 0 get vote from server 2
term 26 server 1 vote for server 0
term 26 server 0 become leader
------------------------------------------------------
term 26 server 0 get outdate rpc reply from server 1
flag 83325 term 26 leader 0 nextIndex[1]: 142  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 45571 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 26 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 142->141
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 142->141
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 127  matchIndex[1]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
flag 79289 term 26 leader 0 nextIndex[2]: 141  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 26 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 24 rf.commitIndex 139 rf.lastApplied 139
term 26 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
flag 53613 term 26 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 26 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 6834 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
flag 15876 term 26 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 48776 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93466 term 26 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 544 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
flag 22396 term 26 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 80751 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
flag 96272 term 26 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 37790 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
flag 2658 term 26 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 54602 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
term 26 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
flag 40607 term 26 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 82355 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67054 term 26 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 79492 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
flag 80473 term 26 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 15464 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
flag 19504 term 26 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 8808 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
flag 72905 term 26 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 25055 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52728 term 26 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 46818 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:140 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
flag 29410 term 26 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 709 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17281 term 26 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 83779 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
flag 66997 term 26 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 68190 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
flag 82992 term 26 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 69276 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54082 term 26 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 88574 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 26 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
update nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141}]
------------------------------------------------------
client write log 8257869956784205946 (index 142) to leader 0
flag 91317 term 26 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 53448 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142}]
------------------------------------------------------
flag 40382 term 26 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 87518 term 26 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142}]
------------------------------------------------------
flag 86259 term 26 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 59433 term 26 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142}]
------------------------------------------------------
flag 46394 term 26 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 49577 term 26 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142}]
------------------------------------------------------
flag 66179 term 26 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 65516 term 26 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142}]
------------------------------------------------------
flag 72380 term 26 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 5355 term 26 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142}]
------------------------------------------------------
flag 19932 term 26 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 73117 term 26 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 99423 term 26 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 14128 term 26 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10844 term 26 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 11544 term 26 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 91034 term 26 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 27778 term 26 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 66304 term 26 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 76576 term 26 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
term 27 server 1 vote for server 2
term 27 server 2 get vote from server 1
term 27 server 2 become leader
------------------------------------------------------
client write log 5972264422092261906 (index 143) to leader 2
flag 29560 term 27 leader 2 nextIndex[0]: 143  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 56364 term 27 leader 2 nextIndex[1]: 143  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142} {5972264422092261906 27 143}]
------------------------------------------------------
flag 64402 term 26 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 43102 term 26 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 27849 term 27 leader 2 nextIndex[0]: 143  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 143 
------------------------------------------------------
flag 92049 term 27 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 27 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142} {5972264422092261906 27 143}]
------------------------------------------------------
client write log 5807382147304946490 (index 144) to leader 2
flag 12239 term 26 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 91979 term 26 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 9610 term 27 leader 2 nextIndex[0]: 143  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 143 
------------------------------------------------------
flag 88895 term 27 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 27 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142} {5972264422092261906 27 143} {5807382147304946490 27 144}]
------------------------------------------------------
flag 32803 term 26 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 71551 term 26 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 30586 term 27 leader 2 nextIndex[0]: 143  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 144 
------------------------------------------------------
flag 45526 term 27 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142} {5972264422092261906 27 143} {5807382147304946490 27 144}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2917315909381177912 (index 145) to leader 2
flag 80394 term 26 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 43333 term 26 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
term 27 server 1 AppendEntries false 领导者任期过期 args.Term 26
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 27 server 2 AppendEntries false 领导者任期过期 args.Term 26
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62647 term 27 leader 2 nextIndex[0]: 143  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 144 
------------------------------------------------------
flag 99608 term 27 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142} {5972264422092261906 27 143} {5807382147304946490 27 144} {2917315909381177912 27 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142} {5972264422092261906 27 143} {5807382147304946490 27 144} {2917315909381177912 27 145}]
------------------------------------------------------
flag 38304 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 86943 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142} {5972264422092261906 27 143} {5807382147304946490 27 144} {2917315909381177912 27 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142} {5972264422092261906 27 143} {5807382147304946490 27 144} {2917315909381177912 27 145}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37162 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 15612 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142} {5972264422092261906 27 143} {5807382147304946490 27 144} {2917315909381177912 27 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142} {5972264422092261906 27 143} {5807382147304946490 27 144} {2917315909381177912 27 145}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13737 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 76689 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142} {5972264422092261906 27 143} {5807382147304946490 27 144} {2917315909381177912 27 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142} {5972264422092261906 27 143} {5807382147304946490 27 144} {2917315909381177912 27 145}]
------------------------------------------------------
flag 21909 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 63981 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142} {5972264422092261906 27 143} {5807382147304946490 27 144} {2917315909381177912 27 145}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142} {5972264422092261906 27 143} {5807382147304946490 27 144} {2917315909381177912 27 145}]
------------------------------------------------------
flag 10973 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 31960 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142} {5972264422092261906 27 143} {5807382147304946490 27 144} {2917315909381177912 27 145}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142} {5972264422092261906 27 143} {5807382147304946490 27 144} {2917315909381177912 27 145}]
------------------------------------------------------
flag 42004 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 63382 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142} {5972264422092261906 27 143} {5807382147304946490 27 144} {2917315909381177912 27 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142} {5972264422092261906 27 143} {5807382147304946490 27 144} {2917315909381177912 27 145}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7114214715335866700 (index 146) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64547 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 43736 term 27 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142} {5972264422092261906 27 143} {5807382147304946490 27 144} {2917315909381177912 27 145} {7114214715335866700 27 146}]
------------------------------------------------------
flag 16126 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 56655 term 27 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 27 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142} {5972264422092261906 27 143} {5807382147304946490 27 144} {2917315909381177912 27 145} {7114214715335866700 27 146}]
------------------------------------------------------
client write log 8193952035540525518 (index 147) to leader 2
client write log 8800863429488182393 (index 148) to leader 2
client write log 7505267437893190152 (index 149) to leader 2
client write log 1127929953793559102 (index 150) to leader 2
client write log 9108322680854813472 (index 151) to leader 2
client write log 857861835574554567 (index 152) to leader 2
client write log 1167259620314066619 (index 153) to leader 2
flag 96629 term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 8923 term 27 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 27 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 139} {1470937465709113584 24 140} {8257869956784205946 24 141} {8257869956784205946 26 142} {5972264422092261906 27 143} {5807382147304946490 27 144} {2917315909381177912 27 145} {7114214715335866700 27 146} {8193952035540525518 27 147} {8800863429488182393 27 148} {7505267437893190152 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153}]
------------------------------------------------------
term 27 Server2 start snapshot! index=149
term 27 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=153
-------------------------------------------------------------
term 27 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
flag 97426 term 27 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 27 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153}]
------------------------------------------------------
term 27 Server1 start snapshot! index=149
term 27 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=153
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 146->145
------------------------------------------------------
!!!!!!connect server 0
client write log 1853487993966148528 (index 154) to leader 2
term 27 leader 2 nextIndex[0]: 0  matchIndex[0]: 145
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
flag 84395 term 27 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 27 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153} {1853487993966148528 27 154}]
------------------------------------------------------
term 28 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 server 0 vote for server 2
term 29 server 2 get vote from server 0
term 29 server 1 vote for server 2
term 29 server 2 become leader
------------------------------------------------------
term 29 server 2 get outdate rpc reply from server 1
flag 38676 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 154 
------------------------------------------------------
flag 77273 term 29 leader 2 nextIndex[1]: 155  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 154 
------------------------------------------------------
term 29 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 155->154
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153} {1853487993966148528 27 154}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 2 nextIndex[0]: 146  matchIndex[0]: 0
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
flag 23633 term 29 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 154 
------------------------------------------------------
term 29 server 0 InstallSnapshot success
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot success
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 27 rf.commitIndex 149 rf.lastApplied 149
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153} {1853487993966148528 27 154}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38918 term 29 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 29 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 154 
------------------------------------------------------
flag 62495 term 29 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 154 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153} {1853487993966148528 27 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153} {1853487993966148528 27 154}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69109 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 154 
------------------------------------------------------
flag 9429 term 29 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 154 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153} {1853487993966148528 27 154}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153} {1853487993966148528 27 154}]
------------------------------------------------------
flag 38057 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 154 
------------------------------------------------------
flag 56672 term 29 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 154 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153} {1853487993966148528 27 154}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153} {1853487993966148528 27 154}]
------------------------------------------------------
flag 27555 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 154 
------------------------------------------------------
flag 82077 term 29 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 154 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153} {1853487993966148528 27 154}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153} {1853487993966148528 27 154}]
------------------------------------------------------
term 29 server 0 not vote for server 2, 任期不够新
term 29 server 2 get outdate rpc reply from server 0
flag 53995 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 154 
------------------------------------------------------
flag 44858 term 29 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 154 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153} {1853487993966148528 27 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153} {1853487993966148528 27 154}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86283 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 154 
------------------------------------------------------
flag 10980 term 29 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 154 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153} {1853487993966148528 27 154}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153} {1853487993966148528 27 154}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97610 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 154 
------------------------------------------------------
flag 29936 term 29 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 154 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153} {1853487993966148528 27 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153} {1853487993966148528 27 154}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8312461932730731383 (index 155) to leader 2
flag 9793 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 154 
------------------------------------------------------
flag 88615 term 29 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 154 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153} {1853487993966148528 27 154} {8312461932730731383 29 155}]
------------------------------------------------------
flag 91841 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 155 
------------------------------------------------------
flag 26195 term 29 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 29 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 29 leaderCommit: 155 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153} {1853487993966148528 27 154} {8312461932730731383 29 155}]
------------------------------------------------------
client write log 5758303525211217837 (index 156) to leader 2
client write log 8927863249436359338 (index 157) to leader 2
client write log 6875792430574088144 (index 158) to leader 2
client write log 2045849154376861858 (index 159) to leader 2
client write log 4254073046854459152 (index 160) to leader 2
client write log 7604319368157222274 (index 161) to leader 2
client write log 9118910612213142583 (index 162) to leader 2
client write log 4704494205430214181 (index 163) to leader 2
client write log 2335621507913958538 (index 164) to leader 2
client write log 8993203157815627043 (index 165) to leader 2
client write log 653884869984178814 (index 166) to leader 2
client write log 662511494165483127 (index 167) to leader 2
client write log 4055828108047722423 (index 168) to leader 2
client write log 1077283036490792698 (index 169) to leader 2
flag 86216 term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 155 
------------------------------------------------------
flag 58003 term 29 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 29 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 29 leaderCommit: 155 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 149} {1127929953793559102 27 150} {9108322680854813472 27 151} {857861835574554567 27 152} {1167259620314066619 27 153} {1853487993966148528 27 154} {8312461932730731383 29 155} {5758303525211217837 29 156} {8927863249436359338 29 157} {6875792430574088144 29 158} {2045849154376861858 29 159} {4254073046854459152 29 160} {7604319368157222274 29 161} {9118910612213142583 29 162} {4704494205430214181 29 163} {2335621507913958538 29 164} {8993203157815627043 29 165} {653884869984178814 29 166} {662511494165483127 29 167} {4055828108047722423 29 168} {1077283036490792698 29 169}]
------------------------------------------------------
term 29 Server2 start snapshot! index=159
term 29 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=169
-------------------------------------------------------------
term 29 Server2 start snapshot! index=169
term 29 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
term 29 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
flag 37156 term 29 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 29 Server1 start snapshot! index=159
term 29 server1 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=169
-------------------------------------------------------------
term 29 Server1 start snapshot! index=169
term 29 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1945165073170215358 (index 170) to leader 2
term 29 server 2 not vote for server 0, 日志不够新
term 29 server 1 not vote for server 0, 日志不够新
term 31 server 1 vote for server 2
term 31 server 0 vote for server 2
term 31 server 2 get vote from server 1
term 31 server 2 become leader
------------------------------------------------------
term 31 server 2 get outdate rpc reply from server 0
flag 63625 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 15980 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 171->170
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 171->170
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 155  matchIndex[0]: 0
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
flag 76336 term 31 leader 2 nextIndex[1]: 170  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
term 31 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 29 rf.commitIndex 169 rf.lastApplied 169
term 31 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44806 term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 62748 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82578 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 64481 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
flag 55263 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 31152 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52590 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 82133 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
flag 2037 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 45837 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47063 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 11787 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
flag 62083 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 92682 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
flag 132 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 27489 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
term 31 server 0 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 0
flag 27752 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 86847 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16552 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 29258 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89276 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 42954 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
flag 45866 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 9573 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
term 31 server 1 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 1
flag 17257 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 1152 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
flag 66333 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 57435 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
term 31 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
flag 42819 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 99472 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
flag 17756 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 89621 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
flag 61550 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 62008 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 29 169} {1945165073170215358 29 170}]
------------------------------------------------------
client write log 1945165073170215358 (index 171) to leader 2
flag 89452 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 92046 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 29 169} {1945165073170215358 29 170} {1945165073170215358 31 171}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 29 169} {1945165073170215358 29 170} {1945165073170215358 31 171}]
------------------------------------------------------
flag 11371 term 31 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 86479 term 31 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 29 169} {1945165073170215358 29 170} {1945165073170215358 31 171}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 29 169} {1945165073170215358 29 170} {1945165073170215358 31 171}]
------------------------------------------------------
flag 40349 term 31 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 65732 term 31 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 29 169} {1945165073170215358 29 170} {1945165073170215358 31 171}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 29 169} {1945165073170215358 29 170} {1945165073170215358 31 171}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79730 term 31 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 97636 term 31 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 29 169} {1945165073170215358 29 170} {1945165073170215358 31 171}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 29 169} {1945165073170215358 29 170} {1945165073170215358 31 171}]
------------------------------------------------------
flag 99031 term 31 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 2460 term 31 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 29 169} {1945165073170215358 29 170} {1945165073170215358 31 171}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 29 169} {1945165073170215358 29 170} {1945165073170215358 31 171}]
------------------------------------------------------
flag 76032 term 31 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 87018 term 31 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 29 169} {1945165073170215358 29 170} {1945165073170215358 31 171}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 29 169} {1945165073170215358 29 170} {1945165073170215358 31 171}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94930 term 31 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 87263 term 31 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 29 169} {1945165073170215358 29 170} {1945165073170215358 31 171}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 29 169} {1945165073170215358 29 170} {1945165073170215358 31 171}]
------------------------------------------------------
!!!!!!diconnect server 2
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51181 term 31 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 29382 term 31 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 1666 term 31 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 72431 term 31 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73861 term 31 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 20908 term 31 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
term 32 server 1 vote for server 0
term 32 server 0 get vote from server 1
term 32 server 0 become leader
------------------------------------------------------
flag 36790 term 32 leader 0 nextIndex[1]: 172  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 55270 term 32 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 29 169} {1945165073170215358 29 170} {1945165073170215358 31 171}]
------------------------------------------------------
flag 70971 term 31 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 14667 term 31 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
client write log 689728155258639182 (index 172) to leader 0
flag 33134 term 32 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 32 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 1355 term 32 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 29 169} {1945165073170215358 29 170} {1945165073170215358 31 171} {689728155258639182 32 172}]
------------------------------------------------------
flag 6673 term 31 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 26424 term 31 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 15258 term 32 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 32 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 32 leaderCommit: 172 
------------------------------------------------------
flag 11286 term 32 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 29 169} {1945165073170215358 29 170} {1945165073170215358 31 171} {689728155258639182 32 172}]
------------------------------------------------------
client write log 8131202895454813589 (index 173) to leader 0
client write log 8344447889307722088 (index 174) to leader 0
client write log 1335462415338103870 (index 175) to leader 0
client write log 3023585973150610049 (index 176) to leader 0
client write log 6506621364168563757 (index 177) to leader 0
client write log 3163328533598549833 (index 178) to leader 0
client write log 4799769227675502806 (index 179) to leader 0
client write log 4050465403988960147 (index 180) to leader 0
client write log 4927387956901953645 (index 181) to leader 0
client write log 6541236532239490615 (index 182) to leader 0
client write log 669005113201928872 (index 183) to leader 0
client write log 7614608350925075280 (index 184) to leader 0
client write log 6840847700411132863 (index 185) to leader 0
flag 61997 term 31 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 31438 term 31 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 92138 term 32 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 32 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 32 leaderCommit: 172 
------------------------------------------------------
flag 13783 term 32 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 169} {1945165073170215358 29 170} {1945165073170215358 31 171} {689728155258639182 32 172} {8131202895454813589 32 173} {8344447889307722088 32 174} {1335462415338103870 32 175} {3023585973150610049 32 176} {6506621364168563757 32 177} {3163328533598549833 32 178} {4799769227675502806 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
term 32 Server0 start snapshot! index=179
term 32 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=185
-------------------------------------------------------------
flag 4953 term 31 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 37487 term 31 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 78321 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
term 32 Server1 start snapshot! index=179
term 32 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=185
-------------------------------------------------------------
flag 84341 term 31 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
flag 76063 term 31 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
!!!!!!connect server 2
client write log 4908313883803205495 (index 172) to leader 2
flag 71439 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 2 InstallSnapshot success
------------------------------------------------------
term 32 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 32 rf.commitIndex 179 rf.lastApplied 179
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12667 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 67559 term 32 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22529 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 27990 term 32 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
flag 71619 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 2861 term 32 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
flag 92837 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 72466 term 32 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
flag 96021 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 6922 term 32 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
flag 8366 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 12917 term 32 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8332 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 37743 term 32 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
flag 70525 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 4399 term 32 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
flag 50363 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 9501 term 32 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
flag 34601 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 12010 term 32 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
flag 19657 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 40297 term 32 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30640 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 61941 term 32 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10794 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 32514 term 32 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
flag 11881 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 41360 term 32 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
flag 95950 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 58893 term 32 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
flag 60249 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 9054 term 32 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
flag 80883 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 30628 term 32 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 186->185
------------------------------------------------------
flag 88321 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 leader 0 nextIndex[2]: 0  matchIndex[2]: 185
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 2 InstallSnapshot fail
rf.commitIndex 185 args.LastIncludedIndex 179
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
term 32 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52760 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 7084 term 32 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185}]
------------------------------------------------------
client write log 4908313883803205495 (index 186) to leader 0
term 32 server 2 not vote for server 0, 任期不够新
term 32 server 0 get outdate rpc reply from server 2
flag 33185 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 93185 term 32 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185} {4908313883803205495 32 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185} {4908313883803205495 32 186}]
------------------------------------------------------
flag 18842 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 53946 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185} {4908313883803205495 32 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185} {4908313883803205495 32 186}]
------------------------------------------------------
flag 70203 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 80457 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185} {4908313883803205495 32 186}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185} {4908313883803205495 32 186}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40462 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 8933 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185} {4908313883803205495 32 186}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185} {4908313883803205495 32 186}]
------------------------------------------------------
term 32 server 2 not vote for server 0, 日志不够新
term 32 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 187->186
------------------------------------------------------
flag 97826 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 32 leader 0 nextIndex[2]: 0  matchIndex[2]: 186
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 2 InstallSnapshot fail
rf.commitIndex 186 args.LastIncludedIndex 179
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
term 32 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185} {4908313883803205495 32 186}]
------------------------------------------------------
flag 66421 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 96658 term 32 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185} {4908313883803205495 32 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185} {4908313883803205495 32 186}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4292943386767765342 (index 187) to leader 0
flag 30582 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 41043 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185} {4908313883803205495 32 186} {4292943386767765342 32 187}]
------------------------------------------------------
flag 94349 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 14593 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185} {4908313883803205495 32 186} {4292943386767765342 32 187}]
------------------------------------------------------
client write log 273986396680242745 (index 188) to leader 0
client write log 7851218643373712885 (index 189) to leader 0
client write log 2604744931639312812 (index 190) to leader 0
client write log 8070254058798219926 (index 191) to leader 0
client write log 4328810692419709608 (index 192) to leader 0
client write log 70389703035835265 (index 193) to leader 0
client write log 427280565246820582 (index 194) to leader 0
client write log 6978773498898957021 (index 195) to leader 0
client write log 812361594878690678 (index 196) to leader 0
client write log 6115293602364754197 (index 197) to leader 0
client write log 6489970516487468800 (index 198) to leader 0
client write log 6844306920025782316 (index 199) to leader 0
client write log 8372841418396267498 (index 200) to leader 0
flag 81037 term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 22501 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 179} {4050465403988960147 32 180} {4927387956901953645 32 181} {6541236532239490615 32 182} {669005113201928872 32 183} {7614608350925075280 32 184} {6840847700411132863 32 185} {4908313883803205495 32 186} {4292943386767765342 32 187} {273986396680242745 32 188} {7851218643373712885 32 189} {2604744931639312812 32 190} {8070254058798219926 32 191} {4328810692419709608 32 192} {70389703035835265 32 193} {427280565246820582 32 194} {6978773498898957021 32 195} {812361594878690678 32 196} {6115293602364754197 32 197} {6489970516487468800 32 198} {6844306920025782316 32 199} {8372841418396267498 32 200}]
------------------------------------------------------
term 32 Server0 start snapshot! index=189
term 32 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=200
-------------------------------------------------------------
term 32 Server0 start snapshot! index=199
term 32 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=200
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 58185 term 32 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 32 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200}]
------------------------------------------------------
term 32 Server2 start snapshot! index=189
term 32 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=200
-------------------------------------------------------------
term 32 Server2 start snapshot! index=199
term 32 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=200
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8359327726591194727 (index 201) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 2 not vote for server 1, 日志不够新
term 32 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 1 vote for server 0
term 34 server 2 vote for server 0
term 34 server 0 get vote from server 1
term 34 server 0 become leader
------------------------------------------------------
term 34 server 0 get outdate rpc reply from server 2
flag 97455 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 69036 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 202->201
------------------------------------------------------
term 34 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 202->201
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 187  matchIndex[1]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 19076 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
term 34 server 1 InstallSnapshot success
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 32 rf.commitIndex 199 rf.lastApplied 199
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7783 term 34 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 34 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 43924 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
flag 8078 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 52191 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
flag 91860 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 44834 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
flag 9609 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 82221 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
flag 72126 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 70794 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
flag 50060 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 24340 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
flag 10907 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 45805 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15163 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 39926 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
flag 71665 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 38775 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
flag 907 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 24051 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31391 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 86591 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
flag 86711 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 95993 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
flag 95559 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 33942 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48248 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 4814 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
flag 85502 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 53523 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
flag 54369 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 73274 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78842 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 85820 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8359327726591194727 (index 202) to leader 0
flag 69680 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
flag 23099 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 32 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201} {8359327726591194727 34 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201} {8359327726591194727 34 202}]
------------------------------------------------------
flag 96694 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
flag 19702 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201} {8359327726591194727 34 202}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201} {8359327726591194727 34 202}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32512 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
flag 18523 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201} {8359327726591194727 34 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201} {8359327726591194727 34 202}]
------------------------------------------------------
flag 37790 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
flag 81238 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201} {8359327726591194727 34 202}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201} {8359327726591194727 34 202}]
------------------------------------------------------
flag 64795 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
flag 46582 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201} {8359327726591194727 34 202}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201} {8359327726591194727 34 202}]
------------------------------------------------------
flag 19565 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
flag 20461 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
term 34 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201} {8359327726591194727 34 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201} {8359327726591194727 34 202}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62843 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
flag 8042 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201} {8359327726591194727 34 202}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201} {8359327726591194727 34 202}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 530596653443295403 (index 203) to leader 0
flag 60221 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
flag 67741 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201} {8359327726591194727 34 202} {530596653443295403 34 203}]
------------------------------------------------------
flag 98971 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 203 
------------------------------------------------------
flag 39094 term 34 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 34 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 34 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201} {8359327726591194727 34 202} {530596653443295403 34 203}]
------------------------------------------------------
client write log 5128335746406678085 (index 204) to leader 0
client write log 617031400146507247 (index 205) to leader 0
client write log 7965640494728534087 (index 206) to leader 0
client write log 5575704353445244255 (index 207) to leader 0
client write log 2905566361125085152 (index 208) to leader 0
client write log 1364660205761100521 (index 209) to leader 0
client write log 3657439308184807667 (index 210) to leader 0
client write log 1774230863487981246 (index 211) to leader 0
client write log 748373563578525891 (index 212) to leader 0
client write log 6050112524362540869 (index 213) to leader 0
client write log 1500197426956105170 (index 214) to leader 0
client write log 8944292668308183944 (index 215) to leader 0
client write log 7519001301897478764 (index 216) to leader 0
client write log 5048361917216473405 (index 217) to leader 0
client write log 5671833645555057696 (index 218) to leader 0
flag 66871 term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 203 
------------------------------------------------------
flag 4364 term 34 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 34 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 34 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 32 199} {8372841418396267498 32 200} {8359327726591194727 32 201} {8359327726591194727 34 202} {530596653443295403 34 203} {5128335746406678085 34 204} {617031400146507247 34 205} {7965640494728534087 34 206} {5575704353445244255 34 207} {2905566361125085152 34 208} {1364660205761100521 34 209} {3657439308184807667 34 210} {1774230863487981246 34 211} {748373563578525891 34 212} {6050112524362540869 34 213} {1500197426956105170 34 214} {8944292668308183944 34 215} {7519001301897478764 34 216} {5048361917216473405 34 217} {5671833645555057696 34 218}]
------------------------------------------------------
term 34 Server0 start snapshot! index=209
term 34 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=218
-------------------------------------------------------------
term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 87841 term 34 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {3657439308184807667 34 210} {1774230863487981246 34 211} {748373563578525891 34 212} {6050112524362540869 34 213} {1500197426956105170 34 214} {8944292668308183944 34 215} {7519001301897478764 34 216} {5048361917216473405 34 217} {5671833645555057696 34 218}]
------------------------------------------------------
term 34 Server2 start snapshot! index=209
term 34 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=218
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5258107377985201059 (index 219) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 69355 term 34 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 209} {3657439308184807667 34 210} {1774230863487981246 34 211} {748373563578525891 34 212} {6050112524362540869 34 213} {1500197426956105170 34 214} {8944292668308183944 34 215} {7519001301897478764 34 216} {5048361917216473405 34 217} {5671833645555057696 34 218} {5258107377985201059 34 219}]
------------------------------------------------------
term 35 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 Server0 start snapshot! index=219
term 35 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
term 36 server 2 vote for server 0
term 36 server 1 vote for server 0
term 36 server 0 get vote from server 2
term 36 server 0 become leader
------------------------------------------------------
term 36 server 0 get outdate rpc reply from server 1
flag 40268 term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 34768 term 36 leader 0 nextIndex[2]: 220  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 220->219
------------------------------------------------------
term 36 Server2 start snapshot! index=219
term 36 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 203  matchIndex[1]: 0
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 24346 term 36 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
term 36 server 1 InstallSnapshot success
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 34 rf.commitIndex 219 rf.lastApplied 219
flag 84827 term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 71297 term 36 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51818 term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 23846 term 36 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
flag 74398 term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 25299 term 36 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21104 term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 51184 term 36 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
flag 38511 term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 91970 term 36 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 14588 term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 39536 term 36 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 14100 term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 97959 term 36 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 82319 term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 51815 term 36 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 37 server 2 vote for server 1
term 37 server 1 get vote from server 2
term 37 server 1 become leader
------------------------------------------------------
flag 146 term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 32937 term 36 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 9625 term 37 leader 1 nextIndex[0]: 220  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 9093 term 37 leader 1 nextIndex[2]: 220  matchIndex[2]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
client write log 8833115491163434065 (index 220) to leader 1
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 220->219
------------------------------------------------------
term 37 server 2 not vote for server 1, 任期不够新
term 37 server 1 get outdate rpc reply from server 2
flag 1754 term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 36 leader 0 nextIndex[2]: 0  matchIndex[2]: 219
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 89027 term 37 leader 1 nextIndex[0]: 220  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 49482 term 37 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 37 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {8833115491163434065 37 220}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 220->219
------------------------------------------------------
flag 83413 term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 36 leader 0 nextIndex[2]: 0  matchIndex[2]: 219
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 37 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 7932 term 37 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 37 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {8833115491163434065 37 220}]
------------------------------------------------------
client write log 3956201082566734246 (index 221) to leader 1
client write log 3247263660609276889 (index 222) to leader 1
client write log 3875631350687090946 (index 223) to leader 1
client write log 1677323711063228373 (index 224) to leader 1
client write log 5056572499816968968 (index 225) to leader 1
client write log 129802142663712068 (index 226) to leader 1
client write log 7622606357368533173 (index 227) to leader 1
flag 62251 term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 36 leader 0 nextIndex[2]: 0  matchIndex[2]: 219
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 37 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 16269 term 37 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 37 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8833115491163434065 37 220} {3956201082566734246 37 221} {3247263660609276889 37 222} {3875631350687090946 37 223} {1677323711063228373 37 224} {5056572499816968968 37 225} {129802142663712068 37 226} {7622606357368533173 37 227}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12590 term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 36 leader 0 nextIndex[2]: 0  matchIndex[2]: 219
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 37 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 55872 term 37 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 37 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {8833115491163434065 37 220} {3956201082566734246 37 221} {3247263660609276889 37 222} {3875631350687090946 37 223} {1677323711063228373 37 224} {5056572499816968968 37 225} {129802142663712068 37 226} {7622606357368533173 37 227}]
------------------------------------------------------
!!!!!!connect server 0
client write log 1323260056691542866 (index 228) to leader 1
term 36 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
flag 2558 term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 33308 term 36 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries false 领导者任期过期 args.Term 36
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 37 server 2 AppendEntries false 领导者任期过期 args.Term 36
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 21460 term 37 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 37 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 37 server 0 InstallSnapshot fail
rf.commitIndex 219 args.LastIncludedIndex 219
------------------------------------------------------
term 37 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8833115491163434065 37 220} {3956201082566734246 37 221} {3247263660609276889 37 222} {3875631350687090946 37 223} {1677323711063228373 37 224} {5056572499816968968 37 225} {129802142663712068 37 226} {7622606357368533173 37 227} {1323260056691542866 37 228}]
------------------------------------------------------
flag 5339 term 37 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 37 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
flag 75506 term 37 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 37 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 228 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8833115491163434065 37 220} {3956201082566734246 37 221} {3247263660609276889 37 222} {3875631350687090946 37 223} {1677323711063228373 37 224} {5056572499816968968 37 225} {129802142663712068 37 226} {7622606357368533173 37 227} {1323260056691542866 37 228}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8833115491163434065 37 220} {3956201082566734246 37 221} {3247263660609276889 37 222} {3875631350687090946 37 223} {1677323711063228373 37 224} {5056572499816968968 37 225} {129802142663712068 37 226} {7622606357368533173 37 227} {1323260056691542866 37 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97881 term 37 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 37 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 228 
------------------------------------------------------
flag 56364 term 37 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 37 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 228 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8833115491163434065 37 220} {3956201082566734246 37 221} {3247263660609276889 37 222} {3875631350687090946 37 223} {1677323711063228373 37 224} {5056572499816968968 37 225} {129802142663712068 37 226} {7622606357368533173 37 227} {1323260056691542866 37 228}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8833115491163434065 37 220} {3956201082566734246 37 221} {3247263660609276889 37 222} {3875631350687090946 37 223} {1677323711063228373 37 224} {5056572499816968968 37 225} {129802142663712068 37 226} {7622606357368533173 37 227} {1323260056691542866 37 228}]
------------------------------------------------------
flag 32406 term 37 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 37 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 228 
------------------------------------------------------
flag 71265 term 37 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 37 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 228 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8833115491163434065 37 220} {3956201082566734246 37 221} {3247263660609276889 37 222} {3875631350687090946 37 223} {1677323711063228373 37 224} {5056572499816968968 37 225} {129802142663712068 37 226} {7622606357368533173 37 227} {1323260056691542866 37 228}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8833115491163434065 37 220} {3956201082566734246 37 221} {3247263660609276889 37 222} {3875631350687090946 37 223} {1677323711063228373 37 224} {5056572499816968968 37 225} {129802142663712068 37 226} {7622606357368533173 37 227} {1323260056691542866 37 228}]
------------------------------------------------------
flag 30852 term 37 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 37 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 228 
------------------------------------------------------
flag 74506 term 37 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 37 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 228 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8833115491163434065 37 220} {3956201082566734246 37 221} {3247263660609276889 37 222} {3875631350687090946 37 223} {1677323711063228373 37 224} {5056572499816968968 37 225} {129802142663712068 37 226} {7622606357368533173 37 227} {1323260056691542866 37 228}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8833115491163434065 37 220} {3956201082566734246 37 221} {3247263660609276889 37 222} {3875631350687090946 37 223} {1677323711063228373 37 224} {5056572499816968968 37 225} {129802142663712068 37 226} {7622606357368533173 37 227} {1323260056691542866 37 228}]
------------------------------------------------------
flag 72794 term 37 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 37 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 228 
------------------------------------------------------
flag 24637 term 37 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 37 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 228 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8833115491163434065 37 220} {3956201082566734246 37 221} {3247263660609276889 37 222} {3875631350687090946 37 223} {1677323711063228373 37 224} {5056572499816968968 37 225} {129802142663712068 37 226} {7622606357368533173 37 227} {1323260056691542866 37 228}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8833115491163434065 37 220} {3956201082566734246 37 221} {3247263660609276889 37 222} {3875631350687090946 37 223} {1677323711063228373 37 224} {5056572499816968968 37 225} {129802142663712068 37 226} {7622606357368533173 37 227} {1323260056691542866 37 228}]
------------------------------------------------------
flag 58608 term 37 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 37 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 228 
------------------------------------------------------
flag 53653 term 37 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 37 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 228 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8833115491163434065 37 220} {3956201082566734246 37 221} {3247263660609276889 37 222} {3875631350687090946 37 223} {1677323711063228373 37 224} {5056572499816968968 37 225} {129802142663712068 37 226} {7622606357368533173 37 227} {1323260056691542866 37 228}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8833115491163434065 37 220} {3956201082566734246 37 221} {3247263660609276889 37 222} {3875631350687090946 37 223} {1677323711063228373 37 224} {5056572499816968968 37 225} {129802142663712068 37 226} {7622606357368533173 37 227} {1323260056691542866 37 228}]
------------------------------------------------------
flag 61996 term 37 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 37 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 228 
------------------------------------------------------
flag 83993 term 37 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 37 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 228 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8833115491163434065 37 220} {3956201082566734246 37 221} {3247263660609276889 37 222} {3875631350687090946 37 223} {1677323711063228373 37 224} {5056572499816968968 37 225} {129802142663712068 37 226} {7622606357368533173 37 227} {1323260056691542866 37 228}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {8833115491163434065 37 220} {3956201082566734246 37 221} {3247263660609276889 37 222} {3875631350687090946 37 223} {1677323711063228373 37 224} {5056572499816968968 37 225} {129802142663712068 37 226} {7622606357368533173 37 227} {1323260056691542866 37 228}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 229->228
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6412603833938480898 (index 229) to leader 1
term 37 leader 1 nextIndex[0]: 0  matchIndex[0]: 228
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 30234 term 37 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 37 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 228 
------------------------------------------------------
term 37 server 0 InstallSnapshot fail
rf.commitIndex 228 args.LastIncludedIndex 219
------------------------------------------------------
term 37 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
flag 99857 term 37 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 37 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
flag 96104 term 37 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 37 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 228 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 34 219} {8833115491163434065 37 220} {3956201082566734246 37 221} {3247263660609276889 37 222} {3875631350687090946 37 223} {1677323711063228373 37 224} {5056572499816968968 37 225} {129802142663712068 37 226} {7622606357368533173 37 227} {1323260056691542866 37 228} {6412603833938480898 37 229}]
------------------------------------------------------
term 37 Server1 start snapshot! index=229
term 37 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 12081 term 37 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 37 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 Server0 start snapshot! index=229
term 37 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
client write log 7917194686961442396 (index 230) to leader 1
client write log 2073942722945354451 (index 231) to leader 1
client write log 337850079356347062 (index 232) to leader 1
client write log 5542215672049131996 (index 233) to leader 1
client write log 5007230030989865514 (index 234) to leader 1
client write log 7009755832926044766 (index 235) to leader 1
client write log 1299703017056282775 (index 236) to leader 1
client write log 6467907145744900473 (index 237) to leader 1
client write log 6512373556047402165 (index 238) to leader 1
client write log 2907918402757852414 (index 239) to leader 1
client write log 3608653723540946404 (index 240) to leader 1
flag 2837 term 37 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 37 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 37 229} {7917194686961442396 37 230} {2073942722945354451 37 231} {337850079356347062 37 232} {5542215672049131996 37 233} {5007230030989865514 37 234} {7009755832926044766 37 235} {1299703017056282775 37 236} {6467907145744900473 37 237} {6512373556047402165 37 238} {2907918402757852414 37 239} {3608653723540946404 37 240}]
------------------------------------------------------
term 37 Server1 start snapshot! index=239
term 37 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=240
-------------------------------------------------------------
term 37 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46766 term 37 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 37 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {3608653723540946404 37 240}]
------------------------------------------------------
term 37 Server0 start snapshot! index=239
term 37 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=240
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1139001011896537358 (index 241) to leader 1
flag 4529 term 37 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 37 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
term 38 server 2 InstallSnapshot false 领导者任期过期
term 37 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 37 239} {3608653723540946404 37 240} {1139001011896537358 37 241}]
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 server 2 vote for server 1
term 39 server 1 get vote from server 2
term 39 server 1 become leader
------------------------------------------------------
term 39 server 0 vote for server 1
term 39 server 1 get outdate rpc reply from server 0
flag 56672 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
flag 85855 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
term 39 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 37 239} {3608653723540946404 37 240} {1139001011896537358 37 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 242->241
------------------------------------------------------
flag 40118 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 229  matchIndex[2]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
term 39 server 2 InstallSnapshot success
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 37 239} {3608653723540946404 37 240} {1139001011896537358 37 241}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 37 rf.commitIndex 239 rf.lastApplied 239
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98930 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
flag 38017 term 39 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 39 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 37 239} {3608653723540946404 37 240} {1139001011896537358 37 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 37 239} {3608653723540946404 37 240} {1139001011896537358 37 241}]
------------------------------------------------------
flag 76315 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
flag 83257 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 37 239} {3608653723540946404 37 240} {1139001011896537358 37 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 37 239} {3608653723540946404 37 240} {1139001011896537358 37 241}]
------------------------------------------------------
flag 5599 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
flag 64088 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 37 239} {3608653723540946404 37 240} {1139001011896537358 37 241}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 37 239} {3608653723540946404 37 240} {1139001011896537358 37 241}]
------------------------------------------------------
flag 28226 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
flag 26543 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 37 239} {3608653723540946404 37 240} {1139001011896537358 37 241}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 37 239} {3608653723540946404 37 240} {1139001011896537358 37 241}]
------------------------------------------------------
flag 7683 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
flag 48985 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 37 239} {3608653723540946404 37 240} {1139001011896537358 37 241}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 37 239} {3608653723540946404 37 240} {1139001011896537358 37 241}]
------------------------------------------------------
flag 75766 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
flag 15607 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 37 239} {3608653723540946404 37 240} {1139001011896537358 37 241}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 37 239} {3608653723540946404 37 240} {1139001011896537358 37 241}]
------------------------------------------------------
flag 21153 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
flag 3364 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 37 239} {3608653723540946404 37 240} {1139001011896537358 37 241}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 37 239} {3608653723540946404 37 240} {1139001011896537358 37 241}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8063146995501841549 (index 242) to leader 1
flag 33642 term 39 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
flag 9469 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 241 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {3608653723540946404 37 240} {1139001011896537358 37 241} {8063146995501841549 39 242}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57131 term 39 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 39 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 97719 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 242 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {3608653723540946404 37 240} {1139001011896537358 37 241} {8063146995501841549 39 242}]
------------------------------------------------------
client write log 8944745114292484953 (index 243) to leader 1
client write log 354113575110339421 (index 244) to leader 1
client write log 3852447281104949060 (index 245) to leader 1
client write log 3458478906486520384 (index 246) to leader 1
client write log 2892058930527015112 (index 247) to leader 1
client write log 7293653530870396517 (index 248) to leader 1
client write log 5215483442853302438 (index 249) to leader 1
client write log 8309868598891089888 (index 250) to leader 1
client write log 8747510691351365529 (index 251) to leader 1
client write log 4021633247585489709 (index 252) to leader 1
client write log 6885933608370230951 (index 253) to leader 1
client write log 4196152354621080063 (index 254) to leader 1
client write log 6356486560620091520 (index 255) to leader 1
client write log 1720543443782999917 (index 256) to leader 1
client write log 4836990357891238151 (index 257) to leader 1
flag 50854 term 39 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 39 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 40409 term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 242 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 239} {3608653723540946404 37 240} {1139001011896537358 37 241} {8063146995501841549 39 242} {8944745114292484953 39 243} {354113575110339421 39 244} {3852447281104949060 39 245} {3458478906486520384 39 246} {2892058930527015112 39 247} {7293653530870396517 39 248} {5215483442853302438 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257}]
------------------------------------------------------
term 39 Server1 start snapshot! index=249
term 39 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=257
-------------------------------------------------------------
flag 8467 term 39 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 39 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257}]
------------------------------------------------------
term 39 Server0 start snapshot! index=249
term 39 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=257
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6162824413739033943 (index 258) to leader 1
term 39 server 1 not vote for server 2, 任期不够新
term 39 server 2 get outdate rpc reply from server 1
term 39 server 1 not vote for server 2, 日志不够新
term 39 server 0 not vote for server 2, 日志不够新
term 41 server 2 vote for server 1
term 41 server 0 vote for server 1
term 41 server 1 get vote from server 0
term 41 server 1 become leader
------------------------------------------------------
term 41 server 1 get outdate rpc reply from server 2
flag 23518 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 13847 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 41 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 259->258
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 259->258
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90134 term 41 leader 1 nextIndex[0]: 258  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 242  matchIndex[2]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
term 41 server 2 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 39 rf.commitIndex 249 rf.lastApplied 249
flag 70572 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 97937 term 41 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
flag 95795 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 51855 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13442 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 61454 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
flag 3917 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 37174 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
flag 20331 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 54963 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65194 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 617 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
flag 94214 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 70988 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
flag 88458 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 69136 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
term 41 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52263 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 38738 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64691 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 48739 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
term 41 server 0 not vote for server 1, 任期不够新
term 41 server 1 get outdate rpc reply from server 0
flag 87911 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 91592 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
flag 52201 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 39128 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
term 41 server 0 not vote for server 1, 任期不够新
term 41 server 1 get outdate rpc reply from server 0
flag 75127 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 61725 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49633 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 95224 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
flag 80517 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 20950 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73150 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 46907 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
flag 8650 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 64887 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
flag 12003 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 9924 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258}]
------------------------------------------------------
client write log 6162824413739033943 (index 259) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12123 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
flag 1073 term 41 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 39 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258} {6162824413739033943 41 259}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 39 249} {8309868598891089888 39 250} {8747510691351365529 39 251} {4021633247585489709 39 252} {6885933608370230951 39 253} {4196152354621080063 39 254} {6356486560620091520 39 255} {1720543443782999917 39 256} {4836990357891238151 39 257} {6162824413739033943 39 258} {6162824413739033943 41 259}]
------------------------------------------------------
term 41 Server1 start snapshot! index=259
term 41 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31084 term 41 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 42103 term 41 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 Server2 start snapshot! index=259
term 41 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 41 Server0 start snapshot! index=259
term 41 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 15329 term 41 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 21452 term 41 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54303 term 41 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 87947 term 41 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49245 term 41 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 94170 term 41 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
flag 94908 term 41 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 37273 term 41 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12433 term 41 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 16773 term 41 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:259 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 55405 term 41 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 27655 term 41 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 68603 term 41 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 50862 term 41 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 260->259
------------------------------------------------------
term 41 leader 1 nextIndex[0]: 0  matchIndex[0]: 259
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 65162 term 41 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 0 vote for server 2
term 42 server 2 get vote from server 0
term 42 server 2 become leader
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
client write log 5814207858700761026 (index 260) to leader 2
flag 92516 term 42 leader 2 nextIndex[0]: 260  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 20956 term 42 leader 2 nextIndex[1]: 260  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5814207858700761026 42 260}]
------------------------------------------------------
term 41 leader 1 nextIndex[0]: 0  matchIndex[0]: 259
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 39775 term 41 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 17305 term 42 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 42 leaderCommit: 260 
------------------------------------------------------
flag 22934 term 42 leader 2 nextIndex[1]: 260  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5814207858700761026 42 260}]
------------------------------------------------------
client write log 5344342225103212579 (index 261) to leader 2
client write log 9050594330085378596 (index 262) to leader 2
client write log 60135381302766537 (index 263) to leader 2
client write log 8301814713597254977 (index 264) to leader 2
client write log 6934422347664613703 (index 265) to leader 2
client write log 742809590140619925 (index 266) to leader 2
client write log 6272234411488994287 (index 267) to leader 2
term 41 leader 1 nextIndex[0]: 0  matchIndex[0]: 259
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 28911 term 41 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89055 term 42 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 42 leaderCommit: 260 
------------------------------------------------------
flag 90932 term 42 leader 2 nextIndex[1]: 260  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
term 41 leader 1 nextIndex[0]: 0  matchIndex[0]: 259
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 92794 term 41 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 69353 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 21661 term 42 leader 2 nextIndex[1]: 260  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 267 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
!!!!!!connect server 1
client write log 2356336491741930850 (index 260) to leader 1
term 41 leader 1 nextIndex[0]: 0  matchIndex[0]: 259
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 16321 term 41 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries false 领导者任期过期 args.Term 41
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 42 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29725 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 66581 term 42 leader 2 nextIndex[1]: 260  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
update nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76303 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 85989 term 42 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
flag 16738 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 80741 term 42 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
flag 5881 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 403 term 42 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
term 42 server 0 not vote for server 2, 任期不够新
term 42 server 2 get outdate rpc reply from server 0
flag 30407 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 50263 term 42 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
term 42 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90827 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 6426 term 42 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
flag 97282 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 32495 term 42 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
term 42 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72975 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 83811 term 42 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
term 42 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85537 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 46035 term 42 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 268->267
------------------------------------------------------
flag 4600 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 leader 2 nextIndex[1]: 0  matchIndex[1]: 267
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
term 42 server 1 InstallSnapshot fail
rf.commitIndex 267 args.LastIncludedIndex 259
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
term 42 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
flag 87303 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 27284 term 42 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 42 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
flag 58809 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 87255 term 42 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
flag 14633 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 34467 term 42 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
flag 21981 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 28052 term 42 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
flag 64048 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 95641 term 42 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
flag 89608 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 36414 term 42 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
flag 8591 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 7281 term 42 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 268->267
------------------------------------------------------
flag 46536 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 leader 2 nextIndex[1]: 0  matchIndex[1]: 267
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
term 42 server 1 InstallSnapshot fail
rf.commitIndex 267 args.LastIncludedIndex 259
------------------------------------------------------
term 42 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80868 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 84092 term 42 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 42 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 267 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
flag 68472 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 19110 term 42 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267}]
------------------------------------------------------
client write log 2356336491741930850 (index 268) to leader 2
flag 23202 term 42 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 97591 term 42 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267} {2356336491741930850 42 268}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267} {2356336491741930850 42 268}]
------------------------------------------------------
flag 34945 term 42 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 42 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 98114 term 42 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 42 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267} {2356336491741930850 42 268}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267} {2356336491741930850 42 268}]
------------------------------------------------------
flag 72964 term 42 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 42 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 35640 term 42 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 42 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267} {2356336491741930850 42 268}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267} {2356336491741930850 42 268}]
------------------------------------------------------
term 42 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30194 term 42 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 42 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 46631 term 42 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 42 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267} {2356336491741930850 42 268}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267} {2356336491741930850 42 268}]
------------------------------------------------------
flag 8244 term 42 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 42 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 6182 term 42 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 42 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267} {2356336491741930850 42 268}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267} {2356336491741930850 42 268}]
------------------------------------------------------
flag 79621 term 42 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 42 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 56656 term 42 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 42 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267} {2356336491741930850 42 268}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267} {2356336491741930850 42 268}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2116171757966370955 (index 269) to leader 2
flag 62179 term 42 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 42 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 914 term 42 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 42 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 41 259} {5814207858700761026 42 260} {5344342225103212579 42 261} {9050594330085378596 42 262} {60135381302766537 42 263} {8301814713597254977 42 264} {6934422347664613703 42 265} {742809590140619925 42 266} {6272234411488994287 42 267} {2356336491741930850 42 268} {2116171757966370955 42 269}]
------------------------------------------------------
term 42 Server2 start snapshot! index=269
term 42 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
term 42 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 40014 term 42 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 42 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 42 269}]
------------------------------------------------------
term 42 Server1 start snapshot! index=269
term 42 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
client write log 6503141223327689092 (index 270) to leader 2
client write log 2520304506614333115 (index 271) to leader 2
client write log 4383537848001713836 (index 272) to leader 2
client write log 6839429698484971896 (index 273) to leader 2
client write log 7585204956366130637 (index 274) to leader 2
client write log 8037151616009728248 (index 275) to leader 2
client write log 5950473704855329794 (index 276) to leader 2
client write log 7100888597462510466 (index 277) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 270->269
------------------------------------------------------
term 42 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
term 42 leader 2 nextIndex[1]: 0  matchIndex[1]: 269
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 1 InstallSnapshot fail
rf.commitIndex 269 args.LastIncludedIndex 269
------------------------------------------------------
term 42 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
term 42 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 91041 term 42 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 42 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 42 269} {6503141223327689092 42 270} {2520304506614333115 42 271} {4383537848001713836 42 272} {6839429698484971896 42 273} {7585204956366130637 42 274} {8037151616009728248 42 275} {5950473704855329794 42 276} {7100888597462510466 42 277}]
------------------------------------------------------
term 42 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 81908 term 42 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 42 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 42 leaderCommit: 277 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 42 269} {6503141223327689092 42 270} {2520304506614333115 42 271} {4383537848001713836 42 272} {6839429698484971896 42 273} {7585204956366130637 42 274} {8037151616009728248 42 275} {5950473704855329794 42 276} {7100888597462510466 42 277}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2901196864029289649 (index 278) to leader 2
term 42 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 26806 term 42 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 42 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 42 leaderCommit: 277 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {6503141223327689092 42 270} {2520304506614333115 42 271} {4383537848001713836 42 272} {6839429698484971896 42 273} {7585204956366130637 42 274} {8037151616009728248 42 275} {5950473704855329794 42 276} {7100888597462510466 42 277} {2901196864029289649 42 278}]
------------------------------------------------------
term 43 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 1 vote for server 2
term 44 server 2 get vote from server 1
term 44 server 2 become leader
------------------------------------------------------
term 44 server 0 vote for server 2
term 44 server 2 get outdate rpc reply from server 0
flag 7826 term 44 leader 2 nextIndex[0]: 279  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 21918 term 44 leader 2 nextIndex[1]: 279  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 279->278
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {6503141223327689092 42 270} {2520304506614333115 42 271} {4383537848001713836 42 272} {6839429698484971896 42 273} {7585204956366130637 42 274} {8037151616009728248 42 275} {5950473704855329794 42 276} {7100888597462510466 42 277} {2901196864029289649 42 278}]
------------------------------------------------------
term 44 leader 2 nextIndex[0]: 269  matchIndex[0]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 27609 term 44 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 44 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 0 InstallSnapshot success
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 42 rf.commitIndex 269 rf.lastApplied 269
term 44 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {6503141223327689092 42 270} {2520304506614333115 42 271} {4383537848001713836 42 272} {6839429698484971896 42 273} {7585204956366130637 42 274} {8037151616009728248 42 275} {5950473704855329794 42 276} {7100888597462510466 42 277} {2901196864029289649 42 278}]
------------------------------------------------------
flag 55836 term 44 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 44 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 46911 term 44 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 44 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {6503141223327689092 42 270} {2520304506614333115 42 271} {4383537848001713836 42 272} {6839429698484971896 42 273} {7585204956366130637 42 274} {8037151616009728248 42 275} {5950473704855329794 42 276} {7100888597462510466 42 277} {2901196864029289649 42 278}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {6503141223327689092 42 270} {2520304506614333115 42 271} {4383537848001713836 42 272} {6839429698484971896 42 273} {7585204956366130637 42 274} {8037151616009728248 42 275} {5950473704855329794 42 276} {7100888597462510466 42 277} {2901196864029289649 42 278}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51315 term 44 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 44 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 75382 term 44 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 44 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {6503141223327689092 42 270} {2520304506614333115 42 271} {4383537848001713836 42 272} {6839429698484971896 42 273} {7585204956366130637 42 274} {8037151616009728248 42 275} {5950473704855329794 42 276} {7100888597462510466 42 277} {2901196864029289649 42 278}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {6503141223327689092 42 270} {2520304506614333115 42 271} {4383537848001713836 42 272} {6839429698484971896 42 273} {7585204956366130637 42 274} {8037151616009728248 42 275} {5950473704855329794 42 276} {7100888597462510466 42 277} {2901196864029289649 42 278}]
------------------------------------------------------
flag 26296 term 44 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 44 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 58321 term 44 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 44 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
term 44 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
[{snapshot 42 269} {6503141223327689092 42 270} {2520304506614333115 42 271} {4383537848001713836 42 272} {6839429698484971896 42 273} {7585204956366130637 42 274} {8037151616009728248 42 275} {5950473704855329794 42 276} {7100888597462510466 42 277} {2901196864029289649 42 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {6503141223327689092 42 270} {2520304506614333115 42 271} {4383537848001713836 42 272} {6839429698484971896 42 273} {7585204956366130637 42 274} {8037151616009728248 42 275} {5950473704855329794 42 276} {7100888597462510466 42 277} {2901196864029289649 42 278}]
------------------------------------------------------
flag 49987 term 44 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 44 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 15211 term 44 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 44 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {6503141223327689092 42 270} {2520304506614333115 42 271} {4383537848001713836 42 272} {6839429698484971896 42 273} {7585204956366130637 42 274} {8037151616009728248 42 275} {5950473704855329794 42 276} {7100888597462510466 42 277} {2901196864029289649 42 278}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {6503141223327689092 42 270} {2520304506614333115 42 271} {4383537848001713836 42 272} {6839429698484971896 42 273} {7585204956366130637 42 274} {8037151616009728248 42 275} {5950473704855329794 42 276} {7100888597462510466 42 277} {2901196864029289649 42 278}]
------------------------------------------------------
term 44 server 1 not vote for server 2, 任期不够新
term 44 server 2 get outdate rpc reply from server 1
flag 52331 term 44 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 44 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 7044 term 44 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 44 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {6503141223327689092 42 270} {2520304506614333115 42 271} {4383537848001713836 42 272} {6839429698484971896 42 273} {7585204956366130637 42 274} {8037151616009728248 42 275} {5950473704855329794 42 276} {7100888597462510466 42 277} {2901196864029289649 42 278}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {6503141223327689092 42 270} {2520304506614333115 42 271} {4383537848001713836 42 272} {6839429698484971896 42 273} {7585204956366130637 42 274} {8037151616009728248 42 275} {5950473704855329794 42 276} {7100888597462510466 42 277} {2901196864029289649 42 278}]
------------------------------------------------------
flag 6434 term 44 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 44 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 45746 term 44 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 44 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {6503141223327689092 42 270} {2520304506614333115 42 271} {4383537848001713836 42 272} {6839429698484971896 42 273} {7585204956366130637 42 274} {8037151616009728248 42 275} {5950473704855329794 42 276} {7100888597462510466 42 277} {2901196864029289649 42 278}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {6503141223327689092 42 270} {2520304506614333115 42 271} {4383537848001713836 42 272} {6839429698484971896 42 273} {7585204956366130637 42 274} {8037151616009728248 42 275} {5950473704855329794 42 276} {7100888597462510466 42 277} {2901196864029289649 42 278}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49791 term 44 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 44 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 42528 term 44 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 44 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {6503141223327689092 42 270} {2520304506614333115 42 271} {4383537848001713836 42 272} {6839429698484971896 42 273} {7585204956366130637 42 274} {8037151616009728248 42 275} {5950473704855329794 42 276} {7100888597462510466 42 277} {2901196864029289649 42 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {6503141223327689092 42 270} {2520304506614333115 42 271} {4383537848001713836 42 272} {6839429698484971896 42 273} {7585204956366130637 42 274} {8037151616009728248 42 275} {5950473704855329794 42 276} {7100888597462510466 42 277} {2901196864029289649 42 278}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8772134445141019590 (index 279) to leader 2
flag 99365 term 44 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 44 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 58721 term 44 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 44 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 42 269} {6503141223327689092 42 270} {2520304506614333115 42 271} {4383537848001713836 42 272} {6839429698484971896 42 273} {7585204956366130637 42 274} {8037151616009728248 42 275} {5950473704855329794 42 276} {7100888597462510466 42 277} {2901196864029289649 42 278} {8772134445141019590 44 279}]
------------------------------------------------------
term 44 Server2 start snapshot! index=279
term 44 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
term 44 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 44
------------------------------------------------------
flag 64170 term 44 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 44 leaderCommit: 279 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 44 279}]
------------------------------------------------------
term 44 Server1 start snapshot! index=279
term 44 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
client write log 3414293107847575638 (index 280) to leader 2
client write log 6294004406720473756 (index 281) to leader 2
client write log 4007211395991672383 (index 282) to leader 2
client write log 5120603341540182058 (index 283) to leader 2
client write log 3890944021955607450 (index 284) to leader 2
client write log 9081917068597818572 (index 285) to leader 2
client write log 1094826887109969536 (index 286) to leader 2
client write log 2467132183669127268 (index 287) to leader 2
client write log 7831030972371582685 (index 288) to leader 2
client write log 6003257289314353413 (index 289) to leader 2
client write log 3473229392602046293 (index 290) to leader 2
client write log 7886692644062071704 (index 291) to leader 2
client write log 9197859886491759522 (index 292) to leader 2
client write log 4888283631276489544 (index 293) to leader 2
client write log 4096284457037312103 (index 294) to leader 2
term 44 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 44
------------------------------------------------------
flag 23308 term 44 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 44 leaderCommit: 279 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 44 279} {3414293107847575638 44 280} {6294004406720473756 44 281} {4007211395991672383 44 282} {5120603341540182058 44 283} {3890944021955607450 44 284} {9081917068597818572 44 285} {1094826887109969536 44 286} {2467132183669127268 44 287} {7831030972371582685 44 288} {6003257289314353413 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294}]
------------------------------------------------------
term 44 Server2 start snapshot! index=289
term 44 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=294
-------------------------------------------------------------
term 44 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 43731 term 44 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 44 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294}]
------------------------------------------------------
term 44 Server1 start snapshot! index=289
term 44 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=294
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5137578008387599993 (index 295) to leader 2
term 44 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 34806 term 44 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 44 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
term 45 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 1 vote for server 2
term 46 server 2 get vote from server 1
term 46 server 2 become leader
------------------------------------------------------
term 46 server 0 vote for server 2
term 46 server 2 get outdate rpc reply from server 0
flag 94495 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
flag 67119 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295}]
------------------------------------------------------
term 46 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 296->295
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 279  matchIndex[0]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 483 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
term 46 server 0 InstallSnapshot success
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295}]
------------------------------------------------------
rf.lastIncludedIndex 289 rf.lastIncludedTerm 44 rf.commitIndex 289 rf.lastApplied 289
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96510 term 46 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
flag 85798 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295}]
------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32054 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
flag 53602 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295}]
------------------------------------------------------
flag 8079 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
flag 87349 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93064 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
flag 35690 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295}]
------------------------------------------------------
flag 25532 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
flag 59359 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295}]
------------------------------------------------------
flag 91991 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
flag 20925 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295}]
------------------------------------------------------
flag 16030 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
flag 20848 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 72168 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
flag 14905 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
flag 78273 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
flag 41228 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
flag 94957 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
flag 76470 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
term 47 server 0 vote for server 1
term 47 server 1 get vote from server 0
term 47 server 1 become leader
------------------------------------------------------
client write log 6763962880169720585 (index 296) to leader 1
flag 67615 term 47 leader 1 nextIndex[0]: 296  matchIndex[0]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
flag 74580 term 47 leader 1 nextIndex[2]: 296  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295} {6763962880169720585 47 296}]
------------------------------------------------------
flag 82061 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
flag 42839 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
flag 28883 term 47 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 47 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 80507 term 47 leader 1 nextIndex[2]: 296  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295} {6763962880169720585 47 296}]
------------------------------------------------------
flag 97577 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
flag 92616 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
client write log 2359028061345255781 (index 297) to leader 1
flag 25247 term 47 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 47 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 32123 term 47 leader 1 nextIndex[2]: 296  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295} {6763962880169720585 47 296} {2359028061345255781 47 297}]
------------------------------------------------------
flag 75293 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
flag 54709 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 296->295
------------------------------------------------------
term 47 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15908 term 47 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 47 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 85879 term 47 leader 1 nextIndex[2]: 296  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295} {6763962880169720585 47 296} {2359028061345255781 47 297}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5397325368318341105 (index 298) to leader 1
term 46 leader 2 nextIndex[0]: 0  matchIndex[0]: 295
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 28892 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
term 47 server 1 AppendEntries false 领导者任期过期 args.Term 46
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 47 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11299 term 47 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 47 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 56036 term 47 leader 1 nextIndex[2]: 296  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295} {6763962880169720585 47 296} {2359028061345255781 47 297} {5397325368318341105 47 298}]
term 47 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295} {6763962880169720585 47 296} {2359028061345255781 47 297} {5397325368318341105 47 298}]
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81028 term 47 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 47 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
flag 48594 term 47 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 47 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295} {6763962880169720585 47 296} {2359028061345255781 47 297} {5397325368318341105 47 298}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295} {6763962880169720585 47 296} {2359028061345255781 47 297} {5397325368318341105 47 298}]
------------------------------------------------------
flag 93378 term 47 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 47 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
flag 8995 term 47 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 47 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295} {6763962880169720585 47 296} {2359028061345255781 47 297} {5397325368318341105 47 298}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295} {6763962880169720585 47 296} {2359028061345255781 47 297} {5397325368318341105 47 298}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98329 term 47 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 47 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
flag 56690 term 47 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 47 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295} {6763962880169720585 47 296} {2359028061345255781 47 297} {5397325368318341105 47 298}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295} {6763962880169720585 47 296} {2359028061345255781 47 297} {5397325368318341105 47 298}]
------------------------------------------------------
flag 84357 term 47 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 47 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
flag 75318 term 47 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 47 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295} {6763962880169720585 47 296} {2359028061345255781 47 297} {5397325368318341105 47 298}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295} {6763962880169720585 47 296} {2359028061345255781 47 297} {5397325368318341105 47 298}]
------------------------------------------------------
term 47 server 1 not vote for server 0, 任期不够新
term 47 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 299->298
------------------------------------------------------
flag 49184 term 47 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 47 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 0  matchIndex[2]: 298
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
term 47 server 2 InstallSnapshot fail
rf.commitIndex 298 args.LastIncludedIndex 289
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295} {6763962880169720585 47 296} {2359028061345255781 47 297} {5397325368318341105 47 298}]
------------------------------------------------------
flag 58905 term 47 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 47 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
flag 47378 term 47 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 298 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295} {6763962880169720585 47 296} {2359028061345255781 47 297} {5397325368318341105 47 298}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295} {6763962880169720585 47 296} {2359028061345255781 47 297} {5397325368318341105 47 298}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4418597020018352309 (index 299) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73689 term 47 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 47 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
flag 74305 term 47 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 47 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 44 289} {3473229392602046293 44 290} {7886692644062071704 44 291} {9197859886491759522 44 292} {4888283631276489544 44 293} {4096284457037312103 44 294} {5137578008387599993 44 295} {6763962880169720585 47 296} {2359028061345255781 47 297} {5397325368318341105 47 298} {4418597020018352309 47 299}]
------------------------------------------------------
term 47 Server1 start snapshot! index=299
term 47 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
flag 4477 term 47 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 47 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 47 leaderCommit: 299 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 47 299}]
------------------------------------------------------
term 47 Server0 start snapshot! index=299
term 47 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
client write log 3701655806990310569 (index 300) to leader 1
client write log 281185602348936511 (index 301) to leader 1
client write log 7475201277189880785 (index 302) to leader 1
client write log 7481637522135489337 (index 303) to leader 1
client write log 3926077292062966239 (index 304) to leader 1
client write log 2152051767310174041 (index 305) to leader 1
client write log 1001286586763025105 (index 306) to leader 1
client write log 828110089451906080 (index 307) to leader 1
flag 84321 term 47 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 47 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 47 leaderCommit: 299 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307}]
------------------------------------------------------
flag 62159 term 47 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 47 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5746301083133591195 (index 308) to leader 1
term 47 server 2 not vote for server 0, 任期不够新
term 47 server 0 get outdate rpc reply from server 2
term 47 server 1 not vote for server 2, 日志不够新
term 47 server 0 not vote for server 2, 日志不够新
term 49 server 2 vote for server 1
term 49 server 0 vote for server 1
term 49 server 1 get vote from server 2
term 49 server 1 become leader
------------------------------------------------------
term 49 server 1 get outdate rpc reply from server 0
flag 67228 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 68686 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 49 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 309->308
------------------------------------------------------
term 49 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 309->308
------------------------------------------------------
term 49 server 2 not vote for server 0, 任期不够新
term 49 server 0 get outdate rpc reply from server 2
flag 86164 term 49 leader 1 nextIndex[0]: 308  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 299  matchIndex[2]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
term 49 server 2 InstallSnapshot success
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 47 rf.commitIndex 299 rf.lastApplied 299
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32966 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 49985 term 49 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 49 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
flag 53319 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 43284 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
flag 2746 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 50995 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
term 49 server 2 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 2
flag 77026 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 52575 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4310 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 40918 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
flag 28610 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 45839 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
flag 25613 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 44467 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57382 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 21565 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
flag 34283 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 17519 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 server 1 not vote for server 0, 任期不够新
term 49 server 0 get outdate rpc reply from server 1
flag 70058 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 79634 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
flag 87233 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 85129 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
flag 47116 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 87511 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
flag 3923 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 27745 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56381 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 55493 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
flag 89454 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 42210 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
flag 53410 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 23164 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
flag 9930 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 17609 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
flag 57227 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 82853 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308}]
------------------------------------------------------
client write log 5746301083133591195 (index 309) to leader 1
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7644 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 40984 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308} {5746301083133591195 49 309}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 47 299} {3701655806990310569 47 300} {281185602348936511 47 301} {7475201277189880785 47 302} {7481637522135489337 47 303} {3926077292062966239 47 304} {2152051767310174041 47 305} {1001286586763025105 47 306} {828110089451906080 47 307} {5746301083133591195 47 308} {5746301083133591195 49 309}]
------------------------------------------------------
term 49 Server1 start snapshot! index=309
term 49 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 90200 term 49 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 49 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 309 
------------------------------------------------------
flag 78104 term 49 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 309 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 49 309}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 49 309}]
------------------------------------------------------
term 49 Server0 start snapshot! index=309
term 49 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
term 49 Server2 start snapshot! index=309
term 49 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 42979 term 49 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 49 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 309 
------------------------------------------------------
flag 69448 term 49 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 49 309}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 49 309}]
------------------------------------------------------
flag 95124 term 49 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 49 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 309 
------------------------------------------------------
flag 86937 term 49 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 49 309}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 49 309}]
------------------------------------------------------
flag 75220 term 49 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 49 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 309 
------------------------------------------------------
flag 54025 term 49 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 49 309}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 49 309}]
------------------------------------------------------
flag 1573 term 49 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 49 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 309 
------------------------------------------------------
flag 62886 term 49 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 49 309}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 49 309}]
------------------------------------------------------
flag 16129 term 49 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 49 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 309 
------------------------------------------------------
flag 10466 term 49 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 49 309}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 49 309}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8005704933559749927 (index 310) to leader 1
flag 20030 term 49 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 49 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 309 
------------------------------------------------------
flag 2358 term 49 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 309 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 49 309} {8005704933559749927 49 310}]
------------------------------------------------------
flag 57684 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 49 leaderCommit: 310 
------------------------------------------------------
flag 84080 term 49 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 310 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 49 309} {8005704933559749927 49 310}]
------------------------------------------------------
client write log 4688905921250664584 (index 311) to leader 1
client write log 2913257722813767232 (index 312) to leader 1
client write log 2737041531235799753 (index 313) to leader 1
client write log 4202847877995255280 (index 314) to leader 1
client write log 1758334710910261476 (index 315) to leader 1
client write log 1448143471108495608 (index 316) to leader 1
client write log 1526728739512538537 (index 317) to leader 1
client write log 1739870188050213350 (index 318) to leader 1
client write log 7082207248732343363 (index 319) to leader 1
client write log 2795017499667539014 (index 320) to leader 1
client write log 9097863489045122737 (index 321) to leader 1
client write log 8698229722700168038 (index 322) to leader 1
client write log 5347135967582339878 (index 323) to leader 1
client write log 2920849911790060223 (index 324) to leader 1
client write log 4670986417774900562 (index 325) to leader 1
flag 24537 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 49 leaderCommit: 310 
------------------------------------------------------
flag 66533 term 49 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 310 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 49 309} {8005704933559749927 49 310} {4688905921250664584 49 311} {2913257722813767232 49 312} {2737041531235799753 49 313} {4202847877995255280 49 314} {1758334710910261476 49 315} {1448143471108495608 49 316} {1526728739512538537 49 317} {1739870188050213350 49 318} {7082207248732343363 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325}]
------------------------------------------------------
term 49 Server1 start snapshot! index=319
term 49 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=325
-------------------------------------------------------------
flag 2342 term 49 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 49 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325}]
------------------------------------------------------
term 49 Server0 start snapshot! index=319
term 49 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=325
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8171024053148508117 (index 326) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 server 1 not vote for server 2, 日志不够新
term 49 server 0 not vote for server 2, 日志不够新
term 51 server 2 vote for server 1
term 51 server 0 vote for server 1
term 51 server 1 get vote from server 2
term 51 server 1 become leader
------------------------------------------------------
term 51 server 1 get outdate rpc reply from server 0
flag 32193 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 1869 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 51 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 327->326
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 327->326
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3609 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 310  matchIndex[2]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
term 51 server 2 InstallSnapshot success
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
term 51 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 49 rf.commitIndex 319 rf.lastApplied 319
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3737 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 90818 term 51 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 51 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
term 51 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8182 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 66733 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
flag 53408 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 49432 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
flag 43449 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 54018 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
flag 5528 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 23594 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
flag 55461 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 75269 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90372 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 63241 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
flag 95509 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 97536 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
flag 97212 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 10600 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32088 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 9243 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
flag 9595 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 40662 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
flag 40869 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 54009 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
flag 47906 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 33055 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3135 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 69851 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13629 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 29080 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
flag 76971 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 36801 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78844 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 55256 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11043 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 95812 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326}]
------------------------------------------------------
client write log 8171024053148508117 (index 327) to leader 1
flag 14685 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 71528 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326} {8171024053148508117 51 327}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326} {8171024053148508117 51 327}]
------------------------------------------------------
flag 84368 term 51 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 36370 term 51 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326} {8171024053148508117 51 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326} {8171024053148508117 51 327}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60700 term 51 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 5525 term 51 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326} {8171024053148508117 51 327}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326} {8171024053148508117 51 327}]
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62301 term 51 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 55660 term 51 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326} {8171024053148508117 51 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326} {8171024053148508117 51 327}]
------------------------------------------------------
flag 41583 term 51 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 54037 term 51 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326} {8171024053148508117 51 327}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326} {8171024053148508117 51 327}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80477 term 51 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 8312 term 51 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326} {8171024053148508117 51 327}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326} {8171024053148508117 51 327}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 16058 term 51 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 44048 term 51 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 78507 term 51 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 22871 term 51 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 41914 term 51 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 46916 term 51 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 52 server 0 vote for server 2
term 52 server 2 get vote from server 0
term 52 server 2 become leader
------------------------------------------------------
flag 6963 term 52 leader 2 nextIndex[0]: 328  matchIndex[0]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 79480 term 52 leader 2 nextIndex[1]: 328  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326} {8171024053148508117 51 327}]
------------------------------------------------------
client write log 635870561317568604 (index 328) to leader 2
flag 51321 term 51 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 65243 term 51 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 2936 term 52 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 84645 term 52 leader 2 nextIndex[1]: 328  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326} {8171024053148508117 51 327} {635870561317568604 52 328}]
------------------------------------------------------
flag 13582 term 51 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 64615 term 51 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 50149 term 52 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 52 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 45457 term 52 leader 2 nextIndex[1]: 328  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326} {8171024053148508117 51 327} {635870561317568604 52 328}]
------------------------------------------------------
flag 89319 term 51 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 66083 term 51 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
client write log 1015714745235389010 (index 329) to leader 2
client write log 7043804612365690683 (index 330) to leader 2
client write log 805568076255394485 (index 331) to leader 2
client write log 5226583781240039046 (index 332) to leader 2
client write log 4192273605585521680 (index 333) to leader 2
client write log 2192688309297953386 (index 334) to leader 2
client write log 233920728679076079 (index 335) to leader 2
client write log 6867735721287224506 (index 336) to leader 2
client write log 2026167814283936317 (index 337) to leader 2
client write log 7003878047542628123 (index 338) to leader 2
client write log 507125932921809109 (index 339) to leader 2
client write log 4141729909249072467 (index 340) to leader 2
client write log 3105177481872940535 (index 341) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74745 term 52 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 52 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 98486 term 52 leader 2 nextIndex[1]: 328  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 49 319} {2795017499667539014 49 320} {9097863489045122737 49 321} {8698229722700168038 49 322} {5347135967582339878 49 323} {2920849911790060223 49 324} {4670986417774900562 49 325} {8171024053148508117 49 326} {8171024053148508117 51 327} {635870561317568604 52 328} {1015714745235389010 52 329} {7043804612365690683 52 330} {805568076255394485 52 331} {5226583781240039046 52 332} {4192273605585521680 52 333} {2192688309297953386 52 334} {233920728679076079 52 335} {6867735721287224506 52 336} {2026167814283936317 52 337} {7003878047542628123 52 338} {507125932921809109 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
term 52 Server2 start snapshot! index=329
term 52 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=341
-------------------------------------------------------------
term 52 Server2 start snapshot! index=339
term 52 server2 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=341
-------------------------------------------------------------
flag 57810 term 51 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 90082 term 51 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 28852 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 leader 2 nextIndex[1]: 328  matchIndex[1]: 0
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
term 52 Server0 start snapshot! index=329
term 52 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=341
-------------------------------------------------------------
term 52 Server0 start snapshot! index=339
term 52 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=341
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3593079821726340126 (index 328) to leader 1
flag 40218 term 51 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 44969 term 51 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 51 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 52 server 2 AppendEntries false 领导者任期过期 args.Term 51
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 52 server 0 AppendEntries false 领导者任期过期 args.Term 51
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12524 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 leader 2 nextIndex[1]: 328  matchIndex[1]: 0
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 1 InstallSnapshot success
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 52 rf.commitIndex 339 rf.lastApplied 339
term 52 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
flag 68101 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 69222 term 52 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 52 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
flag 15588 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 22973 term 52 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
flag 43477 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 25336 term 52 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
flag 7679 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 53607 term 52 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
flag 63802 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 31527 term 52 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
flag 32716 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 53359 term 52 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
flag 31059 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 25854 term 52 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
flag 44345 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 62474 term 52 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
flag 79647 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 50616 term 52 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
flag 71302 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 80207 term 52 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
flag 45247 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 56687 term 52 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
flag 90397 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 40295 term 52 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
flag 71382 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 96035 term 52 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
flag 33314 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 44058 term 52 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1113 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 98038 term 52 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
flag 42797 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 16590 term 52 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
flag 99474 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 12528 term 52 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
flag 55883 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 35146 term 52 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
flag 51507 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 14053 term 52 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341}]
------------------------------------------------------
client write log 3593079821726340126 (index 342) to leader 2
flag 23491 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 60969 term 52 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341} {3593079821726340126 52 342}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341} {3593079821726340126 52 342}]
------------------------------------------------------
flag 66500 term 52 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 52 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 4060 term 52 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 52 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341} {3593079821726340126 52 342}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341} {3593079821726340126 52 342}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98762 term 52 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 52 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 56101 term 52 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 52 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341} {3593079821726340126 52 342}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341} {3593079821726340126 52 342}]
------------------------------------------------------
flag 65429 term 52 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 52 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 25738 term 52 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 52 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341} {3593079821726340126 52 342}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341} {3593079821726340126 52 342}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 343->342
------------------------------------------------------
flag 87576 term 52 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 52 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 52 leader 2 nextIndex[1]: 0  matchIndex[1]: 342
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 1 InstallSnapshot fail
rf.commitIndex 342 args.LastIncludedIndex 339
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
term 52 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341} {3593079821726340126 52 342}]
------------------------------------------------------
flag 50056 term 52 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 52 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 85059 term 52 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 52 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341} {3593079821726340126 52 342}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341} {3593079821726340126 52 342}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1612206641705247449 (index 343) to leader 2
flag 86845 term 52 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 52 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 69934 term 52 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 52 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341} {3593079821726340126 52 342} {1612206641705247449 52 343}]
------------------------------------------------------
flag 98652 term 52 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 52 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 52 leaderCommit: 343 
------------------------------------------------------
flag 60913 term 52 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 52 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 343 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341} {3593079821726340126 52 342} {1612206641705247449 52 343}]
------------------------------------------------------
client write log 2144784885060230881 (index 344) to leader 2
client write log 8290957807690917874 (index 345) to leader 2
client write log 2626184180622117263 (index 346) to leader 2
client write log 431950741484966595 (index 347) to leader 2
client write log 936728745567242595 (index 348) to leader 2
client write log 8132314810569535755 (index 349) to leader 2
client write log 3761753576108658059 (index 350) to leader 2
client write log 8781716471596963487 (index 351) to leader 2
client write log 1288036404104299127 (index 352) to leader 2
client write log 2703219610796952400 (index 353) to leader 2
client write log 1737284292028639753 (index 354) to leader 2
client write log 6766634059040730884 (index 355) to leader 2
flag 3671 term 52 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 52 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 52 leaderCommit: 343 
------------------------------------------------------
flag 34289 term 52 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 52 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 343 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 52 339} {4141729909249072467 52 340} {3105177481872940535 52 341} {3593079821726340126 52 342} {1612206641705247449 52 343} {2144784885060230881 52 344} {8290957807690917874 52 345} {2626184180622117263 52 346} {431950741484966595 52 347} {936728745567242595 52 348} {8132314810569535755 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355}]
------------------------------------------------------
term 52 Server2 start snapshot! index=349
term 52 server2 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=355
-------------------------------------------------------------
term 52 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 52
------------------------------------------------------
flag 84430 term 52 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 52 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355}]
------------------------------------------------------
term 52 Server1 start snapshot! index=349
term 52 server1 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=355
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7040355277456529894 (index 356) to leader 2
term 52 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 52
------------------------------------------------------
flag 62241 term 52 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 52 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
term 53 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 server 1 vote for server 2
term 54 server 0 vote for server 2
term 54 server 2 get vote from server 1
term 54 server 2 become leader
------------------------------------------------------
term 54 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4735 term 54 leader 2 nextIndex[0]: 357  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
flag 58207 term 54 leader 2 nextIndex[1]: 357  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
term 54 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 357->356
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 2 nextIndex[0]: 343  matchIndex[0]: 0
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 52
------------------------------------------------------
flag 76362 term 54 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
term 54 server 0 InstallSnapshot success
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 350 matchIndex[0] 349 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 52 rf.commitIndex 349 rf.lastApplied 349
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
flag 64778 term 54 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 54 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
flag 26431 term 54 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6255 term 54 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
flag 786 term 54 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
term 54 server 1 not vote for server 2, 任期不够新
term 54 server 2 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79602 term 54 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
flag 73747 term 54 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
flag 33859 term 54 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
flag 90484 term 54 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49038 term 54 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
flag 65671 term 54 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
flag 11132 term 54 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
flag 36330 term 54 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
term 54 server 1 not vote for server 0, 任期不够新
term 54 server 0 get outdate rpc reply from server 1
flag 77336 term 54 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
flag 16121 term 54 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
flag 46422 term 54 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
flag 48244 term 54 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
flag 62473 term 54 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
flag 86853 term 54 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
flag 35701 term 54 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
flag 78994 term 54 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
flag 68525 term 54 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
flag 99165 term 54 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
flag 55175 term 54 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
flag 39380 term 54 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
flag 39896 term 54 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
flag 82625 term 54 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
flag 50112 term 54 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
flag 65615 term 54 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51685 term 54 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
flag 25078 term 54 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
flag 41625 term 54 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
flag 4306 term 54 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
flag 65493 term 54 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
flag 59436 term 54 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=355
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356}]
------------------------------------------------------
client write log 7040355277456529894 (index 357) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22767 term 54 leader 2 nextIndex[0]: 357  matchIndex[0]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
flag 63988 term 54 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 54 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 355 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356} {7040355277456529894 54 357}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356} {7040355277456529894 54 357}]
------------------------------------------------------
flag 98803 term 54 leader 2 nextIndex[0]: 358  matchIndex[0]: 357
term 54 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 54 leaderCommit: 357 
------------------------------------------------------
flag 81302 term 54 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 54 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 54 leaderCommit: 357 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356} {7040355277456529894 54 357}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356} {7040355277456529894 54 357}]
------------------------------------------------------
flag 68366 term 54 leader 2 nextIndex[0]: 358  matchIndex[0]: 357
term 54 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 54 leaderCommit: 357 
------------------------------------------------------
flag 14088 term 54 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 54 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 54 leaderCommit: 357 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356} {7040355277456529894 54 357}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356} {7040355277456529894 54 357}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12272 term 54 leader 2 nextIndex[0]: 358  matchIndex[0]: 357
term 54 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 54 leaderCommit: 357 
------------------------------------------------------
flag 88718 term 54 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 54 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 54 leaderCommit: 357 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356} {7040355277456529894 54 357}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356} {7040355277456529894 54 357}]
------------------------------------------------------
flag 60372 term 54 leader 2 nextIndex[0]: 358  matchIndex[0]: 357
term 54 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 54 leaderCommit: 357 
------------------------------------------------------
flag 62251 term 54 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 54 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 54 leaderCommit: 357 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356} {7040355277456529894 54 357}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356} {7040355277456529894 54 357}]
------------------------------------------------------
flag 22722 term 54 leader 2 nextIndex[0]: 358  matchIndex[0]: 357
term 54 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 54 leaderCommit: 357 
------------------------------------------------------
flag 33593 term 54 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 54 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 54 leaderCommit: 357 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356} {7040355277456529894 54 357}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356} {7040355277456529894 54 357}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25909 term 54 leader 2 nextIndex[0]: 358  matchIndex[0]: 357
term 54 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 54 leaderCommit: 357 
------------------------------------------------------
flag 19884 term 54 leader 2 nextIndex[1]: 358  matchIndex[1]: 357
term 54 leader 2 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 54 leaderCommit: 357 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356} {7040355277456529894 54 357}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 52 349} {3761753576108658059 52 350} {8781716471596963487 52 351} {1288036404104299127 52 352} {2703219610796952400 52 353} {1737284292028639753 52 354} {6766634059040730884 52 355} {7040355277456529894 52 356} {7040355277456529894 54 357}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
  ... Passed --  75.3  3 1728  797238  357
--- PASS: TestSnapshotInstall2D (75.32s)
PASS
