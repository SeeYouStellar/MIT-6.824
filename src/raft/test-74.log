=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 0 become leader
------------------------------------------------------
term 1 server 1 vote for server 0
term 1 server 0 get outdate rpc reply from server 1
flag 88130 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 77982 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 9015797264827482503 (index 1) to leader 0
flag 20414 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 87837 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9015797264827482503 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9015797264827482503 1 1}]
------------------------------------------------------
flag 32480 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 27059 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9015797264827482503 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9015797264827482503 1 1}]
------------------------------------------------------
flag 26217 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 21002 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9015797264827482503 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9015797264827482503 1 1}]
------------------------------------------------------
flag 63708 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 99387 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9015797264827482503 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9015797264827482503 1 1}]
------------------------------------------------------
flag 76405 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 45509 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9015797264827482503 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9015797264827482503 1 1}]
------------------------------------------------------
flag 59138 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 24404 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9015797264827482503 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9015797264827482503 1 1}]
------------------------------------------------------
flag 55153 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 32624 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9015797264827482503 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9015797264827482503 1 1}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1196536893560903555 (index 2) to leader 0
flag 17764 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 8027 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {9015797264827482503 1 1} {1196536893560903555 1 2}]
------------------------------------------------------
flag 5634 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 36051 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {9015797264827482503 1 1} {1196536893560903555 1 2}]
------------------------------------------------------
client write log 3671762077125075124 (index 3) to leader 0
client write log 6621839400171555764 (index 4) to leader 0
client write log 8152322708901329471 (index 5) to leader 0
client write log 5853448757558359527 (index 6) to leader 0
client write log 9057667384854805377 (index 7) to leader 0
client write log 5103260306349370916 (index 8) to leader 0
client write log 5822083211413907215 (index 9) to leader 0
client write log 8000904179962678826 (index 10) to leader 0
client write log 8251259776242186427 (index 11) to leader 0
client write log 3993056431262090950 (index 12) to leader 0
client write log 1987596531030241561 (index 13) to leader 0
client write log 2901229558208058844 (index 14) to leader 0
client write log 8470494666555259603 (index 15) to leader 0
client write log 6382919294084414613 (index 16) to leader 0
client write log 1739402583905703220 (index 17) to leader 0
flag 72862 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 48235 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{<nil> 0 0} {9015797264827482503 1 1} {1196536893560903555 1 2} {3671762077125075124 1 3} {6621839400171555764 1 4} {8152322708901329471 1 5} {5853448757558359527 1 6} {9057667384854805377 1 7} {5103260306349370916 1 8} {5822083211413907215 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=17
-------------------------------------------------------------
term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 65733 term 1 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 1 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=17
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3137244831650878841 (index 18) to leader 0
term 1 server 2 not vote for server 1, 日志不够新
term 1 server 0 not vote for server 1, 日志不够新
term 3 server 1 vote for server 0
term 3 server 2 vote for server 0
term 3 server 0 get vote from server 1
term 3 server 0 become leader
------------------------------------------------------
term 3 server 0 get outdate rpc reply from server 2
flag 13122 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 67948 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 19->18
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 19->18
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 2  matchIndex[1]: 0
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 73574 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
term 3 server 1 InstallSnapshot success
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
term 3 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 44140 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 39783 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
flag 85013 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 94555 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
flag 32222 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 19256 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
flag 30420 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 31506 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
flag 4891 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 82583 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
flag 63191 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 76733 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44412 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 95121 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
flag 6451 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 72625 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
flag 51909 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 26009 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
flag 68754 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 33269 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
flag 88214 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 34792 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
flag 34536 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 85694 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
flag 59939 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 15638 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
flag 73317 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 42158 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
flag 33037 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 16584 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
flag 97043 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 51819 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
flag 50678 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 23865 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18}]
------------------------------------------------------
client write log 3137244831650878841 (index 19) to leader 0
flag 46538 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 56907 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18} {3137244831650878841 3 19}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {8000904179962678826 1 10} {8251259776242186427 1 11} {3993056431262090950 1 12} {1987596531030241561 1 13} {2901229558208058844 1 14} {8470494666555259603 1 15} {6382919294084414613 1 16} {1739402583905703220 1 17} {3137244831650878841 1 18} {3137244831650878841 3 19}]
------------------------------------------------------
term 3 Server0 start snapshot! index=19
term 3 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 72910 term 3 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 39811 term 3 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 Server2 start snapshot! index=19
term 3 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 3 Server1 start snapshot! index=19
term 3 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 61532 term 3 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 59147 term 3 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 56839 term 3 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 64189 term 3 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 12995 term 3 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 62761 term 3 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 91170 term 3 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 44377 term 3 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 11400 term 3 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 90913 term 3 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 34833 term 3 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 67237 term 3 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 96540 term 3 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 60972 term 3 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 32956 term 3 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 21584 term 3 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 vote for server 1
term 4 server 1 get vote from server 2
term 4 server 1 become leader
------------------------------------------------------
flag 52773 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 42570 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 87179 term 3 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 62360 term 3 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
client write log 903296418711793500 (index 20) to leader 1
flag 37662 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 60385 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {903296418711793500 4 20}]
------------------------------------------------------
flag 2179 term 3 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 80743 term 3 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 20->19
------------------------------------------------------
flag 80352 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
flag 31247 term 4 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {903296418711793500 4 20}]
------------------------------------------------------
client write log 3732288995737823708 (index 21) to leader 1
client write log 7261262459715790973 (index 22) to leader 1
client write log 5644666117060761147 (index 23) to leader 1
client write log 7456879759542017971 (index 24) to leader 1
client write log 7021543658269641488 (index 25) to leader 1
client write log 4177598020646519981 (index 26) to leader 1
client write log 1435856984378630949 (index 27) to leader 1
client write log 1419206745547575979 (index 28) to leader 1
client write log 1423994047317545298 (index 29) to leader 1
client write log 3141104044823333406 (index 30) to leader 1
client write log 8283416467691607089 (index 31) to leader 1
client write log 2885585922805511937 (index 32) to leader 1
client write log 7981251640178580009 (index 33) to leader 1
client write log 8279586173079119813 (index 34) to leader 1
client write log 4029569490491422795 (index 35) to leader 1
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 19
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 61625 term 3 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 41543 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
flag 81791 term 4 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 19} {903296418711793500 4 20} {3732288995737823708 4 21} {7261262459715790973 4 22} {5644666117060761147 4 23} {7456879759542017971 4 24} {7021543658269641488 4 25} {4177598020646519981 4 26} {1435856984378630949 4 27} {1419206745547575979 4 28} {1423994047317545298 4 29} {3141104044823333406 4 30} {8283416467691607089 4 31} {2885585922805511937 4 32} {7981251640178580009 4 33} {8279586173079119813 4 34} {4029569490491422795 4 35}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=35
-------------------------------------------------------------
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 19
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 60728 term 3 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 65189 term 4 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 4 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {3141104044823333406 4 30} {8283416467691607089 4 31} {2885585922805511937 4 32} {7981251640178580009 4 33} {8279586173079119813 4 34} {4029569490491422795 4 35}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=35
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8111652146007977101 (index 36) to leader 1
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 19
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 30051 term 3 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 25887 term 4 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
term 4 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 4 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3141104044823333406 4 30} {8283416467691607089 4 31} {2885585922805511937 4 32} {7981251640178580009 4 33} {8279586173079119813 4 34} {4029569490491422795 4 35} {8111652146007977101 4 36}]
------------------------------------------------------
flag 72247 term 4 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 55941 term 4 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
term 4 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3141104044823333406 4 30} {8283416467691607089 4 31} {2885585922805511937 4 32} {7981251640178580009 4 33} {8279586173079119813 4 34} {4029569490491422795 4 35} {8111652146007977101 4 36}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3141104044823333406 4 30} {8283416467691607089 4 31} {2885585922805511937 4 32} {7981251640178580009 4 33} {8279586173079119813 4 34} {4029569490491422795 4 35} {8111652146007977101 4 36}]
------------------------------------------------------
flag 42362 term 4 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
term 4 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 45309 term 4 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
term 4 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3141104044823333406 4 30} {8283416467691607089 4 31} {2885585922805511937 4 32} {7981251640178580009 4 33} {8279586173079119813 4 34} {4029569490491422795 4 35} {8111652146007977101 4 36}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3141104044823333406 4 30} {8283416467691607089 4 31} {2885585922805511937 4 32} {7981251640178580009 4 33} {8279586173079119813 4 34} {4029569490491422795 4 35} {8111652146007977101 4 36}]
------------------------------------------------------
flag 49114 term 4 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
term 4 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 74370 term 4 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
term 4 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3141104044823333406 4 30} {8283416467691607089 4 31} {2885585922805511937 4 32} {7981251640178580009 4 33} {8279586173079119813 4 34} {4029569490491422795 4 35} {8111652146007977101 4 36}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3141104044823333406 4 30} {8283416467691607089 4 31} {2885585922805511937 4 32} {7981251640178580009 4 33} {8279586173079119813 4 34} {4029569490491422795 4 35} {8111652146007977101 4 36}]
------------------------------------------------------
flag 8971 term 4 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
term 4 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 38124 term 4 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
term 4 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueterm 4 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
update nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3141104044823333406 4 30} {8283416467691607089 4 31} {2885585922805511937 4 32} {7981251640178580009 4 33} {8279586173079119813 4 34} {4029569490491422795 4 35} {8111652146007977101 4 36}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3141104044823333406 4 30} {8283416467691607089 4 31} {2885585922805511937 4 32} {7981251640178580009 4 33} {8279586173079119813 4 34} {4029569490491422795 4 35} {8111652146007977101 4 36}]
------------------------------------------------------
flag 74467 term 4 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
term 4 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 49934 term 4 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
term 4 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
term 4 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
[{snapshot 4 29} {3141104044823333406 4 30} {8283416467691607089 4 31} {2885585922805511937 4 32} {7981251640178580009 4 33} {8279586173079119813 4 34} {4029569490491422795 4 35} {8111652146007977101 4 36}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3141104044823333406 4 30} {8283416467691607089 4 31} {2885585922805511937 4 32} {7981251640178580009 4 33} {8279586173079119813 4 34} {4029569490491422795 4 35} {8111652146007977101 4 36}]
------------------------------------------------------
flag 92154 term 4 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
term 4 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 45146 term 4 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
term 4 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3141104044823333406 4 30} {8283416467691607089 4 31} {2885585922805511937 4 32} {7981251640178580009 4 33} {8279586173079119813 4 34} {4029569490491422795 4 35} {8111652146007977101 4 36}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3141104044823333406 4 30} {8283416467691607089 4 31} {2885585922805511937 4 32} {7981251640178580009 4 33} {8279586173079119813 4 34} {4029569490491422795 4 35} {8111652146007977101 4 36}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5461178374376607067 (index 37) to leader 1
flag 93027 term 4 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
term 4 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 77470 term 4 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
term 4 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {3141104044823333406 4 30} {8283416467691607089 4 31} {2885585922805511937 4 32} {7981251640178580009 4 33} {8279586173079119813 4 34} {4029569490491422795 4 35} {8111652146007977101 4 36} {5461178374376607067 4 37}]
------------------------------------------------------
flag 70674 term 4 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 4 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 10571 term 4 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
term 4 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {3141104044823333406 4 30} {8283416467691607089 4 31} {2885585922805511937 4 32} {7981251640178580009 4 33} {8279586173079119813 4 34} {4029569490491422795 4 35} {8111652146007977101 4 36} {5461178374376607067 4 37}]
------------------------------------------------------
client write log 8095766990460860102 (index 38) to leader 1
client write log 6543595764103974508 (index 39) to leader 1
client write log 2334181374188524210 (index 40) to leader 1
client write log 8746722955503173693 (index 41) to leader 1
client write log 6176157998475057463 (index 42) to leader 1
client write log 8283660087149940754 (index 43) to leader 1
client write log 5827284367701168353 (index 44) to leader 1
client write log 7860545002688745782 (index 45) to leader 1
client write log 3183488087980481183 (index 46) to leader 1
client write log 1828138997517637138 (index 47) to leader 1
client write log 3817389739674366030 (index 48) to leader 1
client write log 9181589416850479847 (index 49) to leader 1
client write log 7964917228136390475 (index 50) to leader 1
client write log 6179023680626913311 (index 51) to leader 1
client write log 8737059515523760204 (index 52) to leader 1
flag 89701 term 4 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 4 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 47933 term 4 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
term 4 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 29} {3141104044823333406 4 30} {8283416467691607089 4 31} {2885585922805511937 4 32} {7981251640178580009 4 33} {8279586173079119813 4 34} {4029569490491422795 4 35} {8111652146007977101 4 36} {5461178374376607067 4 37} {8095766990460860102 4 38} {6543595764103974508 4 39} {2334181374188524210 4 40} {8746722955503173693 4 41} {6176157998475057463 4 42} {8283660087149940754 4 43} {5827284367701168353 4 44} {7860545002688745782 4 45} {3183488087980481183 4 46} {1828138997517637138 4 47} {3817389739674366030 4 48} {9181589416850479847 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52}]
------------------------------------------------------
term 4 Server1 start snapshot! index=39
term 4 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=52
-------------------------------------------------------------
term 4 Server1 start snapshot! index=49
term 4 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=52
-------------------------------------------------------------
flag 40335 term 4 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 4 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52}]
------------------------------------------------------
term 4 Server0 start snapshot! index=39
term 4 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=52
-------------------------------------------------------------
term 4 Server0 start snapshot! index=49
term 4 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=52
-------------------------------------------------------------
!!!!!!connect server 2
client write log 9049299283370886699 (index 53) to leader 1
term 4 server 0 not vote for server 2, 日志不够新
term 4 server 1 not vote for server 2, 日志不够新
term 6 server 0 vote for server 1
term 6 server 1 get vote from server 0
term 6 server 1 become leader
------------------------------------------------------
term 6 server 2 vote for server 1
term 6 server 1 get outdate rpc reply from server 2
flag 16077 term 6 leader 1 nextIndex[0]: 54  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 12457 term 6 leader 1 nextIndex[2]: 54  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 54->53
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 54->53
------------------------------------------------------
flag 85202 term 6 leader 1 nextIndex[0]: 53  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 37  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 4 rf.commitIndex 49 rf.lastApplied 49
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18497 term 6 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 58039 term 6 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 6 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75176 term 6 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 38901 term 6 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
flag 58205 term 6 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 51673 term 6 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30302 term 6 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 50144 term 6 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
flag 29976 term 6 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 99869 term 6 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
flag 25534 term 6 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 98353 term 6 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27225 term 6 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 39583 term 6 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40251 term 6 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 77560 term 6 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93072 term 6 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 29270 term 6 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
flag 56347 term 6 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 49254 term 6 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
flag 31397 term 6 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 66976 term 6 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
flag 29796 term 6 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 56991 term 6 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31349 term 6 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 78544 term 6 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51817 term 6 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 89293 term 6 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16205 term 6 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 29623 term 6 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
flag 29945 term 6 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 35499 term 6 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
flag 58039 term 6 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 43049 term 6 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 9049299283370886699 (index 54) to leader 1
flag 23636 term 6 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
flag 83676 term 6 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 6 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 4 leaderCommit: 52 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53} {9049299283370886699 6 54}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53} {9049299283370886699 6 54}]
------------------------------------------------------
flag 3402 term 6 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 97793 term 6 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53} {9049299283370886699 6 54}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53} {9049299283370886699 6 54}]
------------------------------------------------------
flag 56365 term 6 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 50068 term 6 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53} {9049299283370886699 6 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53} {9049299283370886699 6 54}]
------------------------------------------------------
term 6 server 0 not vote for server 1, 任期不够新
term 6 server 1 get outdate rpc reply from server 0
flag 64267 term 6 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 88503 term 6 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53} {9049299283370886699 6 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53} {9049299283370886699 6 54}]
------------------------------------------------------
flag 60951 term 6 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 20888 term 6 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53} {9049299283370886699 6 54}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53} {9049299283370886699 6 54}]
------------------------------------------------------
flag 10419 term 6 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 68487 term 6 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
term 6 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53} {9049299283370886699 6 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53} {9049299283370886699 6 54}]
------------------------------------------------------
flag 41594 term 6 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 99456 term 6 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
term 6 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53} {9049299283370886699 6 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53} {9049299283370886699 6 54}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8721648947737780999 (index 55) to leader 1
flag 9540 term 6 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 65130 term 6 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53} {9049299283370886699 6 54} {8721648947737780999 6 55}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60641 term 6 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 6 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 94219 term 6 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53} {9049299283370886699 6 54} {8721648947737780999 6 55}]
------------------------------------------------------
client write log 3508361412211926146 (index 56) to leader 1
client write log 5641773630340749379 (index 57) to leader 1
client write log 5334465875108195475 (index 58) to leader 1
client write log 8039115348787164218 (index 59) to leader 1
client write log 4090709647970576773 (index 60) to leader 1
client write log 433367852924083629 (index 61) to leader 1
client write log 259546462094565574 (index 62) to leader 1
client write log 7675426515246570413 (index 63) to leader 1
client write log 2806814328590410583 (index 64) to leader 1
client write log 5263226670829014479 (index 65) to leader 1
client write log 4358816765415939379 (index 66) to leader 1
client write log 4752288773285211754 (index 67) to leader 1
flag 69543 term 6 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 6 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 19234 term 6 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 4 49} {7964917228136390475 4 50} {6179023680626913311 4 51} {8737059515523760204 4 52} {9049299283370886699 4 53} {9049299283370886699 6 54} {8721648947737780999 6 55} {3508361412211926146 6 56} {5641773630340749379 6 57} {5334465875108195475 6 58} {8039115348787164218 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67}]
------------------------------------------------------
term 6 Server1 start snapshot! index=59
term 6 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=67
-------------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98132 term 6 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 6 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67}]
------------------------------------------------------
term 6 Server0 start snapshot! index=59
term 6 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=67
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3293494872039643215 (index 68) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70747 term 6 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 6 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 6
------------------------------------------------------
term 7 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 vote for server 1
term 8 server 0 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 1 get outdate rpc reply from server 0
flag 91114 term 8 leader 1 nextIndex[0]: 69  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
flag 93088 term 8 leader 1 nextIndex[2]: 69  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 69->68
------------------------------------------------------
flag 69950 term 8 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 55  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 6 rf.commitIndex 59 rf.lastApplied 59
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
flag 80012 term 8 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
flag 6523 term 8 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 8 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
flag 77195 term 8 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
flag 77065 term 8 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
flag 41452 term 8 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
flag 1785 term 8 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
term 8 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
flag 53479 term 8 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
flag 19479 term 8 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
flag 92844 term 8 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
flag 55781 term 8 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
term 8 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
flag 42794 term 8 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
flag 9352 term 8 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12658 term 8 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
flag 61535 term 8 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
term 8 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12996 term 8 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
flag 22674 term 8 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
flag 54696 term 8 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
flag 35976 term 8 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68778 term 8 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
flag 87418 term 8 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66666 term 8 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
flag 12417 term 8 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
flag 2022 term 8 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
flag 38913 term 8 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
flag 67488 term 8 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
flag 85333 term 8 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
flag 52940 term 8 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
flag 58626 term 8 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 0 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 0
flag 23084 term 8 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
flag 63546 term 8 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
flag 81400 term 8 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
flag 37258 term 8 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99081 term 8 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
flag 13562 term 8 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68}]
------------------------------------------------------
client write log 3293494872039643215 (index 69) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38532 term 8 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
flag 18207 term 8 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 8 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 6 leaderCommit: 67 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68} {3293494872039643215 8 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 6 59} {4090709647970576773 6 60} {433367852924083629 6 61} {259546462094565574 6 62} {7675426515246570413 6 63} {2806814328590410583 6 64} {5263226670829014479 6 65} {4358816765415939379 6 66} {4752288773285211754 6 67} {3293494872039643215 6 68} {3293494872039643215 8 69}]
------------------------------------------------------
term 8 Server1 start snapshot! index=69
term 8 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
flag 66549 term 8 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 16691 term 8 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 8 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 8 69}]
------------------------------------------------------
term 8 Server2 start snapshot! index=69
term 8 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 8 Server0 start snapshot! index=69
term 8 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
flag 99911 term 8 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 2234 term 8 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 8 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 8 69}]
------------------------------------------------------
flag 71420 term 8 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 42467 term 8 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 8 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 8 69}]
------------------------------------------------------
flag 11536 term 8 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 95906 term 8 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 8 69}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 8 69}]
------------------------------------------------------
flag 76242 term 8 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 34351 term 8 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 8 69}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 8 69}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
flag 74372 term 8 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 31449 term 8 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 25842 term 8 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 47899 term 8 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 18764 term 8 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 86545 term 8 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 42326 term 8 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 65482 term 8 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
term 9 server 0 vote for server 2
term 9 server 2 get vote from server 0
term 9 server 2 become leader
------------------------------------------------------
flag 15854 term 9 leader 2 nextIndex[0]: 70  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 37768 term 9 leader 2 nextIndex[1]: 70  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 8 69}]
------------------------------------------------------
client write log 6831646914148035702 (index 70) to leader 2
flag 99376 term 8 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 45626 term 8 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 28712 term 9 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 9 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 36870 term 9 leader 2 nextIndex[1]: 70  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 8 69} {6831646914148035702 9 70}]
------------------------------------------------------
flag 42920 term 8 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 95922 term 8 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 26033 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 83812 term 9 leader 2 nextIndex[1]: 70  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 70 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 8 69} {6831646914148035702 9 70}]
------------------------------------------------------
client write log 2242185396168226062 (index 71) to leader 2
client write log 959264546466769311 (index 72) to leader 2
client write log 6969268994148784320 (index 73) to leader 2
client write log 3152313229903500767 (index 74) to leader 2
client write log 7683369269884997006 (index 75) to leader 2
client write log 1315427791330117065 (index 76) to leader 2
client write log 4846586726657274264 (index 77) to leader 2
client write log 4625014008930364540 (index 78) to leader 2
client write log 7882689380214721993 (index 79) to leader 2
client write log 7572742367016569626 (index 80) to leader 2
flag 73831 term 8 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 23985 term 8 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 33898 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 84313 term 9 leader 2 nextIndex[1]: 70  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 70 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 8 69} {6831646914148035702 9 70} {2242185396168226062 9 71} {959264546466769311 9 72} {6969268994148784320 9 73} {3152313229903500767 9 74} {7683369269884997006 9 75} {1315427791330117065 9 76} {4846586726657274264 9 77} {4625014008930364540 9 78} {7882689380214721993 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
term 9 Server2 start snapshot! index=79
term 9 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=80
-------------------------------------------------------------
flag 83683 term 8 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 43514 term 8 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 23209 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 70  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
term 9 Server0 start snapshot! index=79
term 9 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=80
-------------------------------------------------------------
!!!!!!connect server 1
client write log 434412066914403594 (index 70) to leader 1
flag 49202 term 8 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
flag 45422 term 8 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 8 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 8 leaderCommit: 69 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20132 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 70  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
term 9 server 1 InstallSnapshot success
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 9 rf.commitIndex 79 rf.lastApplied 79
flag 31213 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 51519 term 9 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 9 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 81->80
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2993 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 80
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 79 args.LastIncludedIndex 79
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
flag 11458 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 66364 term 9 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 9 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
flag 22554 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 18852 term 9 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6839 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 19300 term 9 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
term 9 server 1 not vote for server 2, 任期不够新
term 9 server 2 get outdate rpc reply from server 1
flag 6971 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 21918 term 9 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
flag 6660 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 63739 term 9 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:80 
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
flag 27856 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 41134 term 9 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91404 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 82239 term 9 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
flag 50531 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 45918 term 9 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:80 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79135 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 69815 term 9 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14192 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 67863 term 9 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
flag 82373 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 53481 term 9 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
flag 15145 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 26685 term 9 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
flag 84670 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 1033 term 9 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42018 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 71069 term 9 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
flag 55235 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 57064 term 9 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
flag 10629 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 18705 term 9 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 81->80
------------------------------------------------------
flag 24450 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 80
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 80 args.LastIncludedIndex 79
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 9 79} {7572742367016569626 9 80}]
------------------------------------------------------
client write log 434412066914403594 (index 81) to leader 2
flag 13445 term 9 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 9 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
flag 86267 term 9 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 9 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 9 leaderCommit: 80 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81}]
------------------------------------------------------
term 9 server 1 not vote for server 2, 日志不够新
term 9 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43728 term 9 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 9 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 9 leaderCommit: 81 
------------------------------------------------------
flag 89332 term 9 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 9 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 9 leaderCommit: 81 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81}]
------------------------------------------------------
flag 33630 term 9 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 9 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 9 leaderCommit: 81 
------------------------------------------------------
flag 39388 term 9 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 9 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 9 leaderCommit: 81 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81}]
------------------------------------------------------
flag 49087 term 9 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 9 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 9 leaderCommit: 81 
------------------------------------------------------
flag 95967 term 9 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 9 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 9 leaderCommit: 81 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81}]
------------------------------------------------------
flag 42544 term 9 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 9 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 9 leaderCommit: 81 
------------------------------------------------------
flag 68628 term 9 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 9 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 9 leaderCommit: 81 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81}]
------------------------------------------------------
flag 40409 term 9 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 9 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 9 leaderCommit: 81 
------------------------------------------------------
flag 235 term 9 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 9 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 9 leaderCommit: 81 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81}]
------------------------------------------------------
flag 88386 term 9 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 9 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 9 leaderCommit: 81 
------------------------------------------------------
flag 35774 term 9 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 9 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 9 leaderCommit: 81 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5105255267240641907 (index 82) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42710 term 9 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 9 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 9 leaderCommit: 81 
------------------------------------------------------
flag 87783 term 9 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 9 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 9 leaderCommit: 81 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3839 term 9 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 9 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
flag 27258 term 9 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 9 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82}]
------------------------------------------------------
client write log 7152564179719426195 (index 83) to leader 2
client write log 2102620037314354795 (index 84) to leader 2
client write log 382903106729104086 (index 85) to leader 2
client write log 8898483180752620637 (index 86) to leader 2
client write log 4287995234457979653 (index 87) to leader 2
client write log 445356785536135663 (index 88) to leader 2
flag 64571 term 9 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 9 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
flag 29440 term 9 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 9 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85340 term 9 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 9 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 39364 term 9 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 9 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88}]
------------------------------------------------------
!!!!!!connect server 0
client write log 3479994712815180719 (index 89) to leader 2
flag 53656 term 9 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 9 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 86588 term 9 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 9 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
term 10 server 0 AppendEntries false 领导者任期过期 args.Term 9
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 10 Server2 start snapshot! index=89
term 10 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 server 2 not vote for server 0, 日志不够新
term 9 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 server 2 vote for server 1
term 12 server 0 vote for server 1
term 12 server 1 get vote from server 2
term 12 server 1 become leader
------------------------------------------------------
term 12 server 1 get outdate rpc reply from server 0
flag 34316 term 12 leader 1 nextIndex[0]: 90  matchIndex[0]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 70511 term 12 leader 1 nextIndex[2]: 90  matchIndex[2]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
term 12 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 90->89
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
flag 34452 term 12 leader 1 nextIndex[0]: 82  matchIndex[0]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 35148 term 12 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5124 term 12 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 27786 term 12 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
flag 41267 term 12 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 23480 term 12 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
flag 67343 term 12 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 98240 term 12 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
flag 32516 term 12 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 31404 term 12 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65386 term 12 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 16119 term 12 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70337 term 12 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 98568 term 12 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
flag 43830 term 12 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 33068 term 12 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
flag 82076 term 12 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 73211 term 12 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
flag 57984 term 12 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 94195 term 12 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
flag 92626 term 12 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 79788 term 12 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
flag 12088 term 12 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 64931 term 12 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
flag 8922 term 12 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 48446 term 12 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
flag 17219 term 12 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 47721 term 12 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65784 term 12 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 35900 term 12 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89}]
------------------------------------------------------
client write log 3479994712815180719 (index 90) to leader 1
flag 41969 term 12 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
flag 37915 term 12 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89} {3479994712815180719 12 90}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 9 79} {7572742367016569626 9 80} {434412066914403594 9 81} {5105255267240641907 9 82} {7152564179719426195 9 83} {2102620037314354795 9 84} {382903106729104086 9 85} {8898483180752620637 9 86} {4287995234457979653 9 87} {445356785536135663 9 88} {3479994712815180719 9 89} {3479994712815180719 12 90}]
------------------------------------------------------
term 12 Server1 start snapshot! index=89
term 12 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37348 term 12 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 12 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 90 
------------------------------------------------------
flag 82719 term 12 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 12 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 90 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 9 89} {3479994712815180719 12 90}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 9 89} {3479994712815180719 12 90}]
------------------------------------------------------
term 12 Server0 start snapshot! index=89
term 12 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
term 12 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39373 term 12 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 12 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 90 
------------------------------------------------------
flag 15053 term 12 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 12 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 90 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 9 89} {3479994712815180719 12 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 9 89} {3479994712815180719 12 90}]
------------------------------------------------------
flag 43460 term 12 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 12 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 90 
------------------------------------------------------
flag 98638 term 12 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 12 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 90 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 9 89} {3479994712815180719 12 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 9 89} {3479994712815180719 12 90}]
------------------------------------------------------
flag 50259 term 12 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 12 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 90 
------------------------------------------------------
flag 58777 term 12 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 12 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 90 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 9 89} {3479994712815180719 12 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 9 89} {3479994712815180719 12 90}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31191 term 12 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 12 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 90 
------------------------------------------------------
flag 59248 term 12 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 12 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 90 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 9 89} {3479994712815180719 12 90}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 9 89} {3479994712815180719 12 90}]
------------------------------------------------------
flag 86343 term 12 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 12 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 90 
------------------------------------------------------
flag 54906 term 12 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 12 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 90 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 9 89} {3479994712815180719 12 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 9 89} {3479994712815180719 12 90}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2761574251341653346 (index 91) to leader 1
flag 24374 term 12 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 12 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 90 
------------------------------------------------------
flag 15842 term 12 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 12 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 90 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 9 89} {3479994712815180719 12 90} {2761574251341653346 12 91}]
------------------------------------------------------
flag 6647 term 12 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 12 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 12 leaderCommit: 91 
------------------------------------------------------
flag 72084 term 12 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 12 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 91 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 9 89} {3479994712815180719 12 90} {2761574251341653346 12 91}]
------------------------------------------------------
client write log 7042438943716183075 (index 92) to leader 1
client write log 835130621368848320 (index 93) to leader 1
client write log 7469050516216812764 (index 94) to leader 1
client write log 3803998566163455016 (index 95) to leader 1
client write log 6781467069747103269 (index 96) to leader 1
client write log 6176008738298873135 (index 97) to leader 1
client write log 5460098675144126574 (index 98) to leader 1
client write log 8967837206815372210 (index 99) to leader 1
client write log 7723099024008181324 (index 100) to leader 1
flag 35808 term 12 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 12 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 12 leaderCommit: 91 
------------------------------------------------------
flag 97929 term 12 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 12 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 91 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 9 89} {3479994712815180719 12 90} {2761574251341653346 12 91} {7042438943716183075 12 92} {835130621368848320 12 93} {7469050516216812764 12 94} {3803998566163455016 12 95} {6781467069747103269 12 96} {6176008738298873135 12 97} {5460098675144126574 12 98} {8967837206815372210 12 99} {7723099024008181324 12 100}]
------------------------------------------------------
term 12 Server1 start snapshot! index=99
term 12 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=100
-------------------------------------------------------------
flag 83348 term 12 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 12 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 12
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100}]
------------------------------------------------------
term 12 Server0 start snapshot! index=99
term 12 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=100
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7800958324167449335 (index 101) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9238 term 12 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 12 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 12
------------------------------------------------------
term 13 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 12 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 2 vote for server 1
term 14 server 0 vote for server 1
term 14 server 1 get vote from server 2
term 14 server 1 become leader
------------------------------------------------------
term 14 server 1 get outdate rpc reply from server 0
flag 33854 term 14 leader 1 nextIndex[0]: 102  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
flag 53452 term 14 leader 1 nextIndex[2]: 102  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 14 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 102->101
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14374 term 14 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 12
------------------------------------------------------
term 14 server 2 InstallSnapshot success
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 12 rf.commitIndex 99 rf.lastApplied 99
term 14 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35326 term 14 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
flag 21805 term 14 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 14 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
flag 12497 term 14 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
flag 33387 term 14 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
flag 88263 term 14 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
flag 48777 term 14 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
flag 86839 term 14 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
flag 67561 term 14 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
flag 88426 term 14 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
flag 44188 term 14 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
flag 88348 term 14 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
flag 50496 term 14 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
flag 35469 term 14 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
flag 23060 term 14 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
flag 27743 term 14 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
flag 75983 term 14 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
term 14 server 1 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 1
flag 19497 term 14 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
flag 57415 term 14 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
flag 11485 term 14 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
flag 20475 term 14 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
term 14 server 1 not vote for server 0, 任期不够新
term 14 server 0 get outdate rpc reply from server 1
flag 33858 term 14 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
flag 117 term 14 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
flag 29948 term 14 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
flag 97840 term 14 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
flag 90008 term 14 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
flag 79015 term 14 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
term 14 server 0 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 0
flag 93354 term 14 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
flag 53910 term 14 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:100 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
flag 74912 term 14 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
flag 57636 term 14 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
flag 87096 term 14 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
flag 80494 term 14 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
flag 96143 term 14 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
flag 13412 term 14 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101}]
------------------------------------------------------
client write log 7800958324167449335 (index 102) to leader 1
flag 9450 term 14 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
flag 50103 term 14 leader 1 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 12 leaderCommit: 100 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101} {7800958324167449335 14 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101} {7800958324167449335 14 102}]
------------------------------------------------------
flag 11880 term 14 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 3132 term 14 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101} {7800958324167449335 14 102}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101} {7800958324167449335 14 102}]
------------------------------------------------------
flag 46513 term 14 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 38624 term 14 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101} {7800958324167449335 14 102}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101} {7800958324167449335 14 102}]
------------------------------------------------------
flag 78593 term 14 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 16548 term 14 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101} {7800958324167449335 14 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101} {7800958324167449335 14 102}]
------------------------------------------------------
flag 76358 term 14 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 87536 term 14 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
term 14 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101} {7800958324167449335 14 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101} {7800958324167449335 14 102}]
------------------------------------------------------
flag 18838 term 14 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 44415 term 14 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101} {7800958324167449335 14 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101} {7800958324167449335 14 102}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 90520 term 14 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 34020 term 14 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32362 term 14 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 18559 term 14 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 17375 term 14 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 33277 term 14 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 15 server 0 vote for server 2
term 15 server 2 get vote from server 0
term 15 server 2 become leader
------------------------------------------------------
flag 39760 term 15 leader 2 nextIndex[0]: 103  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 80548 term 15 leader 2 nextIndex[1]: 103  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101} {7800958324167449335 14 102}]
------------------------------------------------------
client write log 7770844568338342173 (index 103) to leader 2
flag 52121 term 14 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 15328 term 14 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 14627 term 15 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 15 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 3126 term 15 leader 2 nextIndex[1]: 103  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101} {7800958324167449335 14 102} {7770844568338342173 15 103}]
------------------------------------------------------
flag 90126 term 14 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 91065 term 14 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 58327 term 15 leader 2 nextIndex[0]: 104  matchIndex[0]: 103
term 15 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 103 
------------------------------------------------------
flag 68830 term 15 leader 2 nextIndex[1]: 103  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101} {7800958324167449335 14 102} {7770844568338342173 15 103}]
------------------------------------------------------
client write log 7632565702722262096 (index 104) to leader 2
client write log 1289840090280671730 (index 105) to leader 2
client write log 88893623457328921 (index 106) to leader 2
client write log 6340060981020045346 (index 107) to leader 2
client write log 5673177910820622313 (index 108) to leader 2
client write log 4467317936948865514 (index 109) to leader 2
client write log 7335046693478579899 (index 110) to leader 2
client write log 1627995944543749263 (index 111) to leader 2
client write log 1959159206648181357 (index 112) to leader 2
client write log 5571444760760070985 (index 113) to leader 2
client write log 6958332657476646823 (index 114) to leader 2
client write log 1647828004569571787 (index 115) to leader 2
client write log 1643186047169834001 (index 116) to leader 2
client write log 1416588878478494568 (index 117) to leader 2
client write log 4417148529546978929 (index 118) to leader 2
flag 84731 term 14 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 66146 term 14 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 66442 term 15 leader 2 nextIndex[0]: 104  matchIndex[0]: 103
term 15 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 103 
------------------------------------------------------
flag 69658 term 15 leader 2 nextIndex[1]: 103  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 12 99} {7723099024008181324 12 100} {7800958324167449335 12 101} {7800958324167449335 14 102} {7770844568338342173 15 103} {7632565702722262096 15 104} {1289840090280671730 15 105} {88893623457328921 15 106} {6340060981020045346 15 107} {5673177910820622313 15 108} {4467317936948865514 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
term 15 Server2 start snapshot! index=109
term 15 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=118
-------------------------------------------------------------
flag 54644 term 14 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 73713 term 14 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 15 server 2 not vote for server 0, 任期不够新
term 15 server 0 get outdate rpc reply from server 2
flag 55828 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 103  matchIndex[1]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
term 15 Server0 start snapshot! index=109
term 15 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=118
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2351356645240274883 (index 103) to leader 1
flag 69970 term 14 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 17687 term 14 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 15 server 2 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 15 server 0 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7234 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 103  matchIndex[1]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 15 server 1 InstallSnapshot success
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 15 rf.commitIndex 109 rf.lastApplied 109
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35536 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 93213 term 15 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 15 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
flag 94595 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 50353 term 15 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
flag 28694 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 59142 term 15 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
flag 51149 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 76122 term 15 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
flag 76170 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 28458 term 15 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
flag 52347 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 84222 term 15 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
flag 58546 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 18275 term 15 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 119->118
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35219 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 118
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 1 InstallSnapshot fail
rf.commitIndex 118 args.LastIncludedIndex 109
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
flag 82467 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 78411 term 15 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 15 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
flag 97307 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 63226 term 15 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
update nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
flag 23041 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 79761 term 15 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
flag 37357 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 36793 term 15 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45085 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 25537 term 15 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
flag 25345 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 5709 term 15 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
flag 27431 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 78780 term 15 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
flag 52356 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 60281 term 15 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72198 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 53726 term 15 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
flag 84469 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 41277 term 15 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
flag 49246 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 34757 term 15 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118}]
------------------------------------------------------
client write log 2351356645240274883 (index 119) to leader 2
flag 24798 term 15 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
flag 95212 term 15 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 15 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 15 leaderCommit: 118 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118} {2351356645240274883 15 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 15 109} {7335046693478579899 15 110} {1627995944543749263 15 111} {1959159206648181357 15 112} {5571444760760070985 15 113} {6958332657476646823 15 114} {1647828004569571787 15 115} {1643186047169834001 15 116} {1416588878478494568 15 117} {4417148529546978929 15 118} {2351356645240274883 15 119}]
------------------------------------------------------
term 15 Server2 start snapshot! index=119
term 15 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
flag 98702 term 15 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 15 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 15 leaderCommit: 119 
------------------------------------------------------
flag 80043 term 15 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 15 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 15 leaderCommit: 119 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 15 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 15 119}]
------------------------------------------------------
term 15 Server0 start snapshot! index=119
term 15 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
term 15 Server1 start snapshot! index=119
term 15 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
flag 30929 term 15 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 15 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 15 leaderCommit: 119 
------------------------------------------------------
flag 57681 term 15 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 15 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 15 leaderCommit: 119 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 15 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 15 119}]
------------------------------------------------------
flag 98862 term 15 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 15 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 15 leaderCommit: 119 
------------------------------------------------------
flag 26413 term 15 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 15 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 15 leaderCommit: 119 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 15 119}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 15 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 120->119
------------------------------------------------------
flag 6380 term 15 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 15 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 15 leaderCommit: 119 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 119
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 1 InstallSnapshot fail
rf.commitIndex 119 args.LastIncludedIndex 119
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 15 119}]
------------------------------------------------------
flag 6584 term 15 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 15 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 15 leaderCommit: 119 
------------------------------------------------------
flag 44657 term 15 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 15 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 15 leaderCommit: 119 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 15 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 15 119}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3202655881588644331 (index 120) to leader 2
flag 27738 term 15 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 15 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 15 leaderCommit: 119 
------------------------------------------------------
flag 63580 term 15 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 15 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 15 leaderCommit: 119 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 15 119} {3202655881588644331 15 120}]
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79295 term 15 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 15 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 15 leaderCommit: 120 
------------------------------------------------------
flag 51331 term 15 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 15 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 15 leaderCommit: 120 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 15 119} {3202655881588644331 15 120}]
------------------------------------------------------
client write log 9054314497978658404 (index 121) to leader 2
client write log 854083891166166311 (index 122) to leader 2
client write log 7634071622848183448 (index 123) to leader 2
client write log 5459272588299630124 (index 124) to leader 2
client write log 3875754146959745737 (index 125) to leader 2
client write log 3653480465339559178 (index 126) to leader 2
client write log 4160471594205041772 (index 127) to leader 2
client write log 3444219675281294493 (index 128) to leader 2
flag 56730 term 15 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 15 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 15 leaderCommit: 120 
------------------------------------------------------
flag 14024 term 15 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 15 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 15 leaderCommit: 120 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31607 term 15 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 15 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
flag 50404 term 15 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 15 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2604271433045928900 (index 129) to leader 2
flag 41570 term 15 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 15 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
flag 18982 term 15 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 15 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
term 16 server 0 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 not vote for server 0, 日志不够新
term 15 server 1 not vote for server 0, 日志不够新
term 18 server 2 vote for server 1
term 18 server 0 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 1 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27907 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
flag 31073 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 130->129
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68966 term 18 leader 1 nextIndex[0]: 120  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
flag 3597 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
flag 35297 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
flag 8726 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81852 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
flag 82949 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
flag 54561 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
flag 82186 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7286 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
flag 3693 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76045 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
flag 75470 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
flag 1920 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
flag 2077 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48301 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
flag 16978 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
flag 47662 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
flag 28681 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3002 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
flag 61561 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
flag 87725 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
flag 25686 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
term 18 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
flag 69988 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
flag 69704 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
flag 16290 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
flag 1916 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
term 18 server 1 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 1
flag 10152 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
flag 83018 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
flag 65201 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
flag 46694 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129}]
------------------------------------------------------
client write log 2604271433045928900 (index 130) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61900 term 18 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
flag 98498 term 18 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 18 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 15 leaderCommit: 128 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129} {2604271433045928900 18 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 15 119} {3202655881588644331 15 120} {9054314497978658404 15 121} {854083891166166311 15 122} {7634071622848183448 15 123} {5459272588299630124 15 124} {3875754146959745737 15 125} {3653480465339559178 15 126} {4160471594205041772 15 127} {3444219675281294493 15 128} {2604271433045928900 15 129} {2604271433045928900 18 130}]
------------------------------------------------------
term 18 Server1 start snapshot! index=129
term 18 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
flag 32902 term 18 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 18 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 18 leaderCommit: 130 
------------------------------------------------------
flag 70219 term 18 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 18 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 18 leaderCommit: 130 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 15 129} {2604271433045928900 18 130}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 15 129} {2604271433045928900 18 130}]
------------------------------------------------------
term 18 Server2 start snapshot! index=129
term 18 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
term 18 Server0 start snapshot! index=129
term 18 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
flag 93165 term 18 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 18 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 18 leaderCommit: 130 
------------------------------------------------------
flag 3543 term 18 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 18 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 18 leaderCommit: 130 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 15 129} {2604271433045928900 18 130}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 15 129} {2604271433045928900 18 130}]
------------------------------------------------------
flag 59140 term 18 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 18 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 18 leaderCommit: 130 
------------------------------------------------------
flag 21800 term 18 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 18 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 18 leaderCommit: 130 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 15 129} {2604271433045928900 18 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 15 129} {2604271433045928900 18 130}]
------------------------------------------------------
term 18 server 2 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 2
flag 38486 term 18 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 18 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 18 leaderCommit: 130 
------------------------------------------------------
flag 34029 term 18 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 18 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 18 leaderCommit: 130 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 15 129} {2604271433045928900 18 130}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 15 129} {2604271433045928900 18 130}]
------------------------------------------------------
flag 83619 term 18 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 18 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 18 leaderCommit: 130 
------------------------------------------------------
flag 42013 term 18 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 18 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 18 leaderCommit: 130 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 15 129} {2604271433045928900 18 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 15 129} {2604271433045928900 18 130}]
------------------------------------------------------
flag 99297 term 18 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 18 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 18 leaderCommit: 130 
------------------------------------------------------
flag 4159 term 18 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 18 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 18 leaderCommit: 130 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 15 129} {2604271433045928900 18 130}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 15 129} {2604271433045928900 18 130}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 716179341320768034 (index 131) to leader 1
flag 62135 term 18 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 18 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 18 leaderCommit: 130 
------------------------------------------------------
flag 79712 term 18 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 18 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 18 leaderCommit: 130 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 15 129} {2604271433045928900 18 130} {716179341320768034 18 131}]
------------------------------------------------------
flag 25894 term 18 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 18 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 18 leaderCommit: 131 
------------------------------------------------------
flag 74721 term 18 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 18 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 18 leaderCommit: 131 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 15 129} {2604271433045928900 18 130} {716179341320768034 18 131}]
------------------------------------------------------
client write log 8004266003262781191 (index 132) to leader 1
client write log 957317046239470391 (index 133) to leader 1
client write log 8467463298079279653 (index 134) to leader 1
client write log 2912687908563700314 (index 135) to leader 1
client write log 7972927992989192972 (index 136) to leader 1
client write log 4691076078341348932 (index 137) to leader 1
client write log 2694923347830964633 (index 138) to leader 1
client write log 8323436645190639483 (index 139) to leader 1
flag 63149 term 18 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 18 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 18 leaderCommit: 131 
------------------------------------------------------
flag 2404 term 18 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 18 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 18 leaderCommit: 131 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 15 129} {2604271433045928900 18 130} {716179341320768034 18 131} {8004266003262781191 18 132} {957317046239470391 18 133} {8467463298079279653 18 134} {2912687908563700314 18 135} {7972927992989192972 18 136} {4691076078341348932 18 137} {2694923347830964633 18 138} {8323436645190639483 18 139}]
------------------------------------------------------
term 18 Server1 start snapshot! index=139
term 18 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
term 18 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52555 term 18 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 18 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 18
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 18 139}]
------------------------------------------------------
term 18 Server0 start snapshot! index=139
term 18 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
!!!!!!connect server 2
client write log 171911643300163248 (index 140) to leader 1
term 18 server 1 not vote for server 2, 日志不够新
term 18 server 0 not vote for server 2, 日志不够新
term 20 server 2 vote for server 1
term 20 server 0 vote for server 1
term 20 server 1 get vote from server 0
term 20 server 1 become leader
------------------------------------------------------
term 20 server 1 get outdate rpc reply from server 2
flag 20826 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 80508 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 20 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 141->140
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 141->140
------------------------------------------------------
flag 92943 term 20 leader 1 nextIndex[0]: 140  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 131  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 18
------------------------------------------------------
term 20 server 2 InstallSnapshot success
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 18 rf.commitIndex 139 rf.lastApplied 139
flag 72415 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 1138 term 20 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 20 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
flag 22096 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 11962 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
flag 26421 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 23320 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
flag 67179 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 38205 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
flag 84796 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 81167 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
flag 59556 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 27840 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
flag 58546 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 96906 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
flag 45064 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 52027 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
flag 35745 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 26082 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
flag 26268 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 65803 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
flag 64360 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 90554 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33737 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 12100 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
flag 14909 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 79955 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
flag 64580 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 35353 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49018 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 85115 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
flag 3949 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 34552 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
flag 10184 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 66163 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140}]
------------------------------------------------------
flag 92753 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 53245 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
client write log 171911643300163248 (index 141) to leader 1
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68646 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 38728 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141}]
------------------------------------------------------
flag 74346 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 79666 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141}]
------------------------------------------------------
flag 6678 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 15599 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141}]
------------------------------------------------------
flag 20317 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 67029 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141}]
------------------------------------------------------
flag 62043 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 39857 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 1 not vote for server 0, 任期不够新
term 20 server 0 get outdate rpc reply from server 1
flag 85280 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 22980 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141}]
------------------------------------------------------
flag 3371 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 66589 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 98233 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 26794 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 53942 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 86060 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 94815 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 16643 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 12054 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 69761 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 21 server 0 vote for server 2
term 21 server 2 get vote from server 0
term 21 server 2 become leader
------------------------------------------------------
flag 57198 term 21 leader 2 nextIndex[0]: 142  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 7772 term 21 leader 2 nextIndex[1]: 142  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141}]
------------------------------------------------------
client write log 6637442020117878670 (index 142) to leader 2
flag 89154 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 80477 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 1915 term 21 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 21 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 78901 term 21 leader 2 nextIndex[1]: 142  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142}]
------------------------------------------------------
flag 12810 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 22436 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 59708 term 21 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 21 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 48611 term 21 leader 2 nextIndex[1]: 142  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142}]
------------------------------------------------------
client write log 8669362948196679134 (index 143) to leader 2
client write log 7582341258324768038 (index 144) to leader 2
client write log 4247620158256811613 (index 145) to leader 2
client write log 4937429400192424567 (index 146) to leader 2
client write log 2346598966096337450 (index 147) to leader 2
client write log 6771254273818101832 (index 148) to leader 2
flag 9157 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 91032 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 142->141
------------------------------------------------------
flag 29938 term 21 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 21 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 12387 term 21 leader 2 nextIndex[1]: 142  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 142->141
------------------------------------------------------
term 20 leader 1 nextIndex[0]: 0  matchIndex[0]: 141
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 18
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 141
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 18
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 90060 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 78101 term 21 leader 2 nextIndex[1]: 142  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 148 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
!!!!!!connect server 1
client write log 3961637522595409360 (index 142) to leader 1
term 20 leader 1 nextIndex[0]: 0  matchIndex[0]: 141
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 18
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 141
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 18
------------------------------------------------------
term 21 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84693 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 33944 term 21 leader 2 nextIndex[1]: 142  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 148 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
flag 5427 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 13059 term 21 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55215 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 55373 term 21 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
flag 45907 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 47346 term 21 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 1 not vote for server 2, 日志不够新
term 21 server 2 get outdate rpc reply from server 1
flag 46967 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 7639 term 21 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
flag 38911 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 68279 term 21 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
flag 36032 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 53272 term 21 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54828 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 2219 term 21 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
flag 50322 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 41771 term 21 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
flag 9734 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 41802 term 21 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16267 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 52869 term 21 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
flag 43313 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 11209 term 21 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
flag 73951 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 55439 term 21 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
flag 51984 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 53063 term 21 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 149->148
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38837 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 0  matchIndex[1]: 148
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 18
------------------------------------------------------
term 21 server 1 InstallSnapshot fail
rf.commitIndex 148 args.LastIncludedIndex 139
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
term 21 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89088 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 35993 term 21 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 21 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 18 leaderCommit: 148 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
flag 28495 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 13045 term 21 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76973 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 12276 term 21 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
flag 74209 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 61796 term 21 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
flag 35593 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 58981 term 21 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148}]
------------------------------------------------------
client write log 3961637522595409360 (index 149) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9705 term 21 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
flag 55659 term 21 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 21 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 148 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148} {3961637522595409360 21 149}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 18 139} {171911643300163248 18 140} {171911643300163248 20 141} {6637442020117878670 21 142} {8669362948196679134 21 143} {7582341258324768038 21 144} {4247620158256811613 21 145} {4937429400192424567 21 146} {2346598966096337450 21 147} {6771254273818101832 21 148} {3961637522595409360 21 149}]
------------------------------------------------------
term 21 Server2 start snapshot! index=149
term 21 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58462 term 21 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 21 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 149 
------------------------------------------------------
flag 96698 term 21 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 21 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 149 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 21 149}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 21 149}]
------------------------------------------------------
term 21 Server1 start snapshot! index=149
term 21 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
term 21 Server0 start snapshot! index=149
term 21 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66132 term 21 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 21 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 149 
------------------------------------------------------
flag 45097 term 21 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 21 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 149 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 21 149}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 21 149}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13977 term 21 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 21 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 149 
------------------------------------------------------
flag 18125 term 21 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 21 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 149 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 21 149}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 21 149}]
------------------------------------------------------
flag 5786 term 21 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 21 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 149 
------------------------------------------------------
flag 85455 term 21 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 21 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 149 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 21 149}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 21 149}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 150->149
------------------------------------------------------
flag 2656 term 21 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 21 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 149 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 0  matchIndex[1]: 149
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 1 InstallSnapshot fail
rf.commitIndex 149 args.LastIncludedIndex 149
------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 21 149}]
------------------------------------------------------
flag 87483 term 21 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 21 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 149 
------------------------------------------------------
flag 57849 term 21 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 21 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 149 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 21 149}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 21 149}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7214480103849554807 (index 150) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 150->149
------------------------------------------------------
flag 13586 term 21 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 21 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 149 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 0  matchIndex[1]: 149
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 1 InstallSnapshot fail
rf.commitIndex 149 args.LastIncludedIndex 149
------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
flag 83464 term 21 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 21 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 149 
------------------------------------------------------
flag 39332 term 21 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 21 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 149 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {7214480103849554807 21 150}]
------------------------------------------------------
flag 84312 term 21 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 21 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 74827 term 21 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 21 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {7214480103849554807 21 150}]
------------------------------------------------------
client write log 3611709868001054427 (index 151) to leader 2
client write log 5337301770300167697 (index 152) to leader 2
client write log 6664294234450988593 (index 153) to leader 2
client write log 1835431608133360409 (index 154) to leader 2
client write log 686696439860655700 (index 155) to leader 2
client write log 5110207688951212026 (index 156) to leader 2
client write log 4567603087712540227 (index 157) to leader 2
flag 47182 term 21 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 21 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 71903 term 21 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 21 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 150->149
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 0  matchIndex[0]: 149
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
flag 58819 term 21 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 21 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6816452675030271043 (index 158) to leader 2
term 21 leader 2 nextIndex[0]: 0  matchIndex[0]: 149
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
flag 3384 term 21 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 21 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
term 22 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 1 vote for server 2
term 23 server 2 get vote from server 1
term 23 server 2 become leader
------------------------------------------------------
term 23 server 0 vote for server 2
term 23 server 2 get outdate rpc reply from server 0
flag 38392 term 23 leader 2 nextIndex[0]: 159  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
flag 28225 term 23 leader 2 nextIndex[1]: 159  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 159->158
------------------------------------------------------
flag 95573 term 23 leader 2 nextIndex[0]: 150  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
flag 3027 term 23 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71244 term 23 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
flag 92263 term 23 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65934 term 23 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
flag 51045 term 23 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
flag 15706 term 23 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
flag 82794 term 23 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
flag 7297 term 23 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
flag 26061 term 23 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
term 23 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
flag 15990 term 23 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
flag 14615 term 23 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
term 23 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
flag 89001 term 23 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
flag 54514 term 23 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
flag 81478 term 23 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
flag 79564 term 23 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
flag 77040 term 23 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
flag 31411 term 23 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
flag 88002 term 23 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
flag 68453 term 23 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
flag 30179 term 23 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
flag 95005 term 23 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25321 term 23 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
flag 23169 term 23 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
flag 66748 term 23 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
flag 75258 term 23 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
flag 59552 term 23 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
flag 36139 term 23 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
flag 92204 term 23 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
flag 93186 term 23 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
flag 97879 term 23 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
flag 298 term 23 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
flag 1809 term 23 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
flag 10695 term 23 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158}]
------------------------------------------------------
client write log 6816452675030271043 (index 159) to leader 2
flag 35582 term 23 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
flag 15254 term 23 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 23 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 157 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158} {6816452675030271043 23 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 149} {7214480103849554807 21 150} {3611709868001054427 21 151} {5337301770300167697 21 152} {6664294234450988593 21 153} {1835431608133360409 21 154} {686696439860655700 21 155} {5110207688951212026 21 156} {4567603087712540227 21 157} {6816452675030271043 21 158} {6816452675030271043 23 159}]
------------------------------------------------------
term 23 Server2 start snapshot! index=159
term 23 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 18855 term 23 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 23 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 23 leaderCommit: 159 
------------------------------------------------------
flag 80359 term 23 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 23 leaderCommit: 159 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 23 159}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 23 159}]
------------------------------------------------------
term 23 Server1 start snapshot! index=159
term 23 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 23 Server0 start snapshot! index=159
term 23 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 74114 term 23 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 23 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 23 leaderCommit: 159 
------------------------------------------------------
flag 87761 term 23 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 23 leaderCommit: 159 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 23 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 23 159}]
------------------------------------------------------
flag 66835 term 23 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 23 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 23 leaderCommit: 159 
------------------------------------------------------
flag 39035 term 23 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 23 leaderCommit: 159 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 23 159}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 23 159}]
------------------------------------------------------
flag 56737 term 23 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 23 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 23 leaderCommit: 159 
------------------------------------------------------
flag 79490 term 23 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 23 leaderCommit: 159 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 23 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 23 159}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30220 term 23 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 23 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 23 leaderCommit: 159 
------------------------------------------------------
flag 34421 term 23 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 23 leaderCommit: 159 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 23 159}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 23 159}]
------------------------------------------------------
term 23 server 1 not vote for server 0, 任期不够新
term 23 server 0 get outdate rpc reply from server 1
!!!!!!diconnect server 0
client write log 2887258475534351367 (index 160) to leader 2
flag 40860 term 23 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 23 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 23 leaderCommit: 159 
------------------------------------------------------
flag 62197 term 23 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 23 leaderCommit: 159 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 23 159} {2887258475534351367 23 160}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 160->159
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 0  matchIndex[0]: 159
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 23
------------------------------------------------------
flag 25297 term 23 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 23 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 23 159} {2887258475534351367 23 160}]
------------------------------------------------------
client write log 8307347866767623096 (index 161) to leader 2
client write log 7723643924202428127 (index 162) to leader 2
client write log 6853822428187132655 (index 163) to leader 2
client write log 9209778085868030763 (index 164) to leader 2
client write log 33780533979313225 (index 165) to leader 2
client write log 776998529115969174 (index 166) to leader 2
client write log 410756396443419252 (index 167) to leader 2
client write log 1336265899084728638 (index 168) to leader 2
term 23 leader 2 nextIndex[0]: 0  matchIndex[0]: 159
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 23
------------------------------------------------------
flag 933 term 23 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 23 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168}]
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 0  matchIndex[0]: 159
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 23
------------------------------------------------------
flag 32534 term 23 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 23 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168}]
------------------------------------------------------
!!!!!!connect server 0
client write log 9112481829922683973 (index 169) to leader 2
term 23 server 2 not vote for server 0, 日志不够新
term 23 server 1 not vote for server 0, 日志不够新
term 25 server 1 vote for server 2
term 25 server 2 get vote from server 1
term 25 server 2 become leader
------------------------------------------------------
term 25 server 0 vote for server 2
term 25 server 2 get outdate rpc reply from server 0
flag 39808 term 25 leader 2 nextIndex[0]: 170  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
flag 52882 term 25 leader 2 nextIndex[1]: 170  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
term 25 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 170->169
------------------------------------------------------
term 25 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 170->169
------------------------------------------------------
flag 22129 term 25 leader 2 nextIndex[0]: 160  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
flag 39042 term 25 leader 2 nextIndex[1]: 169  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91277 term 25 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
flag 78602 term 25 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
flag 81857 term 25 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
flag 57149 term 25 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
flag 83132 term 25 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
flag 34668 term 25 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
term 25 server 2 not vote for server 0, 任期不够新
term 25 server 0 get outdate rpc reply from server 2
flag 36483 term 25 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
flag 48803 term 25 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9129 term 25 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
flag 93589 term 25 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24190 term 25 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
flag 88163 term 25 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
flag 96196 term 25 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
flag 51025 term 25 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
flag 94192 term 25 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
flag 50179 term 25 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9723 term 25 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
flag 95965 term 25 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
flag 58854 term 25 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
flag 32723 term 25 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53889 term 25 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
flag 82922 term 25 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:168 
term 25 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
flag 91517 term 25 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
flag 22700 term 25 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
flag 80930 term 25 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
flag 16742 term 25 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
flag 2969 term 25 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
flag 33483 term 25 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
flag 98698 term 25 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
flag 68744 term 25 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
term 25 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
flag 78715 term 25 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
flag 51291 term 25 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
flag 17042 term 25 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
flag 12138 term 25 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169}]
------------------------------------------------------
client write log 9112481829922683973 (index 170) to leader 2
flag 95087 term 25 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
flag 79560 term 25 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 168 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169} {9112481829922683973 25 170}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 23 159} {2887258475534351367 23 160} {8307347866767623096 23 161} {7723643924202428127 23 162} {6853822428187132655 23 163} {9209778085868030763 23 164} {33780533979313225 23 165} {776998529115969174 23 166} {410756396443419252 23 167} {1336265899084728638 23 168} {9112481829922683973 23 169} {9112481829922683973 25 170}]
------------------------------------------------------
term 25 Server2 start snapshot! index=169
term 25 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
flag 50924 term 25 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
flag 91416 term 25 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 23 169} {9112481829922683973 25 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 23 169} {9112481829922683973 25 170}]
------------------------------------------------------
term 25 Server1 start snapshot! index=169
term 25 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
term 25 Server0 start snapshot! index=169
term 25 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
flag 6035 term 25 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
flag 73720 term 25 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 23 169} {9112481829922683973 25 170}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 23 169} {9112481829922683973 25 170}]
------------------------------------------------------
flag 28958 term 25 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
flag 77817 term 25 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 23 169} {9112481829922683973 25 170}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 23 169} {9112481829922683973 25 170}]
------------------------------------------------------
flag 97456 term 25 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
flag 887 term 25 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 23 169} {9112481829922683973 25 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 23 169} {9112481829922683973 25 170}]
------------------------------------------------------
flag 16512 term 25 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
flag 8819 term 25 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 23 169} {9112481829922683973 25 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 23 169} {9112481829922683973 25 170}]
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61619 term 25 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
flag 41240 term 25 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 23 169} {9112481829922683973 25 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 23 169} {9112481829922683973 25 170}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 77910 term 25 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
flag 2027 term 25 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
flag 39403 term 25 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
flag 56787 term 25 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
flag 91839 term 25 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
flag 28362 term 25 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
flag 54674 term 25 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
flag 7397 term 25 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
term 26 server 1 vote for server 0
term 26 server 0 get vote from server 1
term 26 server 0 become leader
------------------------------------------------------
flag 69542 term 26 leader 0 nextIndex[1]: 171  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
flag 72564 term 26 leader 0 nextIndex[2]: 171  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 23 169} {9112481829922683973 25 170}]
------------------------------------------------------
client write log 6686892036672933756 (index 171) to leader 0
flag 82057 term 25 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
flag 23494 term 25 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
flag 86022 term 26 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 26 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
flag 17479 term 26 leader 0 nextIndex[2]: 171  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 23 169} {9112481829922683973 25 170} {6686892036672933756 26 171}]
------------------------------------------------------
flag 57202 term 25 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
flag 18233 term 25 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 171->170
------------------------------------------------------
flag 14573 term 26 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 26 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 85541 term 26 leader 0 nextIndex[2]: 171  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 171 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 23 169} {9112481829922683973 25 170} {6686892036672933756 26 171}]
------------------------------------------------------
client write log 7408529644883399751 (index 172) to leader 0
client write log 9190473744332983396 (index 173) to leader 0
client write log 5560611004710671930 (index 174) to leader 0
client write log 340244297956673102 (index 175) to leader 0
client write log 4097401602925239362 (index 176) to leader 0
client write log 4459092933383479175 (index 177) to leader 0
client write log 7247868195640313193 (index 178) to leader 0
client write log 2168347675108450352 (index 179) to leader 0
client write log 7157632459163202985 (index 180) to leader 0
client write log 4792942622748295674 (index 181) to leader 0
client write log 2815997871844599293 (index 182) to leader 0
client write log 7301232109993720941 (index 183) to leader 0
client write log 5148508800663279749 (index 184) to leader 0
client write log 5738929443456945394 (index 185) to leader 0
flag 33398 term 25 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
term 25 leader 2 nextIndex[1]: 0  matchIndex[1]: 170
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 23
------------------------------------------------------
flag 90984 term 26 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 26 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 42899 term 26 leader 0 nextIndex[2]: 171  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 171 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 23 169} {9112481829922683973 25 170} {6686892036672933756 26 171} {7408529644883399751 26 172} {9190473744332983396 26 173} {5560611004710671930 26 174} {340244297956673102 26 175} {4097401602925239362 26 176} {4459092933383479175 26 177} {7247868195640313193 26 178} {2168347675108450352 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
term 26 Server0 start snapshot! index=179
term 26 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=185
-------------------------------------------------------------
flag 21511 term 25 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
term 25 leader 2 nextIndex[1]: 0  matchIndex[1]: 170
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 23
------------------------------------------------------
flag 41032 term 26 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 171  matchIndex[2]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
term 26 Server1 start snapshot! index=179
term 26 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=185
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3314648714006129640 (index 171) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
flag 83843 term 25 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 25 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 25 leaderCommit: 170 
------------------------------------------------------
term 25 leader 2 nextIndex[1]: 0  matchIndex[1]: 170
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 23
------------------------------------------------------
term 26 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 0 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95736 term 26 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 171  matchIndex[2]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 2 InstallSnapshot success
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 26 rf.commitIndex 179 rf.lastApplied 179
term 26 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
term 26 server 0 not vote for server 2, 日志不够新
term 26 server 1 not vote for server 2, 日志不够新
term 28 server 2 vote for server 0
term 28 server 0 get vote from server 2
term 28 server 0 become leader
------------------------------------------------------
term 28 server 1 vote for server 0
term 28 server 0 get outdate rpc reply from server 1
flag 31514 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 50685 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 186->185
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
flag 48310 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 99795 term 28 leader 0 nextIndex[2]: 180  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59238 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 12905 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
flag 61640 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 56279 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53040 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 21948 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
flag 60440 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 41231 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
flag 14069 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 59182 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62748 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 98785 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
flag 687 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 87462 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92275 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 16673 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28889 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 68359 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
flag 12001 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 14735 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15266 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 46595 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13166 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 41740 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
flag 72025 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 88531 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
flag 6612 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 10721 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
flag 1602 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 74955 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
flag 31188 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 84186 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:185 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
flag 94521 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 49802 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185}]
------------------------------------------------------
client write log 3314648714006129640 (index 186) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15186 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 12818 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185} {3314648714006129640 28 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185} {3314648714006129640 28 186}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39248 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 16421 term 28 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185} {3314648714006129640 28 186}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185} {3314648714006129640 28 186}]
------------------------------------------------------
flag 31892 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 63611 term 28 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185} {3314648714006129640 28 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185} {3314648714006129640 28 186}]
------------------------------------------------------
flag 35779 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 55530 term 28 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185} {3314648714006129640 28 186}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185} {3314648714006129640 28 186}]
------------------------------------------------------
flag 18553 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 30770 term 28 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185} {3314648714006129640 28 186}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185} {3314648714006129640 28 186}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70984 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 30737 term 28 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185} {3314648714006129640 28 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185} {3314648714006129640 28 186}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5396 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 48795 term 28 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185} {3314648714006129640 28 186}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185} {3314648714006129640 28 186}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8389974700387382348 (index 187) to leader 0
flag 5381 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 83595 term 28 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185} {3314648714006129640 28 186} {8389974700387382348 28 187}]
------------------------------------------------------
flag 23597 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 187 
------------------------------------------------------
flag 51098 term 28 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 28 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 28 leaderCommit: 187 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185} {3314648714006129640 28 186} {8389974700387382348 28 187}]
------------------------------------------------------
client write log 7524763747652571281 (index 188) to leader 0
client write log 4598936077082385823 (index 189) to leader 0
client write log 1882749719024860032 (index 190) to leader 0
client write log 3600067396236533317 (index 191) to leader 0
client write log 5930037615631019709 (index 192) to leader 0
client write log 659484989269220456 (index 193) to leader 0
client write log 2988167238002375561 (index 194) to leader 0
client write log 8606454108445273006 (index 195) to leader 0
client write log 7524604290166691412 (index 196) to leader 0
client write log 6828468321867163832 (index 197) to leader 0
client write log 6359737236267428296 (index 198) to leader 0
client write log 2037712833625469470 (index 199) to leader 0
client write log 995720042821121138 (index 200) to leader 0
flag 73094 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 187 
------------------------------------------------------
flag 23571 term 28 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 28 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 28 leaderCommit: 187 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 26 179} {7157632459163202985 26 180} {4792942622748295674 26 181} {2815997871844599293 26 182} {7301232109993720941 26 183} {5148508800663279749 26 184} {5738929443456945394 26 185} {3314648714006129640 28 186} {8389974700387382348 28 187} {7524763747652571281 28 188} {4598936077082385823 28 189} {1882749719024860032 28 190} {3600067396236533317 28 191} {5930037615631019709 28 192} {659484989269220456 28 193} {2988167238002375561 28 194} {8606454108445273006 28 195} {7524604290166691412 28 196} {6828468321867163832 28 197} {6359737236267428296 28 198} {2037712833625469470 28 199} {995720042821121138 28 200}]
------------------------------------------------------
term 28 Server0 start snapshot! index=189
term 28 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=200
-------------------------------------------------------------
term 28 Server0 start snapshot! index=199
term 28 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=200
-------------------------------------------------------------
term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 28
------------------------------------------------------
flag 48512 term 28 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200}]
------------------------------------------------------
term 28 Server2 start snapshot! index=189
term 28 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=200
-------------------------------------------------------------
term 28 Server2 start snapshot! index=199
term 28 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=200
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3260810942471870998 (index 201) to leader 0
term 28 server 2 not vote for server 1, 日志不够新
term 28 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 2 vote for server 0
term 30 server 1 vote for server 0
term 30 server 0 get vote from server 2
term 30 server 0 become leader
------------------------------------------------------
term 30 server 0 get outdate rpc reply from server 1
flag 63597 term 30 leader 0 nextIndex[1]: 202  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
flag 670 term 30 leader 0 nextIndex[2]: 202  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 30 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 202->201
------------------------------------------------------
term 30 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 202->201
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 187  matchIndex[1]: 0
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 28
------------------------------------------------------
flag 51665 term 30 leader 0 nextIndex[2]: 201  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 30 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 28 rf.commitIndex 199 rf.lastApplied 199
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12470 term 30 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 30 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
flag 41157 term 30 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
flag 79645 term 30 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
flag 52574 term 30 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
term 30 server 2 not vote for server 0, 任期不够新
term 30 server 0 get outdate rpc reply from server 2
flag 21363 term 30 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
flag 71210 term 30 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
flag 17026 term 30 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
flag 88434 term 30 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
flag 86079 term 30 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
flag 55283 term 30 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
flag 82430 term 30 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
flag 95348 term 30 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
flag 47856 term 30 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
flag 85736 term 30 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
flag 47592 term 30 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
flag 28265 term 30 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81359 term 30 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
flag 41871 term 30 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
flag 46096 term 30 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
flag 57140 term 30 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70511 term 30 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
flag 37048 term 30 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
flag 27390 term 30 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
flag 58165 term 30 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
flag 99363 term 30 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
flag 14319 term 30 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36064 term 30 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
flag 36868 term 30 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
flag 92272 term 30 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
flag 47577 term 30 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3049 term 30 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
flag 62709 term 30 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
term 30 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
flag 10114 term 30 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
flag 5454 term 30 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70860 term 30 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
flag 78887 term 30 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201}]
------------------------------------------------------
client write log 3260810942471870998 (index 202) to leader 0
flag 95699 term 30 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
flag 145 term 30 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 200 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 30 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
update nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201} {3260810942471870998 30 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201} {3260810942471870998 30 202}]
------------------------------------------------------
flag 20433 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 30 leaderCommit: 202 
------------------------------------------------------
flag 61301 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 30 leaderCommit: 202 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201} {3260810942471870998 30 202}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201} {3260810942471870998 30 202}]
------------------------------------------------------
flag 10234 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 30 leaderCommit: 202 
------------------------------------------------------
flag 15841 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 30 leaderCommit: 202 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201} {3260810942471870998 30 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201} {3260810942471870998 30 202}]
------------------------------------------------------
flag 32327 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 30 leaderCommit: 202 
------------------------------------------------------
flag 86967 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 30 leaderCommit: 202 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201} {3260810942471870998 30 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201} {3260810942471870998 30 202}]
------------------------------------------------------
flag 87474 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 30 leaderCommit: 202 
------------------------------------------------------
flag 90111 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 30 leaderCommit: 202 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201} {3260810942471870998 30 202}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201} {3260810942471870998 30 202}]
------------------------------------------------------
flag 49975 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 30 leaderCommit: 202 
------------------------------------------------------
flag 52650 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 30 leaderCommit: 202 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201} {3260810942471870998 30 202}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201} {3260810942471870998 30 202}]
------------------------------------------------------
flag 88292 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 30 leaderCommit: 202 
------------------------------------------------------
flag 38867 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 30 leaderCommit: 202 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201} {3260810942471870998 30 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201} {3260810942471870998 30 202}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8597481183650235827 (index 203) to leader 0
flag 16729 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 30 leaderCommit: 202 
------------------------------------------------------
flag 95669 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 30 leaderCommit: 202 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201} {3260810942471870998 30 202} {8597481183650235827 30 203}]
------------------------------------------------------
flag 47375 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
flag 48673 term 30 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201} {3260810942471870998 30 202} {8597481183650235827 30 203}]
------------------------------------------------------
client write log 3406138886753903801 (index 204) to leader 0
client write log 7415128455286593529 (index 205) to leader 0
client write log 4400147905363580995 (index 206) to leader 0
client write log 217551282711916707 (index 207) to leader 0
client write log 7705297110654641729 (index 208) to leader 0
client write log 9089132268578120260 (index 209) to leader 0
client write log 8168333764486167823 (index 210) to leader 0
client write log 2387076832137412845 (index 211) to leader 0
flag 33387 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
flag 35889 term 30 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 28 199} {995720042821121138 28 200} {3260810942471870998 28 201} {3260810942471870998 30 202} {8597481183650235827 30 203} {3406138886753903801 30 204} {7415128455286593529 30 205} {4400147905363580995 30 206} {217551282711916707 30 207} {7705297110654641729 30 208} {9089132268578120260 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211}]
------------------------------------------------------
term 30 Server0 start snapshot! index=209
term 30 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=211
-------------------------------------------------------------
term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 30
------------------------------------------------------
flag 63626 term 30 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 30 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211}]
------------------------------------------------------
term 30 Server2 start snapshot! index=209
term 30 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=211
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2825744009386169851 (index 212) to leader 0
term 30 server 2 not vote for server 1, 日志不够新
term 30 server 0 not vote for server 1, 日志不够新
term 32 server 2 vote for server 0
term 32 server 1 vote for server 0
term 32 server 0 get vote from server 2
term 32 server 0 become leader
------------------------------------------------------
term 32 server 0 get outdate rpc reply from server 1
flag 15289 term 32 leader 0 nextIndex[1]: 213  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 16528 term 32 leader 0 nextIndex[2]: 213  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 32 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 213->212
------------------------------------------------------
term 32 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 213->212
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 203  matchIndex[1]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 30
------------------------------------------------------
flag 3961 term 32 leader 0 nextIndex[2]: 212  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
term 32 server 1 InstallSnapshot success
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 30 rf.commitIndex 209 rf.lastApplied 209
flag 98544 term 32 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 32 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 62704 term 32 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
flag 57879 term 32 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 56130 term 32 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
flag 39381 term 32 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 69760 term 32 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
flag 3384 term 32 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 76195 term 32 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 797 term 32 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 87291 term 32 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23056 term 32 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 4778 term 32 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
flag 25453 term 32 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 26598 term 32 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
flag 63376 term 32 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 64035 term 32 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75874 term 32 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 24262 term 32 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
flag 55322 term 32 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 7838 term 32 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
flag 58806 term 32 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 53700 term 32 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
flag 66197 term 32 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 25675 term 32 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
flag 52062 term 32 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 39038 term 32 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
flag 72537 term 32 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 37790 term 32 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
flag 87641 term 32 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 31727 term 32 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
flag 21405 term 32 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 7668 term 32 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
flag 37087 term 32 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 79319 term 32 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212}]
------------------------------------------------------
client write log 2825744009386169851 (index 213) to leader 0
flag 22559 term 32 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 86375 term 32 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 32 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212} {2825744009386169851 32 213}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212} {2825744009386169851 32 213}]
------------------------------------------------------
flag 9752 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 24732 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212} {2825744009386169851 32 213}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212} {2825744009386169851 32 213}]
------------------------------------------------------
flag 80190 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 70512 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212} {2825744009386169851 32 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212} {2825744009386169851 32 213}]
------------------------------------------------------
flag 25457 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 77020 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212} {2825744009386169851 32 213}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212} {2825744009386169851 32 213}]
------------------------------------------------------
flag 79249 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 90528 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212} {2825744009386169851 32 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212} {2825744009386169851 32 213}]
------------------------------------------------------
flag 35700 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 41444 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212} {2825744009386169851 32 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212} {2825744009386169851 32 213}]
------------------------------------------------------
flag 73253 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 71008 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212} {2825744009386169851 32 213}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212} {2825744009386169851 32 213}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 24792 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 41779 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 65089 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 1753 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 41343 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 18566 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 62420 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 83474 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 vote for server 1
term 33 server 1 get vote from server 2
term 33 server 1 become leader
------------------------------------------------------
flag 12688 term 33 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 30971 term 33 leader 1 nextIndex[2]: 214  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212} {2825744009386169851 32 213}]
------------------------------------------------------
flag 4773 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 15384 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
client write log 5504194771836093755 (index 214) to leader 1
flag 34048 term 33 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 3705 term 33 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212} {2825744009386169851 32 213} {5504194771836093755 33 214}]
------------------------------------------------------
flag 41727 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 273 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 90254 term 33 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 6658 term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212} {2825744009386169851 32 213} {5504194771836093755 33 214}]
------------------------------------------------------
client write log 8339189956069410965 (index 215) to leader 1
client write log 7884687811727466757 (index 216) to leader 1
client write log 7253368515682833636 (index 217) to leader 1
client write log 7321613103994103724 (index 218) to leader 1
client write log 2578385713179589473 (index 219) to leader 1
client write log 4172945217064791000 (index 220) to leader 1
client write log 1240775667714690937 (index 221) to leader 1
client write log 5103874221207848560 (index 222) to leader 1
client write log 4525200020173959883 (index 223) to leader 1
client write log 7051344060088939522 (index 224) to leader 1
client write log 431525766254979940 (index 225) to leader 1
client write log 7361353690361442174 (index 226) to leader 1
flag 10472 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 43614 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 5347 term 33 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 15775 term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 30 209} {8168333764486167823 30 210} {2387076832137412845 30 211} {2825744009386169851 30 212} {2825744009386169851 32 213} {5504194771836093755 33 214} {8339189956069410965 33 215} {7884687811727466757 33 216} {7253368515682833636 33 217} {7321613103994103724 33 218} {2578385713179589473 33 219} {4172945217064791000 33 220} {1240775667714690937 33 221} {5103874221207848560 33 222} {4525200020173959883 33 223} {7051344060088939522 33 224} {431525766254979940 33 225} {7361353690361442174 33 226}]
------------------------------------------------------
term 33 Server1 start snapshot! index=219
term 33 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=226
-------------------------------------------------------------
flag 71914 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 17909 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 33 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 33
------------------------------------------------------
flag 95921 term 33 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 33 leaderCommit: 226 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 33 219} {4172945217064791000 33 220} {1240775667714690937 33 221} {5103874221207848560 33 222} {4525200020173959883 33 223} {7051344060088939522 33 224} {431525766254979940 33 225} {7361353690361442174 33 226}]
------------------------------------------------------
term 33 Server2 start snapshot! index=219
term 33 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=226
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3581294685572848951 (index 227) to leader 1
flag 28025 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 78484 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 33 server 1 AppendEntries false 领导者任期过期 args.Term 32
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 33 server 2 AppendEntries false 领导者任期过期 args.Term 32
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 214->213
------------------------------------------------------
term 33 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 33
------------------------------------------------------
flag 93735 term 33 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 33 leaderCommit: 226 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {4172945217064791000 33 220} {1240775667714690937 33 221} {5103874221207848560 33 222} {4525200020173959883 33 223} {7051344060088939522 33 224} {431525766254979940 33 225} {7361353690361442174 33 226} {3581294685572848951 33 227}]
------------------------------------------------------
term 33 server 0 InstallSnapshot success
------------------------------------------------------
term 33 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 33 rf.commitIndex 219 rf.lastApplied 219
flag 8412 term 33 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 33 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
flag 50612 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {4172945217064791000 33 220} {1240775667714690937 33 221} {5103874221207848560 33 222} {4525200020173959883 33 223} {7051344060088939522 33 224} {431525766254979940 33 225} {7361353690361442174 33 226} {3581294685572848951 33 227}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {4172945217064791000 33 220} {1240775667714690937 33 221} {5103874221207848560 33 222} {4525200020173959883 33 223} {7051344060088939522 33 224} {431525766254979940 33 225} {7361353690361442174 33 226} {3581294685572848951 33 227}]
------------------------------------------------------
flag 46038 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
flag 37889 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {4172945217064791000 33 220} {1240775667714690937 33 221} {5103874221207848560 33 222} {4525200020173959883 33 223} {7051344060088939522 33 224} {431525766254979940 33 225} {7361353690361442174 33 226} {3581294685572848951 33 227}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {4172945217064791000 33 220} {1240775667714690937 33 221} {5103874221207848560 33 222} {4525200020173959883 33 223} {7051344060088939522 33 224} {431525766254979940 33 225} {7361353690361442174 33 226} {3581294685572848951 33 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 228->227
------------------------------------------------------
term 33 leader 1 nextIndex[0]: 0  matchIndex[0]: 227
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 33
------------------------------------------------------
flag 93922 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {4172945217064791000 33 220} {1240775667714690937 33 221} {5103874221207848560 33 222} {4525200020173959883 33 223} {7051344060088939522 33 224} {431525766254979940 33 225} {7361353690361442174 33 226} {3581294685572848951 33 227}]
------------------------------------------------------
term 33 server 0 InstallSnapshot fail
rf.commitIndex 227 args.LastIncludedIndex 219
------------------------------------------------------
term 33 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
flag 3589 term 33 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 33 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
flag 38018 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {4172945217064791000 33 220} {1240775667714690937 33 221} {5103874221207848560 33 222} {4525200020173959883 33 223} {7051344060088939522 33 224} {431525766254979940 33 225} {7361353690361442174 33 226} {3581294685572848951 33 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {4172945217064791000 33 220} {1240775667714690937 33 221} {5103874221207848560 33 222} {4525200020173959883 33 223} {7051344060088939522 33 224} {431525766254979940 33 225} {7361353690361442174 33 226} {3581294685572848951 33 227}]
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35296 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
flag 98318 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {4172945217064791000 33 220} {1240775667714690937 33 221} {5103874221207848560 33 222} {4525200020173959883 33 223} {7051344060088939522 33 224} {431525766254979940 33 225} {7361353690361442174 33 226} {3581294685572848951 33 227}]
term 33 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {4172945217064791000 33 220} {1240775667714690937 33 221} {5103874221207848560 33 222} {4525200020173959883 33 223} {7051344060088939522 33 224} {431525766254979940 33 225} {7361353690361442174 33 226} {3581294685572848951 33 227}]
------------------------------------------------------
flag 78397 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
flag 82361 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
term 33 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
[{snapshot 33 219} {4172945217064791000 33 220} {1240775667714690937 33 221} {5103874221207848560 33 222} {4525200020173959883 33 223} {7051344060088939522 33 224} {431525766254979940 33 225} {7361353690361442174 33 226} {3581294685572848951 33 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {4172945217064791000 33 220} {1240775667714690937 33 221} {5103874221207848560 33 222} {4525200020173959883 33 223} {7051344060088939522 33 224} {431525766254979940 33 225} {7361353690361442174 33 226} {3581294685572848951 33 227}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53986 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
flag 23459 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {4172945217064791000 33 220} {1240775667714690937 33 221} {5103874221207848560 33 222} {4525200020173959883 33 223} {7051344060088939522 33 224} {431525766254979940 33 225} {7361353690361442174 33 226} {3581294685572848951 33 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 33 219} {4172945217064791000 33 220} {1240775667714690937 33 221} {5103874221207848560 33 222} {4525200020173959883 33 223} {7051344060088939522 33 224} {431525766254979940 33 225} {7361353690361442174 33 226} {3581294685572848951 33 227}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1849710248465939803 (index 228) to leader 1
flag 53278 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
flag 43209 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 33 219} {4172945217064791000 33 220} {1240775667714690937 33 221} {5103874221207848560 33 222} {4525200020173959883 33 223} {7051344060088939522 33 224} {431525766254979940 33 225} {7361353690361442174 33 226} {3581294685572848951 33 227} {1849710248465939803 33 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30097 term 33 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 33 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
flag 4344 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 33 219} {4172945217064791000 33 220} {1240775667714690937 33 221} {5103874221207848560 33 222} {4525200020173959883 33 223} {7051344060088939522 33 224} {431525766254979940 33 225} {7361353690361442174 33 226} {3581294685572848951 33 227} {1849710248465939803 33 228}]
------------------------------------------------------
client write log 5076928129819662422 (index 229) to leader 1
client write log 7914165070808749202 (index 230) to leader 1
client write log 1589796750168569257 (index 231) to leader 1
client write log 4711358259533226678 (index 232) to leader 1
client write log 6240036545766571241 (index 233) to leader 1
client write log 6374648168275440650 (index 234) to leader 1
client write log 1950532341356226307 (index 235) to leader 1
client write log 395501976154932880 (index 236) to leader 1
client write log 2434370331464969679 (index 237) to leader 1
client write log 269636353423911660 (index 238) to leader 1
client write log 5332217308028663716 (index 239) to leader 1
client write log 3362052024786455565 (index 240) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72345 term 33 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 33 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
flag 24809 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 33 219} {4172945217064791000 33 220} {1240775667714690937 33 221} {5103874221207848560 33 222} {4525200020173959883 33 223} {7051344060088939522 33 224} {431525766254979940 33 225} {7361353690361442174 33 226} {3581294685572848951 33 227} {1849710248465939803 33 228} {5076928129819662422 33 229} {7914165070808749202 33 230} {1589796750168569257 33 231} {4711358259533226678 33 232} {6240036545766571241 33 233} {6374648168275440650 33 234} {1950532341356226307 33 235} {395501976154932880 33 236} {2434370331464969679 33 237} {269636353423911660 33 238} {5332217308028663716 33 239} {3362052024786455565 33 240}]
------------------------------------------------------
term 33 Server1 start snapshot! index=229
term 33 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=240
-------------------------------------------------------------
term 33 Server1 start snapshot! index=239
term 33 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=240
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69544 term 33 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 33 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240}]
------------------------------------------------------
term 33 Server0 start snapshot! index=229
term 33 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=240
-------------------------------------------------------------
term 33 Server0 start snapshot! index=239
term 33 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=240
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1732818912978352080 (index 241) to leader 1
flag 96916 term 33 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 33 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 33
------------------------------------------------------
term 34 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 2 vote for server 1
term 35 server 1 get vote from server 2
term 35 server 1 become leader
------------------------------------------------------
term 35 server 0 vote for server 1
term 35 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71037 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
flag 74317 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 242->241
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90181 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 228  matchIndex[2]: 0
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 33
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
term 35 server 2 InstallSnapshot success
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 33 rf.commitIndex 239 rf.lastApplied 239
flag 47409 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
flag 24724 term 35 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 35 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
term 35 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
flag 56388 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
flag 10135 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:240 
term 35 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
flag 54632 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
flag 58645 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41423 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
flag 530 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
flag 86348 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
flag 36202 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
flag 43546 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
flag 11124 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
flag 99563 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
flag 85810 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
flag 6999 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
flag 70485 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
flag 95510 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
flag 6387 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
flag 5743 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
flag 1804 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
flag 27877 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
flag 57568 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28076 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
flag 14194 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27560 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
flag 14484 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
flag 18256 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
flag 38430 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
flag 86865 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
flag 30469 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
flag 79023 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
flag 28222 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
flag 15247 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
flag 3311 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241}]
------------------------------------------------------
client write log 1732818912978352080 (index 242) to leader 1
flag 45702 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
flag 72513 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 240 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241} {1732818912978352080 35 242}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241} {1732818912978352080 35 242}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34258 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 35 leaderCommit: 242 
------------------------------------------------------
flag 20050 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 35 leaderCommit: 242 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241} {1732818912978352080 35 242}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241} {1732818912978352080 35 242}]
------------------------------------------------------
flag 5501 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 35 leaderCommit: 242 
------------------------------------------------------
flag 23208 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 35 leaderCommit: 242 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241} {1732818912978352080 35 242}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241} {1732818912978352080 35 242}]
------------------------------------------------------
flag 70708 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 35 leaderCommit: 242 
------------------------------------------------------
flag 21800 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 35 leaderCommit: 242 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241} {1732818912978352080 35 242}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241} {1732818912978352080 35 242}]
------------------------------------------------------
flag 350 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 35 leaderCommit: 242 
------------------------------------------------------
flag 71029 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 35 leaderCommit: 242 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241} {1732818912978352080 35 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241} {1732818912978352080 35 242}]
------------------------------------------------------
term 35 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46866 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 35 leaderCommit: 242 
------------------------------------------------------
flag 28231 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 35 leaderCommit: 242 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241} {1732818912978352080 35 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241} {1732818912978352080 35 242}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1985244655658533227 (index 243) to leader 1
flag 39152 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 35 leaderCommit: 242 
------------------------------------------------------
flag 9718 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 35 leaderCommit: 242 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241} {1732818912978352080 35 242} {1985244655658533227 35 243}]
------------------------------------------------------
flag 89028 term 35 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 44507 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241} {1732818912978352080 35 242} {1985244655658533227 35 243}]
------------------------------------------------------
client write log 7602311090920596952 (index 244) to leader 1
client write log 3144985738522052085 (index 245) to leader 1
client write log 2480980464935603087 (index 246) to leader 1
client write log 7824494544731740504 (index 247) to leader 1
client write log 2003065083778226739 (index 248) to leader 1
client write log 3310967709510986006 (index 249) to leader 1
client write log 2199656544143209873 (index 250) to leader 1
client write log 4447473279128714000 (index 251) to leader 1
flag 22837 term 35 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 51302 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 33 239} {3362052024786455565 33 240} {1732818912978352080 33 241} {1732818912978352080 35 242} {1985244655658533227 35 243} {7602311090920596952 35 244} {3144985738522052085 35 245} {2480980464935603087 35 246} {7824494544731740504 35 247} {2003065083778226739 35 248} {3310967709510986006 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251}]
------------------------------------------------------
term 35 Server1 start snapshot! index=249
term 35 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=251
-------------------------------------------------------------
flag 33318 term 35 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 35 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251}]
------------------------------------------------------
term 35 Server0 start snapshot! index=249
term 35 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=251
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5140534499289146740 (index 252) to leader 1
term 35 server 1 not vote for server 2, 日志不够新
term 35 server 0 not vote for server 2, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 1 not vote for server 2, 任期不够新
term 36 server 2 get outdate rpc reply from server 1
term 37 server 2 vote for server 1
term 37 server 1 get vote from server 2
term 37 server 1 become leader
------------------------------------------------------
term 37 server 0 vote for server 1
term 37 server 1 get outdate rpc reply from server 0
flag 53890 term 37 leader 1 nextIndex[0]: 253  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
flag 85966 term 37 leader 1 nextIndex[2]: 253  matchIndex[2]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
term 37 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 253->252
------------------------------------------------------
term 37 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 253->252
------------------------------------------------------
flag 77358 term 37 leader 1 nextIndex[0]: 252  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 243  matchIndex[2]: 0
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 35
------------------------------------------------------
term 37 server 2 InstallSnapshot success
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 35 rf.commitIndex 249 rf.lastApplied 249
term 37 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51591 term 37 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
flag 57045 term 37 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 37 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
flag 16993 term 37 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
flag 31272 term 37 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27259 term 37 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
flag 6943 term 37 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
flag 11078 term 37 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
flag 90086 term 37 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
flag 64766 term 37 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
flag 1918 term 37 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
flag 42093 term 37 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
flag 33481 term 37 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
flag 37336 term 37 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
flag 3712 term 37 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
flag 79611 term 37 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
flag 88957 term 37 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
term 37 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
flag 43628 term 37 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
flag 63568 term 37 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
term 37 server 0 not vote for server 1, 任期不够新
term 37 server 1 get outdate rpc reply from server 0
flag 81968 term 37 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
flag 42993 term 37 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62370 term 37 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
flag 75245 term 37 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
flag 11620 term 37 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
flag 68662 term 37 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41430 term 37 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
flag 74047 term 37 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
flag 51512 term 37 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
flag 49477 term 37 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15979 term 37 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
flag 84279 term 37 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55509 term 37 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
flag 12209 term 37 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
flag 47019 term 37 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
flag 55049 term 37 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252}]
------------------------------------------------------
client write log 5140534499289146740 (index 253) to leader 1
flag 39964 term 37 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
flag 68083 term 37 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 37 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 35 leaderCommit: 251 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54643 term 37 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 56726 term 37 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253}]
------------------------------------------------------
flag 39064 term 37 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 79603 term 37 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253}]
------------------------------------------------------
flag 54980 term 37 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 17493 term 37 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86530 term 37 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 61935 term 37 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253}]
------------------------------------------------------
flag 22136 term 37 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 7646 term 37 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253}]
------------------------------------------------------
flag 45958 term 37 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 92217 term 37 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 36644 term 37 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 94846 term 37 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 18049 term 37 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 51158 term 37 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 54056 term 37 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 58184 term 37 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 11290 term 37 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 77174 term 37 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
term 38 server 2 vote for server 0
term 38 server 0 get vote from server 2
term 38 server 0 become leader
------------------------------------------------------
flag 62740 term 38 leader 0 nextIndex[1]: 254  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 29928 term 38 leader 0 nextIndex[2]: 254  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253}]
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 7553951871796142754 (index 254) to leader 0
term 38 server 0 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 0
flag 42558 term 37 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 7121 term 37 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 31570 term 38 leader 0 nextIndex[1]: 254  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 23220 term 38 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 38 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254}]
------------------------------------------------------
flag 99273 term 37 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 85120 term 37 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 3456 term 38 leader 0 nextIndex[1]: 254  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 28536 term 38 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 38 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254}]
------------------------------------------------------
client write log 4373358798817098839 (index 255) to leader 0
flag 9547 term 37 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 72889 term 37 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 38323 term 38 leader 0 nextIndex[1]: 254  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 19595 term 38 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 38 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 254 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
flag 69191 term 37 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 86435 term 37 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 72811 term 38 leader 0 nextIndex[1]: 254  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
flag 20564 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
!!!!!!connect server 1
client write log 6170800862854648914 (index 254) to leader 1
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65709 term 37 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
flag 65352 term 37 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 37 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
term 38 server 2 AppendEntries false 领导者任期过期 args.Term 37
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 38 server 0 AppendEntries false 领导者任期过期 args.Term 37
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11431 term 38 leader 0 nextIndex[1]: 254  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
flag 47054 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
flag 27154 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 51753 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
flag 48797 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 58824 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
flag 82143 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 59232 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78042 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 66751 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28243 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 83406 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
flag 83870 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 43252 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31753 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 55416 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
flag 84604 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 31557 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
flag 4234 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 84015 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
term 38 server 1 not vote for server 0, 日志不够新
term 38 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 256->255
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 255
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 35
------------------------------------------------------
flag 14978 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
term 38 server 1 InstallSnapshot fail
rf.commitIndex 255 args.LastIncludedIndex 249
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31180 term 38 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 38 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 35 leaderCommit: 255 
------------------------------------------------------
flag 51997 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
flag 51322 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 25118 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89018 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 4686 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
term 38 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
flag 63440 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 63487 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
flag 2754 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 6857 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
flag 87121 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 64402 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
flag 78595 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 26457 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:255 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
flag 8164 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 88495 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
flag 41760 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 35831 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6170800862854648914 (index 256) to leader 0
flag 28334 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 19402 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255} {6170800862854648914 38 256}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255} {6170800862854648914 38 256}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52438 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 24473 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255} {6170800862854648914 38 256}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255} {6170800862854648914 38 256}]
------------------------------------------------------
flag 34740 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 41911 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255} {6170800862854648914 38 256}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255} {6170800862854648914 38 256}]
------------------------------------------------------
flag 22113 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 48504 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255} {6170800862854648914 38 256}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255} {6170800862854648914 38 256}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33794 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 53828 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255} {6170800862854648914 38 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255} {6170800862854648914 38 256}]
------------------------------------------------------
flag 64321 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 77068 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255} {6170800862854648914 38 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255} {6170800862854648914 38 256}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4425717178886162229 (index 257) to leader 0
flag 12333 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 91240 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255} {6170800862854648914 38 256} {4425717178886162229 38 257}]
------------------------------------------------------
flag 95962 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 46963 term 38 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 38 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255} {6170800862854648914 38 256} {4425717178886162229 38 257}]
------------------------------------------------------
client write log 6281693187747551896 (index 258) to leader 0
client write log 6663088551709067905 (index 259) to leader 0
client write log 1428374212164912548 (index 260) to leader 0
client write log 5620756367738574126 (index 261) to leader 0
client write log 6941739950184173196 (index 262) to leader 0
client write log 6994103892582105685 (index 263) to leader 0
flag 66469 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 94529 term 38 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 38 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 35 249} {2199656544143209873 35 250} {4447473279128714000 35 251} {5140534499289146740 35 252} {5140534499289146740 37 253} {7553951871796142754 38 254} {4373358798817098839 38 255} {6170800862854648914 38 256} {4425717178886162229 38 257} {6281693187747551896 38 258} {6663088551709067905 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263}]
------------------------------------------------------
term 38 Server0 start snapshot! index=259
term 38 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=263
-------------------------------------------------------------
term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
flag 90172 term 38 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 38 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263}]
------------------------------------------------------
term 38 Server2 start snapshot! index=259
term 38 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=263
-------------------------------------------------------------
!!!!!!connect server 1
client write log 533120421701717841 (index 264) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
flag 61356 term 38 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 38 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 39 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 server 2 vote for server 0
term 40 server 0 get vote from server 2
term 40 server 0 become leader
------------------------------------------------------
term 40 server 1 vote for server 0
term 40 server 0 get outdate rpc reply from server 1
flag 45816 term 40 leader 0 nextIndex[1]: 265  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 96079 term 40 leader 0 nextIndex[2]: 265  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
term 40 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 265->264
------------------------------------------------------
term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 0
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
flag 2269 term 40 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
term 40 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 38 rf.commitIndex 259 rf.lastApplied 259
term 40 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
flag 18549 term 40 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 40 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 23053 term 40 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7946 term 40 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 58912 term 40 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
flag 91825 term 40 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 53430 term 40 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
flag 14947 term 40 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 37032 term 40 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
flag 79465 term 40 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 87212 term 40 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
flag 31682 term 40 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 5585 term 40 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
flag 50887 term 40 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 17073 term 40 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
flag 93885 term 40 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 14081 term 40 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59493 term 40 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 65748 term 40 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1595 term 40 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 44730 term 40 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
flag 72377 term 40 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 78138 term 40 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
flag 31729 term 40 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 52048 term 40 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
flag 31619 term 40 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 46598 term 40 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
flag 38101 term 40 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 2407 term 40 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
flag 48856 term 40 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 69136 term 40 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5930 term 40 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 70768 term 40 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
flag 31529 term 40 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 55321 term 40 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264}]
------------------------------------------------------
client write log 533120421701717841 (index 265) to leader 0
flag 73970 term 40 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 15408 term 40 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 40 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
term 40 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264} {533120421701717841 40 265}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264} {533120421701717841 40 265}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48781 term 40 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 40 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 265 
------------------------------------------------------
flag 19378 term 40 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 40 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 265 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264} {533120421701717841 40 265}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264} {533120421701717841 40 265}]
------------------------------------------------------
flag 6905 term 40 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 40 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 265 
------------------------------------------------------
flag 61082 term 40 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 40 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 265 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264} {533120421701717841 40 265}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264} {533120421701717841 40 265}]
------------------------------------------------------
flag 96338 term 40 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 40 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 265 
------------------------------------------------------
flag 84440 term 40 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 40 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 265 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264} {533120421701717841 40 265}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264} {533120421701717841 40 265}]
------------------------------------------------------
flag 98171 term 40 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 40 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 265 
------------------------------------------------------
flag 14473 term 40 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 40 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 265 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264} {533120421701717841 40 265}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264} {533120421701717841 40 265}]
------------------------------------------------------
flag 95507 term 40 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 40 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 265 
------------------------------------------------------
flag 27492 term 40 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 40 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 265 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264} {533120421701717841 40 265}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264} {533120421701717841 40 265}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45835 term 40 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 40 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 265 
------------------------------------------------------
flag 27299 term 40 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 40 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 265 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264} {533120421701717841 40 265}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264} {533120421701717841 40 265}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2855317028046607748 (index 266) to leader 0
flag 63624 term 40 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 40 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 265 
------------------------------------------------------
flag 53300 term 40 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 40 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 265 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264} {533120421701717841 40 265} {2855317028046607748 40 266}]
------------------------------------------------------
flag 24176 term 40 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 40 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 266 
------------------------------------------------------
flag 99621 term 40 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 40 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 40 leaderCommit: 266 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264} {533120421701717841 40 265} {2855317028046607748 40 266}]
------------------------------------------------------
client write log 2697995855076025486 (index 267) to leader 0
client write log 6085540464479230864 (index 268) to leader 0
client write log 8613008337849511678 (index 269) to leader 0
client write log 1098531883313369913 (index 270) to leader 0
client write log 7560205726546396078 (index 271) to leader 0
client write log 5533569600152803047 (index 272) to leader 0
client write log 30707160714097609 (index 273) to leader 0
client write log 1917086272230392186 (index 274) to leader 0
client write log 4492763397611048250 (index 275) to leader 0
client write log 4327629383557494062 (index 276) to leader 0
client write log 1761912862879721190 (index 277) to leader 0
client write log 5313549248062238981 (index 278) to leader 0
client write log 7053416708481540830 (index 279) to leader 0
client write log 5791239337683078318 (index 280) to leader 0
flag 87979 term 40 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 40 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 266 
------------------------------------------------------
flag 15896 term 40 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 40 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 40 leaderCommit: 266 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 38 259} {1428374212164912548 38 260} {5620756367738574126 38 261} {6941739950184173196 38 262} {6994103892582105685 38 263} {533120421701717841 38 264} {533120421701717841 40 265} {2855317028046607748 40 266} {2697995855076025486 40 267} {6085540464479230864 40 268} {8613008337849511678 40 269} {1098531883313369913 40 270} {7560205726546396078 40 271} {5533569600152803047 40 272} {30707160714097609 40 273} {1917086272230392186 40 274} {4492763397611048250 40 275} {4327629383557494062 40 276} {1761912862879721190 40 277} {5313549248062238981 40 278} {7053416708481540830 40 279} {5791239337683078318 40 280}]
------------------------------------------------------
term 40 Server0 start snapshot! index=269
term 40 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=280
-------------------------------------------------------------
term 40 Server0 start snapshot! index=279
term 40 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=280
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 40
------------------------------------------------------
flag 8918 term 40 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 40 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280}]
------------------------------------------------------
term 40 Server2 start snapshot! index=269
term 40 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=280
-------------------------------------------------------------
term 40 Server2 start snapshot! index=279
term 40 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=280
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6277702563679930369 (index 281) to leader 0
term 40 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 40
------------------------------------------------------
flag 51398 term 40 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 40 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 41 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 2 vote for server 0
term 42 server 1 vote for server 0
term 42 server 0 get vote from server 2
term 42 server 0 become leader
------------------------------------------------------
term 42 server 0 get outdate rpc reply from server 1
flag 99995 term 42 leader 0 nextIndex[1]: 282  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
flag 59106 term 42 leader 0 nextIndex[2]: 282  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 42 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 282->281
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 0 nextIndex[1]: 266  matchIndex[1]: 0
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 40
------------------------------------------------------
flag 86599 term 42 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 42 server 1 InstallSnapshot success
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 40 rf.commitIndex 279 rf.lastApplied 279
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
flag 83474 term 42 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 42 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
flag 55243 term 42 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
flag 66779 term 42 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
flag 39096 term 42 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68524 term 42 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
flag 69303 term 42 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78750 term 42 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
flag 59017 term 42 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28669 term 42 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
flag 16082 term 42 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
flag 40575 term 42 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
flag 2594 term 42 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
flag 83348 term 42 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
flag 74196 term 42 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
flag 39702 term 42 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
flag 7733 term 42 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
flag 61932 term 42 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
flag 15980 term 42 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
flag 77198 term 42 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
flag 18131 term 42 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
flag 74771 term 42 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
flag 43152 term 42 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
flag 39388 term 42 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
flag 18912 term 42 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
flag 81456 term 42 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
flag 65744 term 42 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
flag 88481 term 42 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
flag 39092 term 42 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
flag 19030 term 42 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
flag 26480 term 42 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
term 42 server 0 not vote for server 1, 任期不够新
term 42 server 1 get outdate rpc reply from server 0
flag 70715 term 42 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
flag 84811 term 42 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21776 term 42 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
flag 56091 term 42 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=280
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281}]
------------------------------------------------------
client write log 6277702563679930369 (index 282) to leader 0
flag 91140 term 42 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
flag 79591 term 42 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 42 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 40 leaderCommit: 280 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282}]
------------------------------------------------------
flag 79359 term 42 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
flag 45532 term 42 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28863 term 42 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
flag 98068 term 42 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282}]
------------------------------------------------------
flag 4786 term 42 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
flag 64704 term 42 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282}]
------------------------------------------------------
term 42 server 2 not vote for server 1, 任期不够新
term 42 server 1 get outdate rpc reply from server 2
flag 34186 term 42 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
flag 1148 term 42 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282}]
------------------------------------------------------
flag 55953 term 42 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
flag 35984 term 42 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282}]
------------------------------------------------------
flag 73175 term 42 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
flag 41401 term 42 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
term 42 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 55306 term 42 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
flag 21304 term 42 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
flag 37589 term 42 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
flag 7051 term 42 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
flag 67937 term 42 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
flag 84655 term 42 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49332 term 42 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
flag 31281 term 42 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
term 43 server 1 vote for server 2
term 43 server 2 get vote from server 1
term 43 server 2 become leader
------------------------------------------------------
flag 84695 term 43 leader 2 nextIndex[0]: 283  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
flag 77434 term 43 leader 2 nextIndex[1]: 283  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282}]
------------------------------------------------------
client write log 5062633560137594538 (index 283) to leader 2
flag 56839 term 42 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
flag 88892 term 42 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
flag 1459 term 43 leader 2 nextIndex[0]: 283  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
flag 58536 term 43 leader 2 nextIndex[1]: 283  matchIndex[1]: 282
term 43 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282} {5062633560137594538 43 283}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 283->282
------------------------------------------------------
term 42 leader 0 nextIndex[1]: 0  matchIndex[1]: 282
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 40
------------------------------------------------------
flag 5042 term 42 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
flag 83092 term 43 leader 2 nextIndex[0]: 283  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 283 
------------------------------------------------------
flag 51412 term 43 leader 2 nextIndex[1]: 284  matchIndex[1]: 283
term 43 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 283 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282} {5062633560137594538 43 283}]
------------------------------------------------------
term 43 server 2 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 2
client write log 9074614201870771141 (index 284) to leader 2
term 42 leader 0 nextIndex[1]: 0  matchIndex[1]: 282
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 40
------------------------------------------------------
flag 18306 term 42 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
flag 96150 term 43 leader 2 nextIndex[0]: 283  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 283 
------------------------------------------------------
flag 14638 term 43 leader 2 nextIndex[1]: 284  matchIndex[1]: 283
term 43 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 283 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282} {5062633560137594538 43 283} {9074614201870771141 43 284}]
------------------------------------------------------
term 42 leader 0 nextIndex[1]: 0  matchIndex[1]: 282
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 40
------------------------------------------------------
flag 1925 term 42 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
flag 7336 term 43 leader 2 nextIndex[0]: 283  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
flag 28246 term 43 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 43 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282} {5062633560137594538 43 283} {9074614201870771141 43 284}]
------------------------------------------------------
!!!!!!connect server 0
client write log 9069533691594902180 (index 285) to leader 2
term 42 leader 0 nextIndex[1]: 0  matchIndex[1]: 282
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 40
------------------------------------------------------
flag 68191 term 42 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 42 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 282 
------------------------------------------------------
term 43 server 2 AppendEntries false 领导者任期过期 args.Term 42
------------------------------------------------------
term 43 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37132 term 43 leader 2 nextIndex[0]: 283  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 42 leaderCommit: 284 
------------------------------------------------------
flag 97043 term 43 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 43 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282} {5062633560137594538 43 283} {9074614201870771141 43 284} {9069533691594902180 43 285}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282} {5062633560137594538 43 283} {9074614201870771141 43 284} {9069533691594902180 43 285}]
------------------------------------------------------
flag 53038 term 43 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 43 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 94993 term 43 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 43 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282} {5062633560137594538 43 283} {9074614201870771141 43 284} {9069533691594902180 43 285}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282} {5062633560137594538 43 283} {9074614201870771141 43 284} {9069533691594902180 43 285}]
------------------------------------------------------
flag 77426 term 43 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 43 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 96473 term 43 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 43 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282} {5062633560137594538 43 283} {9074614201870771141 43 284} {9069533691594902180 43 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282} {5062633560137594538 43 283} {9074614201870771141 43 284} {9069533691594902180 43 285}]
------------------------------------------------------
flag 98189 term 43 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 43 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 5888 term 43 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 43 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282} {5062633560137594538 43 283} {9074614201870771141 43 284} {9069533691594902180 43 285}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282} {5062633560137594538 43 283} {9074614201870771141 43 284} {9069533691594902180 43 285}]
------------------------------------------------------
flag 85972 term 43 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 43 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 35442 term 43 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 43 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282} {5062633560137594538 43 283} {9074614201870771141 43 284} {9069533691594902180 43 285}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282} {5062633560137594538 43 283} {9074614201870771141 43 284} {9069533691594902180 43 285}]
------------------------------------------------------
flag 91191 term 43 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 43 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 10979 term 43 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 43 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
term 43 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282} {5062633560137594538 43 283} {9074614201870771141 43 284} {9069533691594902180 43 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282} {5062633560137594538 43 283} {9074614201870771141 43 284} {9069533691594902180 43 285}]
------------------------------------------------------
flag 54022 term 43 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 43 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 25300 term 43 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 43 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282} {5062633560137594538 43 283} {9074614201870771141 43 284} {9069533691594902180 43 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282} {5062633560137594538 43 283} {9074614201870771141 43 284} {9069533691594902180 43 285}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2673601924472119823 (index 286) to leader 2
flag 50821 term 43 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 43 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
flag 79565 term 43 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 43 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 285 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282} {5062633560137594538 43 283} {9074614201870771141 43 284} {9069533691594902180 43 285} {2673601924472119823 43 286}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 104 term 43 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 43 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 80222 term 43 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 43 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282} {5062633560137594538 43 283} {9074614201870771141 43 284} {9069533691594902180 43 285} {2673601924472119823 43 286}]
------------------------------------------------------
client write log 6311022947057739669 (index 287) to leader 2
client write log 3527513956304497247 (index 288) to leader 2
client write log 4547204676428797295 (index 289) to leader 2
client write log 3281244565380573948 (index 290) to leader 2
client write log 2301693683399842345 (index 291) to leader 2
client write log 1699412068932938740 (index 292) to leader 2
client write log 7893164907818771811 (index 293) to leader 2
client write log 1820247317515964621 (index 294) to leader 2
client write log 4077653599399902165 (index 295) to leader 2
client write log 7093622079764451720 (index 296) to leader 2
client write log 888842878115444002 (index 297) to leader 2
client write log 9069681078448203418 (index 298) to leader 2
client write log 5084994275373868511 (index 299) to leader 2
client write log 8428875119566714446 (index 300) to leader 2
client write log 1028843677065379489 (index 301) to leader 2
flag 17109 term 43 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 43 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 86435 term 43 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 43 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 40 279} {5791239337683078318 40 280} {6277702563679930369 40 281} {6277702563679930369 42 282} {5062633560137594538 43 283} {9074614201870771141 43 284} {9069533691594902180 43 285} {2673601924472119823 43 286} {6311022947057739669 43 287} {3527513956304497247 43 288} {4547204676428797295 43 289} {3281244565380573948 43 290} {2301693683399842345 43 291} {1699412068932938740 43 292} {7893164907818771811 43 293} {1820247317515964621 43 294} {4077653599399902165 43 295} {7093622079764451720 43 296} {888842878115444002 43 297} {9069681078448203418 43 298} {5084994275373868511 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301}]
------------------------------------------------------
term 43 Server2 start snapshot! index=289
term 43 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=301
-------------------------------------------------------------
term 43 Server2 start snapshot! index=299
term 43 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=301
-------------------------------------------------------------
term 43 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
flag 38085 term 43 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 43 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301}]
------------------------------------------------------
term 43 Server1 start snapshot! index=289
term 43 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=301
-------------------------------------------------------------
term 43 Server1 start snapshot! index=299
term 43 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=301
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7109753265743889428 (index 302) to leader 2
term 43 server 2 not vote for server 0, 日志不够新
term 43 server 1 not vote for server 0, 日志不够新
term 45 server 1 vote for server 2
term 45 server 0 vote for server 2
term 45 server 2 get vote from server 1
term 45 server 2 become leader
------------------------------------------------------
term 45 server 2 get outdate rpc reply from server 0
flag 14896 term 45 leader 2 nextIndex[0]: 303  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 21397 term 45 leader 2 nextIndex[1]: 303  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 45 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 303->302
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 303->302
------------------------------------------------------
term 45 leader 2 nextIndex[0]: 286  matchIndex[0]: 0
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
flag 99389 term 45 leader 2 nextIndex[1]: 302  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
term 45 server 0 InstallSnapshot success
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 43 rf.commitIndex 299 rf.lastApplied 299
flag 59568 term 45 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 45 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 55037 term 45 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
flag 96696 term 45 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 31091 term 45 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
flag 97358 term 45 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 50448 term 45 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 0 not vote for server 1, 任期不够新
term 45 server 1 get outdate rpc reply from server 0
flag 24789 term 45 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 91482 term 45 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84500 term 45 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 97510 term 45 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
flag 80058 term 45 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 20451 term 45 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=301
leader log:
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51269 term 45 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 28400 term 45 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
flag 24341 term 45 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 16048 term 45 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
flag 50900 term 45 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 62775 term 45 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
flag 941 term 45 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 47983 term 45 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
flag 76034 term 45 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 46215 term 45 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
flag 52874 term 45 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 25690 term 45 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81011 term 45 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 95 term 45 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
term 45 server 0 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 0
flag 97417 term 45 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 94375 term 45 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32044 term 45 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 48478 term 45 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94102 term 45 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 4171 term 45 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
flag 99457 term 45 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 35461 term 45 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302}]
------------------------------------------------------
client write log 7109753265743889428 (index 303) to leader 2
flag 61285 term 45 leader 2 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 7998 term 45 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 45 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302} {7109753265743889428 45 303}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302} {7109753265743889428 45 303}]
------------------------------------------------------
flag 11799 term 45 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
flag 66715 term 45 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302} {7109753265743889428 45 303}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302} {7109753265743889428 45 303}]
------------------------------------------------------
flag 55892 term 45 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
flag 87322 term 45 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302} {7109753265743889428 45 303}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302} {7109753265743889428 45 303}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36681 term 45 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
flag 15964 term 45 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302} {7109753265743889428 45 303}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302} {7109753265743889428 45 303}]
------------------------------------------------------
flag 11045 term 45 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
flag 86801 term 45 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302} {7109753265743889428 45 303}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302} {7109753265743889428 45 303}]
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35689 term 45 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
flag 93527 term 45 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302} {7109753265743889428 45 303}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302} {7109753265743889428 45 303}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3136034051390430001 (index 304) to leader 2
flag 82599 term 45 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
flag 86402 term 45 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302} {7109753265743889428 45 303} {3136034051390430001 45 304}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91630 term 45 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 21732 term 45 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302} {7109753265743889428 45 303} {3136034051390430001 45 304}]
------------------------------------------------------
client write log 1508361176811978781 (index 305) to leader 2
client write log 3556120843071806629 (index 306) to leader 2
client write log 7538695914107125137 (index 307) to leader 2
client write log 2225009896920457681 (index 308) to leader 2
client write log 1489861468830576368 (index 309) to leader 2
client write log 1718229759945784859 (index 310) to leader 2
client write log 5782467698277476552 (index 311) to leader 2
client write log 7778289654126076898 (index 312) to leader 2
client write log 2165410099678465328 (index 313) to leader 2
client write log 6827642739462154114 (index 314) to leader 2
client write log 8144046829101959722 (index 315) to leader 2
client write log 3547410007110451355 (index 316) to leader 2
client write log 1774272551756000056 (index 317) to leader 2
client write log 2089383653738465121 (index 318) to leader 2
client write log 3515172530835631488 (index 319) to leader 2
flag 76968 term 45 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 53484 term 45 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 43 299} {8428875119566714446 43 300} {1028843677065379489 43 301} {7109753265743889428 43 302} {7109753265743889428 45 303} {3136034051390430001 45 304} {1508361176811978781 45 305} {3556120843071806629 45 306} {7538695914107125137 45 307} {2225009896920457681 45 308} {1489861468830576368 45 309} {1718229759945784859 45 310} {5782467698277476552 45 311} {7778289654126076898 45 312} {2165410099678465328 45 313} {6827642739462154114 45 314} {8144046829101959722 45 315} {3547410007110451355 45 316} {1774272551756000056 45 317} {2089383653738465121 45 318} {3515172530835631488 45 319}]
------------------------------------------------------
term 45 Server2 start snapshot! index=309
term 45 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=319
-------------------------------------------------------------
term 45 Server2 start snapshot! index=319
term 45 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
term 45 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 45
------------------------------------------------------
flag 89390 term 45 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 45 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 45 319}]
------------------------------------------------------
term 45 Server1 start snapshot! index=309
term 45 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=319
-------------------------------------------------------------
term 45 Server1 start snapshot! index=319
term 45 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!connect server 0
client write log 1642741467285325960 (index 320) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 2 not vote for server 0, 日志不够新
term 45 server 1 not vote for server 0, 日志不够新
term 47 server 1 vote for server 2
term 47 server 2 get vote from server 1
term 47 server 2 become leader
------------------------------------------------------
term 47 server 0 vote for server 2
term 47 server 2 get outdate rpc reply from server 0
flag 70931 term 47 leader 2 nextIndex[0]: 321  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
flag 62465 term 47 leader 2 nextIndex[1]: 321  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 47 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 321->320
------------------------------------------------------
term 47 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 321->320
------------------------------------------------------
term 47 leader 2 nextIndex[0]: 304  matchIndex[0]: 0
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 45
------------------------------------------------------
flag 24972 term 47 leader 2 nextIndex[1]: 320  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 47 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 45 rf.commitIndex 319 rf.lastApplied 319
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89158 term 47 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 47 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
flag 26297 term 47 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
flag 26675 term 47 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
flag 1518 term 47 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
flag 86844 term 47 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
flag 69664 term 47 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
flag 87410 term 47 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
flag 88447 term 47 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
flag 34754 term 47 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
flag 94370 term 47 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
flag 80225 term 47 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
flag 75053 term 47 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79140 term 47 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
flag 75404 term 47 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 925 term 47 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
flag 61348 term 47 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
flag 63643 term 47 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
flag 71313 term 47 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
flag 40897 term 47 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
flag 7565 term 47 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
flag 65547 term 47 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
flag 60651 term 47 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79092 term 47 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
flag 85130 term 47 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
flag 25033 term 47 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
flag 89213 term 47 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5441 term 47 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
flag 71881 term 47 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
flag 69744 term 47 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
flag 32535 term 47 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64927 term 47 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
flag 97078 term 47 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
flag 802 term 47 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
flag 24178 term 47 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58295 term 47 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
flag 22325 term 47 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 45 319} {1642741467285325960 45 320}]
------------------------------------------------------
client write log 1642741467285325960 (index 321) to leader 2
flag 76089 term 47 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
flag 13047 term 47 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 47 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 45 leaderCommit: 319 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321}]
------------------------------------------------------
flag 57818 term 47 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
flag 18553 term 47 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321}]
------------------------------------------------------
flag 18217 term 47 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
flag 71350 term 47 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16960 term 47 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
flag 35957 term 47 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
term 47 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321}]
------------------------------------------------------
flag 97089 term 47 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
flag 16190 term 47 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321}]
------------------------------------------------------
flag 36215 term 47 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
flag 98726 term 47 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
term 47 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321}]
------------------------------------------------------
flag 35860 term 47 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
flag 57881 term 47 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 1399 term 47 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
flag 20118 term 47 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
flag 90626 term 47 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
flag 51342 term 47 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
flag 51593 term 47 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
flag 34441 term 47 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
flag 57134 term 47 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
flag 55820 term 47 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
term 48 server 0 vote for server 1
term 48 server 1 get vote from server 0
term 48 server 1 become leader
------------------------------------------------------
client write log 2584266950074695950 (index 322) to leader 1
flag 3408 term 48 leader 1 nextIndex[0]: 322  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
flag 6946 term 48 leader 1 nextIndex[2]: 322  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321} {2584266950074695950 48 322}]
------------------------------------------------------
flag 4945 term 47 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
flag 4919 term 47 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
flag 49363 term 48 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
flag 73821 term 48 leader 1 nextIndex[2]: 322  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 322 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321} {2584266950074695950 48 322}]
------------------------------------------------------
client write log 7094572951947137348 (index 323) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 322->321
------------------------------------------------------
term 47 leader 2 nextIndex[0]: 0  matchIndex[0]: 321
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 45
------------------------------------------------------
flag 35398 term 47 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
flag 93798 term 48 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 322 
------------------------------------------------------
flag 94097 term 48 leader 1 nextIndex[2]: 322  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 322 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321} {2584266950074695950 48 322} {7094572951947137348 48 323}]
------------------------------------------------------
term 47 leader 2 nextIndex[0]: 0  matchIndex[0]: 321
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 45
------------------------------------------------------
flag 3088 term 47 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
flag 34938 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 95737 term 48 leader 1 nextIndex[2]: 322  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 323 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321} {2584266950074695950 48 322} {7094572951947137348 48 323}]
------------------------------------------------------
!!!!!!connect server 2
client write log 8302906011739814880 (index 324) to leader 1
term 47 leader 2 nextIndex[0]: 0  matchIndex[0]: 321
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 45
------------------------------------------------------
flag 91010 term 47 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 47 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 321 
------------------------------------------------------
term 48 server 1 AppendEntries false 领导者任期过期 args.Term 47
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 48 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56102 term 48 leader 1 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 1 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 17772 term 48 leader 1 nextIndex[2]: 322  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 47 leaderCommit: 323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321} {2584266950074695950 48 322} {7094572951947137348 48 323} {8302906011739814880 48 324}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321} {2584266950074695950 48 322} {7094572951947137348 48 323} {8302906011739814880 48 324}]
------------------------------------------------------
flag 70279 term 48 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 96550 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321} {2584266950074695950 48 322} {7094572951947137348 48 323} {8302906011739814880 48 324}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321} {2584266950074695950 48 322} {7094572951947137348 48 323} {8302906011739814880 48 324}]
------------------------------------------------------
flag 9066 term 48 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 54994 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321} {2584266950074695950 48 322} {7094572951947137348 48 323} {8302906011739814880 48 324}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321} {2584266950074695950 48 322} {7094572951947137348 48 323} {8302906011739814880 48 324}]
------------------------------------------------------
flag 47007 term 48 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 47227 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321} {2584266950074695950 48 322} {7094572951947137348 48 323} {8302906011739814880 48 324}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321} {2584266950074695950 48 322} {7094572951947137348 48 323} {8302906011739814880 48 324}]
------------------------------------------------------
flag 56515 term 48 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 3953 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321} {2584266950074695950 48 322} {7094572951947137348 48 323} {8302906011739814880 48 324}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321} {2584266950074695950 48 322} {7094572951947137348 48 323} {8302906011739814880 48 324}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43939 term 48 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 22256 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321} {2584266950074695950 48 322} {7094572951947137348 48 323} {8302906011739814880 48 324}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321} {2584266950074695950 48 322} {7094572951947137348 48 323} {8302906011739814880 48 324}]
------------------------------------------------------
flag 38027 term 48 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 40448 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321} {2584266950074695950 48 322} {7094572951947137348 48 323} {8302906011739814880 48 324}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321} {2584266950074695950 48 322} {7094572951947137348 48 323} {8302906011739814880 48 324}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 33193461015713912 (index 325) to leader 1
flag 14271 term 48 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 29445 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321} {2584266950074695950 48 322} {7094572951947137348 48 323} {8302906011739814880 48 324} {33193461015713912 48 325}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 325->324
------------------------------------------------------
flag 72150 term 48 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 48 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 0  matchIndex[2]: 324
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 45
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321} {2584266950074695950 48 322} {7094572951947137348 48 323} {8302906011739814880 48 324} {33193461015713912 48 325}]
------------------------------------------------------
client write log 6480867425816947009 (index 326) to leader 1
client write log 3233830637936894233 (index 327) to leader 1
client write log 2304893824417993862 (index 328) to leader 1
client write log 5401693970457629841 (index 329) to leader 1
client write log 7806881301931154536 (index 330) to leader 1
client write log 4358011061111765042 (index 331) to leader 1
client write log 2934585225925474365 (index 332) to leader 1
client write log 7933333503461639081 (index 333) to leader 1
client write log 1062746713468279449 (index 334) to leader 1
client write log 5332526323019561491 (index 335) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31261 term 48 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 48 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 0  matchIndex[2]: 324
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 45
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 45 319} {1642741467285325960 45 320} {1642741467285325960 47 321} {2584266950074695950 48 322} {7094572951947137348 48 323} {8302906011739814880 48 324} {33193461015713912 48 325} {6480867425816947009 48 326} {3233830637936894233 48 327} {2304893824417993862 48 328} {5401693970457629841 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335}]
------------------------------------------------------
term 48 Server1 start snapshot! index=329
term 48 server1 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=335
-------------------------------------------------------------
flag 44939 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 0  matchIndex[2]: 324
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335}]
------------------------------------------------------
term 48 Server0 start snapshot! index=329
term 48 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=335
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1080836811923512528 (index 336) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7968 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 0  matchIndex[2]: 324
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 48
------------------------------------------------------
term 49 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 server 2 vote for server 1
term 50 server 0 vote for server 1
term 50 server 1 get vote from server 0
term 50 server 1 become leader
------------------------------------------------------
term 50 server 1 get outdate rpc reply from server 2
flag 94471 term 50 leader 1 nextIndex[0]: 337  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 57688 term 50 leader 1 nextIndex[2]: 337  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 50 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 337->336
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
flag 2600 term 50 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 325  matchIndex[2]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 48
------------------------------------------------------
term 50 server 2 InstallSnapshot success
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 48 rf.commitIndex 329 rf.lastApplied 329
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83843 term 50 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 89003 term 50 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 50 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48412 term 50 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 66781 term 50 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
flag 93359 term 50 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 33618 term 50 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
flag 63757 term 50 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 9063 term 50 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
flag 70393 term 50 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 40857 term 50 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
flag 76712 term 50 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 21990 term 50 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
flag 87714 term 50 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 46318 term 50 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
flag 1709 term 50 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 21768 term 50 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
term 50 server 2 not vote for server 1, 任期不够新
term 50 server 1 get outdate rpc reply from server 2
flag 69303 term 50 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 26985 term 50 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
flag 25086 term 50 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 86905 term 50 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
flag 22400 term 50 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 48333 term 50 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
flag 63979 term 50 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 76886 term 50 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
flag 35852 term 50 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 31916 term 50 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38851 term 50 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 20675 term 50 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
flag 74688 term 50 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 42707 term 50 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
flag 24862 term 50 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 52270 term 50 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
flag 75762 term 50 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 8234 term 50 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=335
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336}]
------------------------------------------------------
client write log 1080836811923512528 (index 337) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19275 term 50 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 26855 term 50 leader 1 nextIndex[2]: 337  matchIndex[2]: 336
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
term 50 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
update leader CommitIndex=337
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336} {1080836811923512528 50 337}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336} {1080836811923512528 50 337}]
------------------------------------------------------
flag 51297 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 50 leaderCommit: 337 
------------------------------------------------------
flag 29755 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 50 leaderCommit: 337 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336} {1080836811923512528 50 337}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336} {1080836811923512528 50 337}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12289 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 50 leaderCommit: 337 
------------------------------------------------------
flag 47287 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 50 leaderCommit: 337 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336} {1080836811923512528 50 337}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336} {1080836811923512528 50 337}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10282 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 50 leaderCommit: 337 
------------------------------------------------------
flag 9726 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 50 leaderCommit: 337 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336} {1080836811923512528 50 337}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336} {1080836811923512528 50 337}]
------------------------------------------------------
flag 48388 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 50 leaderCommit: 337 
------------------------------------------------------
flag 9563 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 50 leaderCommit: 337 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336} {1080836811923512528 50 337}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336} {1080836811923512528 50 337}]
------------------------------------------------------
term 50 server 1 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 1
flag 86225 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 50 leaderCommit: 337 
------------------------------------------------------
flag 72309 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 50 leaderCommit: 337 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336} {1080836811923512528 50 337}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336} {1080836811923512528 50 337}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8066107891121989220 (index 338) to leader 1
flag 63878 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 50 leaderCommit: 337 
------------------------------------------------------
flag 22080 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 50 leaderCommit: 337 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336} {1080836811923512528 50 337} {8066107891121989220 50 338}]
------------------------------------------------------
flag 9014 term 50 leader 1 nextIndex[0]: 339  matchIndex[0]: 338
term 50 leader 1 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 50 leaderCommit: 338 
------------------------------------------------------
flag 6328 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 50 leaderCommit: 338 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336} {1080836811923512528 50 337} {8066107891121989220 50 338}]
------------------------------------------------------
client write log 4168936243806011384 (index 339) to leader 1
client write log 7384103123903866054 (index 340) to leader 1
client write log 4004001752376409726 (index 341) to leader 1
client write log 3358545658737971629 (index 342) to leader 1
client write log 6863340061429530303 (index 343) to leader 1
client write log 2551406981658245270 (index 344) to leader 1
client write log 5098993096285268120 (index 345) to leader 1
client write log 4389301117662939836 (index 346) to leader 1
flag 60379 term 50 leader 1 nextIndex[0]: 339  matchIndex[0]: 338
term 50 leader 1 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 50 leaderCommit: 338 
------------------------------------------------------
flag 14055 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 50 leaderCommit: 338 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 48 329} {7806881301931154536 48 330} {4358011061111765042 48 331} {2934585225925474365 48 332} {7933333503461639081 48 333} {1062746713468279449 48 334} {5332526323019561491 48 335} {1080836811923512528 48 336} {1080836811923512528 50 337} {8066107891121989220 50 338} {4168936243806011384 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346}]
------------------------------------------------------
term 50 Server1 start snapshot! index=339
term 50 server1 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=346
-------------------------------------------------------------
flag 7150 term 50 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 50 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346}]
------------------------------------------------------
term 50 Server0 start snapshot! index=339
term 50 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=346
-------------------------------------------------------------
!!!!!!connect server 2
client write log 860085767109738909 (index 347) to leader 1
term 50 server 1 not vote for server 2, 日志不够新
term 50 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 2 vote for server 1
term 52 server 0 vote for server 1
term 52 server 1 get vote from server 2
term 52 server 1 become leader
------------------------------------------------------
term 52 server 1 get outdate rpc reply from server 0
flag 39817 term 52 leader 1 nextIndex[0]: 348  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
flag 87936 term 52 leader 1 nextIndex[2]: 348  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 52 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 348->347
------------------------------------------------------
term 52 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 348->347
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12558 term 52 leader 1 nextIndex[0]: 347  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 338  matchIndex[2]: 0
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 50
------------------------------------------------------
term 52 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 50 rf.commitIndex 339 rf.lastApplied 339
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
flag 25356 term 52 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
flag 22839 term 52 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 52 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50637 term 52 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
flag 25140 term 52 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
update nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40974 term 52 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
flag 4475 term 52 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
flag 10958 term 52 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
flag 32093 term 52 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
flag 53644 term 52 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
flag 64291 term 52 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
flag 23364 term 52 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
flag 49835 term 52 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
flag 81046 term 52 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
flag 94201 term 52 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7932 term 52 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
flag 79859 term 52 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
flag 11891 term 52 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
flag 28125 term 52 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
flag 42052 term 52 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
flag 74897 term 52 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
flag 43211 term 52 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
flag 14290 term 52 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
flag 8456 term 52 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
flag 80507 term 52 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
flag 5914 term 52 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
flag 89486 term 52 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
flag 77792 term 52 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
flag 72612 term 52 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
flag 24318 term 52 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
flag 25178 term 52 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71833 term 52 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
flag 64173 term 52 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
term 52 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
term 52 server 0 not vote for server 2, 任期不够新
term 52 server 2 get outdate rpc reply from server 0
flag 66305 term 52 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
flag 99545 term 52 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64097 term 52 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
flag 35157 term 52 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347}]
------------------------------------------------------
client write log 860085767109738909 (index 348) to leader 1
flag 8575 term 52 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
flag 13947 term 52 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 346 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347} {860085767109738909 52 348}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347} {860085767109738909 52 348}]
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47469 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 10327 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347} {860085767109738909 52 348}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347} {860085767109738909 52 348}]
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43829 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 68824 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347} {860085767109738909 52 348}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347} {860085767109738909 52 348}]
------------------------------------------------------
flag 21205 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 31755 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347} {860085767109738909 52 348}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347} {860085767109738909 52 348}]
------------------------------------------------------
flag 93563 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 9048 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347} {860085767109738909 52 348}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347} {860085767109738909 52 348}]
------------------------------------------------------
flag 73898 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 32718 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347} {860085767109738909 52 348}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347} {860085767109738909 52 348}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 15083 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 41417 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 48358 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 75095 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 28834 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 68905 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 53 server 0 vote for server 2
term 53 server 2 get vote from server 0
term 53 server 2 become leader
------------------------------------------------------
flag 91977 term 53 leader 2 nextIndex[0]: 349  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 69017 term 53 leader 2 nextIndex[1]: 349  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347} {860085767109738909 52 348}]
------------------------------------------------------
client write log 8509149200049009177 (index 349) to leader 2
flag 31646 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 41380 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 31483 term 53 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 53 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 4269 term 53 leader 2 nextIndex[1]: 349  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 50 339} {7384103123903866054 50 340} {4004001752376409726 50 341} {3358545658737971629 50 342} {6863340061429530303 50 343} {2551406981658245270 50 344} {5098993096285268120 50 345} {4389301117662939836 50 346} {860085767109738909 50 347} {860085767109738909 52 348} {8509149200049009177 53 349}]
------------------------------------------------------
term 53 Server2 start snapshot! index=349
term 53 server2 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
flag 69089 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 50503 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 65391 term 53 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 53 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 53 leader 2 nextIndex[1]: 349  matchIndex[1]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 53 349}]
------------------------------------------------------
term 53 Server0 start snapshot! index=349
term 53 server0 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
client write log 3660827059146962957 (index 350) to leader 2
client write log 866263327315096907 (index 351) to leader 2
client write log 8408432055305481127 (index 352) to leader 2
client write log 1326704918311430703 (index 353) to leader 2
client write log 5786899160631301967 (index 354) to leader 2
client write log 3073548513224898660 (index 355) to leader 2
client write log 7790345446269018782 (index 356) to leader 2
client write log 4423395072506397054 (index 357) to leader 2
client write log 5611427654191039485 (index 358) to leader 2
client write log 1960492769769371076 (index 359) to leader 2
client write log 4365691763214998910 (index 360) to leader 2
client write log 8837259362656792813 (index 361) to leader 2
client write log 1189505536690766188 (index 362) to leader 2
client write log 7627243232493320378 (index 363) to leader 2
client write log 7771582640773626847 (index 364) to leader 2
flag 24446 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 29348 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 349->348
------------------------------------------------------
flag 46233 term 53 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 53 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 53 leader 2 nextIndex[1]: 349  matchIndex[1]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 349} {3660827059146962957 53 350} {866263327315096907 53 351} {8408432055305481127 53 352} {1326704918311430703 53 353} {5786899160631301967 53 354} {3073548513224898660 53 355} {7790345446269018782 53 356} {4423395072506397054 53 357} {5611427654191039485 53 358} {1960492769769371076 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
term 53 Server2 start snapshot! index=359
term 53 server2 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=364
-------------------------------------------------------------
flag 80996 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 348
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 50
------------------------------------------------------
term 53 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 360 matchIndex[1] 359 
------------------------------------------------------------------------
flag 35655 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
flag 75369 term 53 leader 2 nextIndex[1]: 360  matchIndex[1]: 359
term 53 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
term 53 Server0 start snapshot! index=359
term 53 server0 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=364
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3255331296763370422 (index 349) to leader 1
flag 94524 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 348
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 50
------------------------------------------------------
term 53 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 server 0 AppendEntries false 领导者任期过期 args.Term 52
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8756 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
flag 70469 term 53 leader 2 nextIndex[1]: 360  matchIndex[1]: 359
term 53 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 360->359
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 350->349
------------------------------------------------------
flag 81816 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 leader 2 nextIndex[1]: 0  matchIndex[1]: 359
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 1 InstallSnapshot success
------------------------------------------------------
term 53 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 360 matchIndex[1] 359 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 359 rf.lastIncludedTerm 53 rf.commitIndex 359 rf.lastApplied 359
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
flag 87739 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
flag 60418 term 53 leader 2 nextIndex[1]: 360  matchIndex[1]: 359
term 53 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
flag 44135 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
flag 38937 term 53 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3831 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
flag 20366 term 53 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
flag 61510 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
flag 94814 term 53 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
flag 38171 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
flag 12177 term 53 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
flag 31692 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
flag 2024 term 53 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:364 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
flag 46078 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
flag 69817 term 53 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6396 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
flag 41142 term 53 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:364 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
flag 50136 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
flag 17629 term 53 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59440 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
flag 80131 term 53 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
flag 43969 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
flag 10748 term 53 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
flag 53164 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
flag 67701 term 53 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30369 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
flag 5145 term 53 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:364 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
flag 93042 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
flag 32335 term 53 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
flag 86695 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
flag 63349 term 53 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:364 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 365->364
------------------------------------------------------
flag 98954 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 leader 2 nextIndex[1]: 0  matchIndex[1]: 364
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 1 InstallSnapshot fail
rf.commitIndex 364 args.LastIncludedIndex 359
------------------------------------------------------
term 53 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 360 matchIndex[1] 359 
------------------------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
flag 23533 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
flag 66778 term 53 leader 2 nextIndex[1]: 360  matchIndex[1]: 359
term 53 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
flag 24118 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
flag 67036 term 53 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364}]
------------------------------------------------------
client write log 3255331296763370422 (index 365) to leader 2
flag 28425 term 53 leader 2 nextIndex[0]: 365  matchIndex[0]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
flag 52014 term 53 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 53 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 53 leaderCommit: 364 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:364 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364} {3255331296763370422 53 365}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364} {3255331296763370422 53 365}]
------------------------------------------------------
flag 24073 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 21510 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364} {3255331296763370422 53 365}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364} {3255331296763370422 53 365}]
------------------------------------------------------
flag 55823 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 74462 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364} {3255331296763370422 53 365}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364} {3255331296763370422 53 365}]
------------------------------------------------------
flag 71508 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 56332 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364} {3255331296763370422 53 365}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364} {3255331296763370422 53 365}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58344 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 2610 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364} {3255331296763370422 53 365}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364} {3255331296763370422 53 365}]
------------------------------------------------------
flag 68495 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 8548 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364} {3255331296763370422 53 365}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364} {3255331296763370422 53 365}]
------------------------------------------------------
flag 78647 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 42545 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364} {3255331296763370422 53 365}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364} {3255331296763370422 53 365}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7548827094372655650 (index 366) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39376 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
flag 72057 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 365 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364} {3255331296763370422 53 365} {7548827094372655650 53 366}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44271 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 366 
------------------------------------------------------
flag 47053 term 53 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 53 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 53 leaderCommit: 366 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364} {3255331296763370422 53 365} {7548827094372655650 53 366}]
------------------------------------------------------
client write log 5962748589428574106 (index 367) to leader 2
client write log 1347252081589630409 (index 368) to leader 2
client write log 3831819033152310256 (index 369) to leader 2
client write log 4728919647042317105 (index 370) to leader 2
client write log 2279792293810644828 (index 371) to leader 2
client write log 3551287028207542705 (index 372) to leader 2
client write log 1067247667723406166 (index 373) to leader 2
client write log 903671133510897045 (index 374) to leader 2
client write log 421779699362930420 (index 375) to leader 2
flag 66952 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 53 leaderCommit: 366 
------------------------------------------------------
flag 55126 term 53 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 53 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 53 leaderCommit: 366 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 53 359} {4365691763214998910 53 360} {8837259362656792813 53 361} {1189505536690766188 53 362} {7627243232493320378 53 363} {7771582640773626847 53 364} {3255331296763370422 53 365} {7548827094372655650 53 366} {5962748589428574106 53 367} {1347252081589630409 53 368} {3831819033152310256 53 369} {4728919647042317105 53 370} {2279792293810644828 53 371} {3551287028207542705 53 372} {1067247667723406166 53 373} {903671133510897045 53 374} {421779699362930420 53 375}]
------------------------------------------------------
term 53 Server2 start snapshot! index=369
term 53 server2 snapshot success
lastIncludedIndex=369 lastApplied=370 lastIndex=375
-------------------------------------------------------------
term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 53
------------------------------------------------------
flag 71929 term 53 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 53 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 375 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 53 369} {4728919647042317105 53 370} {2279792293810644828 53 371} {3551287028207542705 53 372} {1067247667723406166 53 373} {903671133510897045 53 374} {421779699362930420 53 375}]
------------------------------------------------------
term 53 Server1 start snapshot! index=369
term 53 server1 snapshot success
lastIncludedIndex=369 lastApplied=370 lastIndex=375
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8879886333402597389 (index 376) to leader 2
term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 53
------------------------------------------------------
flag 375 term 53 leader 2 nextIndex[1]: 376  matchIndex[1]: 375
term 53 leader 2 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 375 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
term 54 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {4728919647042317105 53 370} {2279792293810644828 53 371} {3551287028207542705 53 372} {1067247667723406166 53 373} {903671133510897045 53 374} {421779699362930420 53 375} {8879886333402597389 53 376}]
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 55 server 1 vote for server 2
term 55 server 0 vote for server 2
term 55 server 2 get vote from server 1
term 55 server 2 become leader
------------------------------------------------------
term 55 server 2 get outdate rpc reply from server 0
flag 39850 term 55 leader 2 nextIndex[0]: 377  matchIndex[0]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 53 leaderCommit: 376 
------------------------------------------------------
flag 8970 term 55 leader 2 nextIndex[1]: 377  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 53 leaderCommit: 376 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {4728919647042317105 53 370} {2279792293810644828 53 371} {3551287028207542705 53 372} {1067247667723406166 53 373} {903671133510897045 53 374} {421779699362930420 53 375} {8879886333402597389 53 376}]
------------------------------------------------------
term 55 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 377->376
------------------------------------------------------
term 55 leader 2 nextIndex[0]: 366  matchIndex[0]: 0
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 53
------------------------------------------------------
flag 83786 term 55 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 55 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 53 leaderCommit: 376 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {4728919647042317105 53 370} {2279792293810644828 53 371} {3551287028207542705 53 372} {1067247667723406166 53 373} {903671133510897045 53 374} {421779699362930420 53 375} {8879886333402597389 53 376}]
------------------------------------------------------
term 55 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
term 55 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 370 matchIndex[0] 369 
------------------------------------------------------------------------
rf.lastIncludedIndex 369 rf.lastIncludedTerm 53 rf.commitIndex 369 rf.lastApplied 369
flag 48722 term 55 leader 2 nextIndex[0]: 370  matchIndex[0]: 369
term 55 leader 2 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 53 leaderCommit: 376 
------------------------------------------------------
flag 92289 term 55 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 55 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 53 leaderCommit: 376 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {4728919647042317105 53 370} {2279792293810644828 53 371} {3551287028207542705 53 372} {1067247667723406166 53 373} {903671133510897045 53 374} {421779699362930420 53 375} {8879886333402597389 53 376}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {4728919647042317105 53 370} {2279792293810644828 53 371} {3551287028207542705 53 372} {1067247667723406166 53 373} {903671133510897045 53 374} {421779699362930420 53 375} {8879886333402597389 53 376}]
------------------------------------------------------
term 55 server 1 not vote for server 0, 任期不够新
term 55 server 0 get outdate rpc reply from server 1
flag 26310 term 55 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 55 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 53 leaderCommit: 376 
------------------------------------------------------
flag 22139 term 55 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 55 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 53 leaderCommit: 376 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {4728919647042317105 53 370} {2279792293810644828 53 371} {3551287028207542705 53 372} {1067247667723406166 53 373} {903671133510897045 53 374} {421779699362930420 53 375} {8879886333402597389 53 376}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {4728919647042317105 53 370} {2279792293810644828 53 371} {3551287028207542705 53 372} {1067247667723406166 53 373} {903671133510897045 53 374} {421779699362930420 53 375} {8879886333402597389 53 376}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71137 term 55 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 55 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 53 leaderCommit: 376 
------------------------------------------------------
flag 43587 term 55 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 55 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 53 leaderCommit: 376 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {4728919647042317105 53 370} {2279792293810644828 53 371} {3551287028207542705 53 372} {1067247667723406166 53 373} {903671133510897045 53 374} {421779699362930420 53 375} {8879886333402597389 53 376}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {4728919647042317105 53 370} {2279792293810644828 53 371} {3551287028207542705 53 372} {1067247667723406166 53 373} {903671133510897045 53 374} {421779699362930420 53 375} {8879886333402597389 53 376}]
------------------------------------------------------
flag 7156 term 55 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 55 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 53 leaderCommit: 376 
------------------------------------------------------
flag 41512 term 55 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 55 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 53 leaderCommit: 376 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {4728919647042317105 53 370} {2279792293810644828 53 371} {3551287028207542705 53 372} {1067247667723406166 53 373} {903671133510897045 53 374} {421779699362930420 53 375} {8879886333402597389 53 376}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {4728919647042317105 53 370} {2279792293810644828 53 371} {3551287028207542705 53 372} {1067247667723406166 53 373} {903671133510897045 53 374} {421779699362930420 53 375} {8879886333402597389 53 376}]
------------------------------------------------------
flag 8635 term 55 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 55 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 53 leaderCommit: 376 
------------------------------------------------------
flag 74656 term 55 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 55 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 53 leaderCommit: 376 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {4728919647042317105 53 370} {2279792293810644828 53 371} {3551287028207542705 53 372} {1067247667723406166 53 373} {903671133510897045 53 374} {421779699362930420 53 375} {8879886333402597389 53 376}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {4728919647042317105 53 370} {2279792293810644828 53 371} {3551287028207542705 53 372} {1067247667723406166 53 373} {903671133510897045 53 374} {421779699362930420 53 375} {8879886333402597389 53 376}]
------------------------------------------------------
flag 91396 term 55 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 55 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 53 leaderCommit: 376 
------------------------------------------------------
flag 11709 term 55 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 55 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 53 leaderCommit: 376 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {4728919647042317105 53 370} {2279792293810644828 53 371} {3551287028207542705 53 372} {1067247667723406166 53 373} {903671133510897045 53 374} {421779699362930420 53 375} {8879886333402597389 53 376}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {4728919647042317105 53 370} {2279792293810644828 53 371} {3551287028207542705 53 372} {1067247667723406166 53 373} {903671133510897045 53 374} {421779699362930420 53 375} {8879886333402597389 53 376}]
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57128 term 55 leader 2 nextIndex[0]: 377  matchIndex[0]: 376
term 55 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 53 leaderCommit: 376 
------------------------------------------------------
flag 72524 term 55 leader 2 nextIndex[1]: 377  matchIndex[1]: 376
term 55 leader 2 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 53 leaderCommit: 376 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {4728919647042317105 53 370} {2279792293810644828 53 371} {3551287028207542705 53 372} {1067247667723406166 53 373} {903671133510897045 53 374} {421779699362930420 53 375} {8879886333402597389 53 376}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=377
update matchIndex[0]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {4728919647042317105 53 370} {2279792293810644828 53 371} {3551287028207542705 53 372} {1067247667723406166 53 373} {903671133510897045 53 374} {421779699362930420 53 375} {8879886333402597389 53 376}]
------------------------------------------------------
  ... Passed --  87.8  3 1972  866723  376
--- PASS: TestSnapshotInstall2D (87.78s)
PASS
