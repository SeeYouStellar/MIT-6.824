=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
flag 12394 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 26215 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 7904097411944545605 (index 1) to leader 2
flag 44819 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 58189 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7904097411944545605 1 1}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7904097411944545605 1 1}]
------------------------------------------------------
flag 45805 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 42028 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7904097411944545605 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7904097411944545605 1 1}]
------------------------------------------------------
flag 66168 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 78018 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7904097411944545605 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7904097411944545605 1 1}]
------------------------------------------------------
flag 40683 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 37728 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7904097411944545605 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7904097411944545605 1 1}]
------------------------------------------------------
flag 8996 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 35643 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7904097411944545605 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7904097411944545605 1 1}]
------------------------------------------------------
flag 44330 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 47953 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7904097411944545605 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7904097411944545605 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3080854138807051484 (index 2) to leader 2
flag 10559 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 84811 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7904097411944545605 1 1} {3080854138807051484 1 2}]
------------------------------------------------------
flag 30061 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 48393 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7904097411944545605 1 1} {3080854138807051484 1 2}]
------------------------------------------------------
client write log 3715494994656099419 (index 3) to leader 2
client write log 6589544257011763899 (index 4) to leader 2
client write log 7768537977183788772 (index 5) to leader 2
client write log 1245202565996031721 (index 6) to leader 2
client write log 5024350006382803033 (index 7) to leader 2
client write log 6254692129696245213 (index 8) to leader 2
client write log 9173815260941703735 (index 9) to leader 2
client write log 2861391807661453185 (index 10) to leader 2
client write log 8602280427514616107 (index 11) to leader 2
client write log 2445681753147836008 (index 12) to leader 2
flag 78028 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 34927 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{<nil> 0 0} {7904097411944545605 1 1} {3080854138807051484 1 2} {3715494994656099419 1 3} {6589544257011763899 1 4} {7768537977183788772 1 5} {1245202565996031721 1 6} {5024350006382803033 1 7} {6254692129696245213 1 8} {9173815260941703735 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=12
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 22514 term 1 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 1 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=12
-------------------------------------------------------------
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6025118946425453278 (index 13) to leader 2
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 68606 term 1 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 1 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 2 server 0 InstallSnapshot false 领导者任期过期
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13}]
------------------------------------------------------
------------------------------------------------------
term 1 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 76605 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 41912 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 14->13
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 17560 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13}]
------------------------------------------------------
flag 10877 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 8942 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13}]
------------------------------------------------------
flag 66470 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 68693 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13}]
------------------------------------------------------
flag 75229 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 6755 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13}]
------------------------------------------------------
flag 4225 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 23292 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13}]
------------------------------------------------------
flag 64974 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 37014 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13}]
------------------------------------------------------
flag 63975 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 6356 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13}]
------------------------------------------------------
flag 50678 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 18852 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 18841 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 8457 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 68158 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 53093 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7436 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 91375 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 14->13
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
flag 66363 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 9685 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 13
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 83153 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
client write log 2083605762529091682 (index 14) to leader 1
flag 84144 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 92220 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13} {2083605762529091682 4 14}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 13
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 25142 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 76274 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 28695 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13} {2083605762529091682 4 14}]
------------------------------------------------------
client write log 2303411425326377338 (index 15) to leader 1
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 13
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 82990 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 14->13
------------------------------------------------------
flag 88379 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13} {2083605762529091682 4 14} {2303411425326377338 4 15}]
------------------------------------------------------
flag 97221 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 21044 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 5170 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13} {2083605762529091682 4 14} {2303411425326377338 4 15}]
------------------------------------------------------
!!!!!!connect server 2
client write log 7179075001386104330 (index 16) to leader 1
flag 69667 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 44849 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
flag 17422 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 14276 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13} {2083605762529091682 4 14} {2303411425326377338 4 15} {7179075001386104330 4 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13} {2083605762529091682 4 14} {2303411425326377338 4 15} {7179075001386104330 4 16}]
------------------------------------------------------
flag 19439 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 30182 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13} {2083605762529091682 4 14} {2303411425326377338 4 15} {7179075001386104330 4 16}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13} {2083605762529091682 4 14} {2303411425326377338 4 15} {7179075001386104330 4 16}]
------------------------------------------------------
flag 87747 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 26646 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13} {2083605762529091682 4 14} {2303411425326377338 4 15} {7179075001386104330 4 16}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13} {2083605762529091682 4 14} {2303411425326377338 4 15} {7179075001386104330 4 16}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77376 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 47249 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13} {2083605762529091682 4 14} {2303411425326377338 4 15} {7179075001386104330 4 16}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13} {2083605762529091682 4 14} {2303411425326377338 4 15} {7179075001386104330 4 16}]
------------------------------------------------------
flag 40351 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 23498 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13} {2083605762529091682 4 14} {2303411425326377338 4 15} {7179075001386104330 4 16}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13} {2083605762529091682 4 14} {2303411425326377338 4 15} {7179075001386104330 4 16}]
------------------------------------------------------
flag 41051 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 95254 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13} {2083605762529091682 4 14} {2303411425326377338 4 15} {7179075001386104330 4 16}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13} {2083605762529091682 4 14} {2303411425326377338 4 15} {7179075001386104330 4 16}]
------------------------------------------------------
flag 67519 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 58370 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8248201149961039849 (index 17) to leader 1
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13} {2083605762529091682 4 14} {2303411425326377338 4 15} {7179075001386104330 4 16} {8248201149961039849 4 17}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 17->16
------------------------------------------------------
flag 43122 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 16
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13} {2083605762529091682 4 14} {2303411425326377338 4 15} {7179075001386104330 4 16} {8248201149961039849 4 17}]
------------------------------------------------------
flag 65961 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 16
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13} {2083605762529091682 4 14} {2303411425326377338 4 15} {7179075001386104330 4 16} {8248201149961039849 4 17}]
------------------------------------------------------
client write log 1286188885492135073 (index 18) to leader 1
client write log 4062078709334253321 (index 19) to leader 1
client write log 6290113180002267840 (index 20) to leader 1
client write log 5910813113672974890 (index 21) to leader 1
client write log 3253794553003014485 (index 22) to leader 1
client write log 6268515674879185017 (index 23) to leader 1
client write log 1537338616072728410 (index 24) to leader 1
client write log 2875101832163410977 (index 25) to leader 1
client write log 4818524514196953678 (index 26) to leader 1
flag 98565 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 16
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 1 9} {2861391807661453185 1 10} {8602280427514616107 1 11} {2445681753147836008 1 12} {6025118946425453278 1 13} {2083605762529091682 4 14} {2303411425326377338 4 15} {7179075001386104330 4 16} {8248201149961039849 4 17} {1286188885492135073 4 18} {4062078709334253321 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=26
-------------------------------------------------------------
flag 71949 term 4 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 16
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=26
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4214942477232944100 (index 27) to leader 1
flag 83020 term 4 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 16
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 5 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 0 vote for server 1
term 6 server 1 get outdate rpc reply from server 0
flag 56256 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 25651 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 28->27
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
flag 68477 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 17  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24678 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 77414 term 6 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 6 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
flag 82808 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 35654 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
flag 99637 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 7429 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
flag 64209 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 52683 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 not vote for server 1, 任期不够新
term 6 server 1 get outdate rpc reply from server 2
flag 66595 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 75296 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1473 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 81613 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
flag 48952 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 7133 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10507 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 2428 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48364 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 68070 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
flag 8435 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 98779 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65025 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 4913 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
flag 33235 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 93134 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25582 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 72420 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
flag 75380 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 84383 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
flag 36509 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 71243 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
term 6 server 0 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54600 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 14076 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69793 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 92280 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27}]
------------------------------------------------------
client write log 4214942477232944100 (index 28) to leader 1
flag 5784 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 55936 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27} {4214942477232944100 6 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27} {4214942477232944100 6 28}]
------------------------------------------------------
flag 99108 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 94516 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27} {4214942477232944100 6 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27} {4214942477232944100 6 28}]
------------------------------------------------------
flag 79493 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 90395 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27} {4214942477232944100 6 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27} {4214942477232944100 6 28}]
------------------------------------------------------
flag 40208 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 83400 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27} {4214942477232944100 6 28}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27} {4214942477232944100 6 28}]
------------------------------------------------------
flag 54311 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 70899 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27} {4214942477232944100 6 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27} {4214942477232944100 6 28}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23850 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 96982 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27} {4214942477232944100 6 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27} {4214942477232944100 6 28}]
------------------------------------------------------
flag 63909 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 68060 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27} {4214942477232944100 6 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27} {4214942477232944100 6 28}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5825834898499854667 (index 29) to leader 1
flag 12863 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 64196 term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 19} {6290113180002267840 4 20} {5910813113672974890 4 21} {3253794553003014485 4 22} {6268515674879185017 4 23} {1537338616072728410 4 24} {2875101832163410977 4 25} {4818524514196953678 4 26} {4214942477232944100 4 27} {4214942477232944100 6 28} {5825834898499854667 6 29}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
flag 1697 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
client write log 3398029121397269075 (index 30) to leader 1
client write log 7345383337539930609 (index 31) to leader 1
client write log 620735386963706830 (index 32) to leader 1
client write log 5701527402865229681 (index 33) to leader 1
client write log 569554198021161403 (index 34) to leader 1
client write log 1335978158336429415 (index 35) to leader 1
client write log 7211267276318927001 (index 36) to leader 1
client write log 7669183788269124343 (index 37) to leader 1
client write log 1652632222050452028 (index 38) to leader 1
client write log 715756661068877854 (index 39) to leader 1
client write log 2396720718167691118 (index 40) to leader 1
client write log 1042469486613461646 (index 41) to leader 1
client write log 4251719032001499481 (index 42) to leader 1
client write log 1047434997340727231 (index 43) to leader 1
flag 86254 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 29} {3398029121397269075 6 30} {7345383337539930609 6 31} {620735386963706830 6 32} {5701527402865229681 6 33} {569554198021161403 6 34} {1335978158336429415 6 35} {7211267276318927001 6 36} {7669183788269124343 6 37} {1652632222050452028 6 38} {715756661068877854 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=43
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38448 term 6 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=43
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4971495438206759884 (index 44) to leader 1
flag 4456 term 6 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 7 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 0 vote for server 1
term 8 server 1 get vote from server 0
term 8 server 1 become leader
------------------------------------------------------
term 8 server 2 vote for server 1
term 8 server 1 get outdate rpc reply from server 2
flag 55735 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 33583 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 45->44
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
flag 31804 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 29  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 1 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 1
flag 92933 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 24121 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
flag 48548 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 72523 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
term 8 server 1 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 1
flag 23060 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 39978 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
flag 65722 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 74110 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
flag 32395 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 77981 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
flag 48197 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 8968 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
flag 13897 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 26179 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
flag 21047 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 5636 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
flag 97449 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 58224 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
flag 13997 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 32516 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46961 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 50505 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84796 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 80671 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
flag 70216 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 47704 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
flag 69580 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 15682 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
flag 95935 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 70096 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
flag 39895 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 49873 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88783 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 91664 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44}]
------------------------------------------------------
client write log 4971495438206759884 (index 45) to leader 1
flag 10512 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 75175 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44} {4971495438206759884 8 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44} {4971495438206759884 8 45}]
------------------------------------------------------
flag 70145 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 37920 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44} {4971495438206759884 8 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44} {4971495438206759884 8 45}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46374 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 92891 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44} {4971495438206759884 8 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44} {4971495438206759884 8 45}]
------------------------------------------------------
flag 86075 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 64289 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44} {4971495438206759884 8 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44} {4971495438206759884 8 45}]
------------------------------------------------------
flag 82298 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 83891 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44} {4971495438206759884 8 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44} {4971495438206759884 8 45}]
------------------------------------------------------
flag 31382 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 88824 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44} {4971495438206759884 8 45}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44} {4971495438206759884 8 45}]
------------------------------------------------------
flag 41504 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 17973 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44} {4971495438206759884 8 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44} {4971495438206759884 8 45}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 27902 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 28665 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 59467 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 68697 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 91026 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 34972 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 9 server 0 vote for server 2
term 9 server 2 get vote from server 0
term 9 server 2 become leader
------------------------------------------------------
flag 74601 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 47145 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44} {4971495438206759884 8 45}]
------------------------------------------------------
client write log 6431041875629542863 (index 46) to leader 2
flag 70399 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 7989 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 38127 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 50248 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44} {4971495438206759884 8 45} {6431041875629542863 9 46}]
------------------------------------------------------
flag 75473 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 21068 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 56921 term 9 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 68406 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44} {4971495438206759884 8 45} {6431041875629542863 9 46}]
------------------------------------------------------
client write log 3938642319545621317 (index 47) to leader 2
client write log 507865187758260786 (index 48) to leader 2
client write log 5190963814294002564 (index 49) to leader 2
client write log 6107904169890512793 (index 50) to leader 2
client write log 5628851227179607311 (index 51) to leader 2
client write log 4060127935539718934 (index 52) to leader 2
client write log 4741373347797637130 (index 53) to leader 2
client write log 3150216479089331647 (index 54) to leader 2
client write log 7835688902027912124 (index 55) to leader 2
client write log 1339526588668883296 (index 56) to leader 2
client write log 4316461620222163482 (index 57) to leader 2
client write log 362218990553507987 (index 58) to leader 2
client write log 4512680748212182523 (index 59) to leader 2
client write log 9179755146255272034 (index 60) to leader 2
client write log 1244605797405148250 (index 61) to leader 2
flag 90713 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 44333 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 41272 term 9 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 44846 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 39} {2396720718167691118 6 40} {1042469486613461646 6 41} {4251719032001499481 6 42} {1047434997340727231 6 43} {4971495438206759884 6 44} {4971495438206759884 8 45} {6431041875629542863 9 46} {3938642319545621317 9 47} {507865187758260786 9 48} {5190963814294002564 9 49} {6107904169890512793 9 50} {5628851227179607311 9 51} {4060127935539718934 9 52} {4741373347797637130 9 53} {3150216479089331647 9 54} {7835688902027912124 9 55} {1339526588668883296 9 56} {4316461620222163482 9 57} {362218990553507987 9 58} {4512680748212182523 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=61
-------------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=61
-------------------------------------------------------------
flag 73351 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 95662 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 89199 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=61
-------------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=61
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4965498827365609248 (index 46) to leader 1
flag 40152 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 9680 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 0 not vote for server 2, 任期不够新
term 9 server 2 get outdate rpc reply from server 0
flag 32131 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 9 server 1 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
flag 4408 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 99418 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
flag 56036 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 18826 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
flag 21341 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 24694 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
flag 35048 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 53722 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91469 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 99979 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
flag 88263 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 64634 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
flag 39740 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 45699 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
term 9 server 2 not vote for server 0, 任期不够新
term 9 server 0 get outdate rpc reply from server 2
flag 61135 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 41708 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59473 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 98495 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96757 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 12875 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
flag 34417 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 76758 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
flag 93149 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 98500 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72795 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 48620 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
flag 18816 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 98567 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47306 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 78549 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57646 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 35319 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
flag 9073 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 30214 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
flag 96067 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 72025 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
flag 50295 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 84735 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61}]
------------------------------------------------------
client write log 4965498827365609248 (index 62) to leader 2
flag 2243 term 9 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 32214 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61} {4965498827365609248 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61} {4965498827365609248 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 63->62
------------------------------------------------------
flag 8589 term 9 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 62
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 61 args.LastIncludedIndex 59
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61} {4965498827365609248 9 62}]
------------------------------------------------------
flag 11603 term 9 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
flag 49078 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61} {4965498827365609248 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61} {4965498827365609248 9 62}]
------------------------------------------------------
flag 92670 term 9 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
flag 78515 term 9 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61} {4965498827365609248 9 62}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61} {4965498827365609248 9 62}]
------------------------------------------------------
flag 27042 term 9 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
flag 89268 term 9 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61} {4965498827365609248 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61} {4965498827365609248 9 62}]
------------------------------------------------------
term 9 server 1 not vote for server 2, 任期不够新
term 9 server 2 get outdate rpc reply from server 1
flag 81509 term 9 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
flag 20297 term 9 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61} {4965498827365609248 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61} {4965498827365609248 9 62}]
------------------------------------------------------
flag 11634 term 9 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
flag 43747 term 9 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61} {4965498827365609248 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61} {4965498827365609248 9 62}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 842374514285269856 (index 63) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 63->62
------------------------------------------------------
flag 63119 term 9 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 62
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 62 args.LastIncludedIndex 59
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
flag 19936 term 9 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
flag 68244 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61} {4965498827365609248 9 62} {842374514285269856 9 63}]
------------------------------------------------------
flag 95744 term 9 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 74339 term 9 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61} {4965498827365609248 9 62} {842374514285269856 9 63}]
------------------------------------------------------
client write log 5318412243731255528 (index 64) to leader 2
client write log 6674787939815581457 (index 65) to leader 2
client write log 2243444898231790637 (index 66) to leader 2
client write log 5849492251098776319 (index 67) to leader 2
client write log 4691344502358240880 (index 68) to leader 2
client write log 5492948162153564762 (index 69) to leader 2
client write log 5692301908775905511 (index 70) to leader 2
client write log 7229187033755276360 (index 71) to leader 2
client write log 4185605230604071878 (index 72) to leader 2
client write log 4608011032054748328 (index 73) to leader 2
client write log 1195625504515922503 (index 74) to leader 2
flag 73711 term 9 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 55810 term 9 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 59} {9179755146255272034 9 60} {1244605797405148250 9 61} {4965498827365609248 9 62} {842374514285269856 9 63} {5318412243731255528 9 64} {6674787939815581457 9 65} {2243444898231790637 9 66} {5849492251098776319 9 67} {4691344502358240880 9 68} {5492948162153564762 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74}]
------------------------------------------------------
term 9 Server2 start snapshot! index=69
term 9 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=74
-------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 6473 term 9 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 9 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74}]
------------------------------------------------------
term 9 Server1 start snapshot! index=69
term 9 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=74
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1179574316606376718 (index 75) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 13133 term 9 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 9 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
term 10 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74} {1179574316606376718 9 75}]
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 1 vote for server 2
term 11 server 0 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
term 11 server 2 get outdate rpc reply from server 0
flag 84812 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
flag 62721 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74} {1179574316606376718 9 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 76->75
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 7297 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74} {1179574316606376718 9 75}]
------------------------------------------------------
term 11 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 9 rf.commitIndex 69 rf.lastApplied 69
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
flag 24318 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
flag 41046 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74} {1179574316606376718 9 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74} {1179574316606376718 9 75}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43835 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
flag 92361 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74} {1179574316606376718 9 75}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74} {1179574316606376718 9 75}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27262 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
flag 28876 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74} {1179574316606376718 9 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74} {1179574316606376718 9 75}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10625 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
flag 74953 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74} {1179574316606376718 9 75}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74} {1179574316606376718 9 75}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83357 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
flag 92884 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74} {1179574316606376718 9 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74} {1179574316606376718 9 75}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78254 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
flag 24597 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74} {1179574316606376718 9 75}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74} {1179574316606376718 9 75}]
------------------------------------------------------
flag 39579 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
flag 95056 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74} {1179574316606376718 9 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74} {1179574316606376718 9 75}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2750296101447145603 (index 76) to leader 2
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18636 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
flag 87300 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74} {1179574316606376718 9 75} {2750296101447145603 11 76}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 1 not vote for server 2, 任期不够新
term 11 server 2 get outdate rpc reply from server 1
flag 66002 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 38484 term 11 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74} {1179574316606376718 9 75} {2750296101447145603 11 76}]
------------------------------------------------------
client write log 2307923522376600050 (index 77) to leader 2
client write log 5672395263234756329 (index 78) to leader 2
client write log 2284332027876004709 (index 79) to leader 2
client write log 6310123233852173391 (index 80) to leader 2
client write log 3714833594231232175 (index 81) to leader 2
client write log 431972474804927030 (index 82) to leader 2
client write log 194810462179130979 (index 83) to leader 2
client write log 75808703551130333 (index 84) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29403 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 55170 term 11 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 9 69} {5692301908775905511 9 70} {7229187033755276360 9 71} {4185605230604071878 9 72} {4608011032054748328 9 73} {1195625504515922503 9 74} {1179574316606376718 9 75} {2750296101447145603 11 76} {2307923522376600050 11 77} {5672395263234756329 11 78} {2284332027876004709 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84}]
------------------------------------------------------
term 11 Server2 start snapshot! index=79
term 11 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=84
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 83987 term 11 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 11 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 76->75
------------------------------------------------------
term 11 Server1 start snapshot! index=79
term 11 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=84
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5325937004051114235 (index 85) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 0  matchIndex[0]: 75
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 63950 term 11 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 11 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
term 12 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 1 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 0 vote for server 2
term 13 server 2 get outdate rpc reply from server 0
flag 99226 term 13 leader 2 nextIndex[0]: 86  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 62578 term 13 leader 2 nextIndex[1]: 86  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 86->85
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 76  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 40374 term 13 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 11 rf.commitIndex 79 rf.lastApplied 79
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
flag 84542 term 13 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 1612 term 13 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
flag 95455 term 13 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 61750 term 13 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
flag 11449 term 13 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 18107 term 13 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
flag 85500 term 13 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 86284 term 13 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
flag 10858 term 13 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 87867 term 13 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
flag 79624 term 13 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 23872 term 13 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32655 term 13 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 24722 term 13 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
flag 28341 term 13 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 64442 term 13 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
flag 1969 term 13 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 97324 term 13 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
flag 19056 term 13 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 71113 term 13 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
flag 87969 term 13 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 85588 term 13 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
term 13 server 1 not vote for server 0, 任期不够新
term 13 server 0 get outdate rpc reply from server 1
flag 29119 term 13 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 60172 term 13 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58638 term 13 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 2815 term 13 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
flag 28572 term 13 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 70734 term 13 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
flag 2973 term 13 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 59567 term 13 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34465 term 13 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 80917 term 13 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
flag 48723 term 13 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 8816 term 13 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85}]
------------------------------------------------------
client write log 5325937004051114235 (index 86) to leader 2
flag 33625 term 13 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 1428 term 13 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 13 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85} {5325937004051114235 13 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85} {5325937004051114235 13 86}]
------------------------------------------------------
flag 33473 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 63311 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85} {5325937004051114235 13 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85} {5325937004051114235 13 86}]
------------------------------------------------------
flag 5665 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 14932 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85} {5325937004051114235 13 86}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85} {5325937004051114235 13 86}]
------------------------------------------------------
flag 44860 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 46199 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85} {5325937004051114235 13 86}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85} {5325937004051114235 13 86}]
------------------------------------------------------
flag 41345 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 75621 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85} {5325937004051114235 13 86}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85} {5325937004051114235 13 86}]
------------------------------------------------------
flag 79056 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 53397 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85} {5325937004051114235 13 86}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85} {5325937004051114235 13 86}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 94122 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 48606 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 12845 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 24883 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 84950 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 64137 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 61781 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 20481 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 14 server 1 vote for server 0
term 14 server 0 get vote from server 1
term 14 server 0 become leader
------------------------------------------------------
flag 86985 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 95710 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85} {5325937004051114235 13 86}]
------------------------------------------------------
client write log 4277269756558205420 (index 87) to leader 0
flag 345 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 37244 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 63449 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 75841 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85} {5325937004051114235 13 86} {4277269756558205420 14 87}]
------------------------------------------------------
flag 97607 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 21096 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 76467 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 4254 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85} {5325937004051114235 13 86} {4277269756558205420 14 87}]
------------------------------------------------------
flag 85076 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 47120 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
client write log 276776418919786896 (index 88) to leader 0
client write log 9127550445867595580 (index 89) to leader 0
client write log 4110445339651183930 (index 90) to leader 0
client write log 1885092818775255618 (index 91) to leader 0
client write log 1793119846631553149 (index 92) to leader 0
client write log 1242610726850644754 (index 93) to leader 0
client write log 3942891425323267415 (index 94) to leader 0
client write log 6495388214809944332 (index 95) to leader 0
client write log 6647888474873439519 (index 96) to leader 0
client write log 1213128496734456262 (index 97) to leader 0
client write log 1813539582245366573 (index 98) to leader 0
flag 59123 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 61895 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 11 79} {6310123233852173391 11 80} {3714833594231232175 11 81} {431972474804927030 11 82} {194810462179130979 11 83} {75808703551130333 11 84} {5325937004051114235 11 85} {5325937004051114235 13 86} {4277269756558205420 14 87} {276776418919786896 14 88} {9127550445867595580 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
term 14 Server0 start snapshot! index=89
term 14 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=98
-------------------------------------------------------------
flag 45274 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 3105 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 54751 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=98
-------------------------------------------------------------
flag 57948 term 13 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 20551 term 13 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 13 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
!!!!!!connect server 2
client write log 2954384039165279105 (index 87) to leader 2
flag 59937 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 2 InstallSnapshot success
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
term 14 server 1 not vote for server 0, 任期不够新
term 14 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27482 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 2559 term 14 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
flag 48697 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 65706 term 14 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7204 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 72068 term 14 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
flag 87871 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 98306 term 14 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 2 not vote for server 0, 任期不够新
term 14 server 0 get outdate rpc reply from server 2
flag 42809 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 76911 term 14 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
flag 42536 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 79480 term 14 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24471 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 63217 term 14 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57351 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 55899 term 14 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
flag 1236 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 15131 term 14 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
flag 69035 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 95847 term 14 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
flag 60317 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 96818 term 14 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34058 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 99166 term 14 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79237 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 73281 term 14 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
flag 29811 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 23830 term 14 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72352 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 67129 term 14 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
flag 18070 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 95909 term 14 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
term 14 server 2 not vote for server 0, 任期不够新
term 14 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 99->98
------------------------------------------------------
flag 10399 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 98
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
term 14 server 2 InstallSnapshot fail
rf.commitIndex 98 args.LastIncludedIndex 89
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38841 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 40214 term 14 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
flag 39713 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 39665 term 14 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98}]
------------------------------------------------------
client write log 2954384039165279105 (index 99) to leader 0
flag 65813 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 36073 term 14 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98} {2954384039165279105 14 99}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 89} {4110445339651183930 14 90} {1885092818775255618 14 91} {1793119846631553149 14 92} {1242610726850644754 14 93} {3942891425323267415 14 94} {6495388214809944332 14 95} {6647888474873439519 14 96} {1213128496734456262 14 97} {1813539582245366573 14 98} {2954384039165279105 14 99}]
------------------------------------------------------
term 14 Server0 start snapshot! index=99
term 14 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
flag 92908 term 14 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
flag 51528 term 14 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
term 14 Server2 start snapshot! index=99
term 14 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
term 14 Server1 start snapshot! index=99
term 14 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
flag 86424 term 14 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
flag 52620 term 14 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
flag 22669 term 14 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
flag 60309 term 14 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
flag 86927 term 14 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
flag 519 term 14 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33387 term 14 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
flag 86515 term 14 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
flag 36844 term 14 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
flag 32794 term 14 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4777704529207489574 (index 100) to leader 0
flag 57755 term 14 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
flag 225 term 14 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4777704529207489574 14 100}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4209 term 14 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
flag 81903 term 14 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 14 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4777704529207489574 14 100}]
------------------------------------------------------
client write log 4674546522677039709 (index 101) to leader 0
client write log 415363510855834059 (index 102) to leader 0
client write log 6738746304476111551 (index 103) to leader 0
client write log 5383719538031085217 (index 104) to leader 0
client write log 5429240316957724248 (index 105) to leader 0
client write log 7532549715187484449 (index 106) to leader 0
client write log 7128552521793864767 (index 107) to leader 0
client write log 3789509641394724727 (index 108) to leader 0
client write log 5722624672243656997 (index 109) to leader 0
client write log 3681841268620985367 (index 110) to leader 0
client write log 1804232443247846226 (index 111) to leader 0
client write log 3125732693663751025 (index 112) to leader 0
client write log 8067741924411621288 (index 113) to leader 0
client write log 2577455919099688451 (index 114) to leader 0
client write log 6942626600785236798 (index 115) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78614 term 14 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
flag 95381 term 14 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 14 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 14 99} {4777704529207489574 14 100} {4674546522677039709 14 101} {415363510855834059 14 102} {6738746304476111551 14 103} {5383719538031085217 14 104} {5429240316957724248 14 105} {7532549715187484449 14 106} {7128552521793864767 14 107} {3789509641394724727 14 108} {5722624672243656997 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115}]
------------------------------------------------------
term 14 Server0 start snapshot! index=109
term 14 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=115
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
flag 54558 term 14 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 14 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115}]
------------------------------------------------------
term 14 Server2 start snapshot! index=109
term 14 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=115
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7462854495339573846 (index 116) to leader 0
term 14 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
flag 23932 term 14 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 14 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 15 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115} {7462854495339573846 14 116}]
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 1 vote for server 0
term 16 server 0 get vote from server 1
term 16 server 0 become leader
------------------------------------------------------
term 16 server 2 vote for server 0
term 16 server 0 get outdate rpc reply from server 2
flag 40233 term 16 leader 0 nextIndex[1]: 117  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
flag 45825 term 16 leader 0 nextIndex[2]: 117  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115} {7462854495339573846 14 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 117->116
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
flag 4661 term 16 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 16 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
term 16 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 14 rf.commitIndex 109 rf.lastApplied 109
term 16 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115} {7462854495339573846 14 116}]
------------------------------------------------------
flag 4426 term 16 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 16 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
flag 43359 term 16 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 16 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115} {7462854495339573846 14 116}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115} {7462854495339573846 14 116}]
------------------------------------------------------
flag 62283 term 16 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
flag 23758 term 16 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 16 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115} {7462854495339573846 14 116}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115} {7462854495339573846 14 116}]
------------------------------------------------------
flag 95266 term 16 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
flag 95370 term 16 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 16 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115} {7462854495339573846 14 116}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115} {7462854495339573846 14 116}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52528 term 16 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
flag 2413 term 16 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 16 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115} {7462854495339573846 14 116}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115} {7462854495339573846 14 116}]
------------------------------------------------------
flag 50557 term 16 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
flag 70425 term 16 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 16 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
term 16 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
[{snapshot 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115} {7462854495339573846 14 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115} {7462854495339573846 14 116}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 2
flag 54178 term 16 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
flag 99501 term 16 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 16 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115} {7462854495339573846 14 116}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115} {7462854495339573846 14 116}]
------------------------------------------------------
flag 33484 term 16 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
flag 99052 term 16 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 16 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115} {7462854495339573846 14 116}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115} {7462854495339573846 14 116}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5644206749179089969 (index 117) to leader 0
flag 47388 term 16 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
flag 94412 term 16 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 16 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115} {7462854495339573846 14 116} {5644206749179089969 16 117}]
------------------------------------------------------
flag 20636 term 16 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 48634 term 16 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115} {7462854495339573846 14 116} {5644206749179089969 16 117}]
------------------------------------------------------
client write log 854671274741622712 (index 118) to leader 0
client write log 2998002071505134522 (index 119) to leader 0
client write log 2362292889354074612 (index 120) to leader 0
client write log 9043752769629804906 (index 121) to leader 0
client write log 8173048301674082142 (index 122) to leader 0
client write log 742960188955780992 (index 123) to leader 0
flag 36235 term 16 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 14682 term 16 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 14 109} {3681841268620985367 14 110} {1804232443247846226 14 111} {3125732693663751025 14 112} {8067741924411621288 14 113} {2577455919099688451 14 114} {6942626600785236798 14 115} {7462854495339573846 14 116} {5644206749179089969 16 117} {854671274741622712 16 118} {2998002071505134522 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123}]
------------------------------------------------------
term 16 Server0 start snapshot! index=119
term 16 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=123
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 38917 term 16 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 16 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123}]
------------------------------------------------------
term 16 Server2 start snapshot! index=119
term 16 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=123
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5270472845753470415 (index 124) to leader 0
term 16 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 25003 term 16 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 16 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 17 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 vote for server 0
term 18 server 1 vote for server 0
term 18 server 0 get vote from server 1
term 18 server 0 become leader
------------------------------------------------------
term 18 server 0 get outdate rpc reply from server 2
flag 74774 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 71660 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 125->124
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 117  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 75481 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
term 18 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 16 rf.commitIndex 119 rf.lastApplied 119
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
flag 70531 term 18 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 18 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 13018 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99703 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 21105 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21793 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 19486 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
flag 24779 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 18948 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
flag 28163 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 27868 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3039 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 92897 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
flag 12397 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 75515 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32411 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 63466 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 not vote for server 1, 任期不够新
term 18 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60211 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 2906 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
flag 93444 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 18597 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
flag 27689 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 58384 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14602 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 5521 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
flag 17257 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 30052 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
term 18 server 0 not vote for server 1, 任期不够新
term 18 server 1 get outdate rpc reply from server 0
flag 41318 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 49085 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
flag 21472 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 21375 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
flag 43128 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 29365 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31848 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 46066 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124}]
------------------------------------------------------
client write log 5270472845753470415 (index 125) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47804 term 18 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 7379 term 18 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 18 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125}]
------------------------------------------------------
flag 62073 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 89330 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125}]
------------------------------------------------------
flag 29775 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 81005 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125}]
------------------------------------------------------
flag 81812 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 60459 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125}]
------------------------------------------------------
flag 80841 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 73286 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125}]
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62564 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 46328 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 15348 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 16617 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 81000 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 93308 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 28596 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 36198 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 19 server 1 vote for server 2
term 19 server 2 get vote from server 1
term 19 server 2 become leader
------------------------------------------------------
flag 3302 term 19 leader 2 nextIndex[0]: 126  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 84166 term 19 leader 2 nextIndex[1]: 126  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125}]
------------------------------------------------------
client write log 9173940035648628052 (index 126) to leader 2
flag 30494 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 12099 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 90054 term 19 leader 2 nextIndex[0]: 126  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 34641 term 19 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125} {9173940035648628052 19 126}]
------------------------------------------------------
flag 38845 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 81561 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 82030 term 19 leader 2 nextIndex[0]: 126  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 126 
------------------------------------------------------
flag 32287 term 19 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125} {9173940035648628052 19 126}]
------------------------------------------------------
client write log 8358274113272417980 (index 127) to leader 2
flag 45390 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 52556 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 37494 term 19 leader 2 nextIndex[0]: 126  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 126 
------------------------------------------------------
flag 24831 term 19 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125} {9173940035648628052 19 126} {8358274113272417980 19 127}]
------------------------------------------------------
flag 79592 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 12351 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 21669 term 19 leader 2 nextIndex[0]: 126  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 17132 term 19 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 19 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 127 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125} {9173940035648628052 19 126} {8358274113272417980 19 127}]
------------------------------------------------------
!!!!!!connect server 0
client write log 812668940083224781 (index 128) to leader 2
flag 79646 term 18 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 11164 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
term 19 server 2 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
term 19 server 1 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57132 term 19 leader 2 nextIndex[0]: 126  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 82835 term 19 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 19 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 127 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125} {9173940035648628052 19 126} {8358274113272417980 19 127} {812668940083224781 19 128}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125} {9173940035648628052 19 126} {8358274113272417980 19 127} {812668940083224781 19 128}]
------------------------------------------------------
flag 83213 term 19 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 19 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 67568 term 19 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 19 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125} {9173940035648628052 19 126} {8358274113272417980 19 127} {812668940083224781 19 128}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125} {9173940035648628052 19 126} {8358274113272417980 19 127} {812668940083224781 19 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 129->128
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 128
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 14553 term 19 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 19 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125} {9173940035648628052 19 126} {8358274113272417980 19 127} {812668940083224781 19 128}]
------------------------------------------------------
term 19 server 0 InstallSnapshot fail
rf.commitIndex 128 args.LastIncludedIndex 119
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 120 matchIndex[0] 119 
------------------------------------------------------------------------
flag 79523 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 128 
------------------------------------------------------
flag 53114 term 19 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 19 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125} {9173940035648628052 19 126} {8358274113272417980 19 127} {812668940083224781 19 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125} {9173940035648628052 19 126} {8358274113272417980 19 127} {812668940083224781 19 128}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86421 term 19 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 19 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 32209 term 19 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 19 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125} {9173940035648628052 19 126} {8358274113272417980 19 127} {812668940083224781 19 128}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125} {9173940035648628052 19 126} {8358274113272417980 19 127} {812668940083224781 19 128}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 129->128
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 128
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 75657 term 19 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 19 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 19 server 0 InstallSnapshot fail
rf.commitIndex 128 args.LastIncludedIndex 119
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 120 matchIndex[0] 119 
------------------------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125} {9173940035648628052 19 126} {8358274113272417980 19 127} {812668940083224781 19 128}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8808386174030888881 (index 129) to leader 2
flag 63932 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 128 
------------------------------------------------------
flag 74856 term 19 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 19 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 16 119} {2362292889354074612 16 120} {9043752769629804906 16 121} {8173048301674082142 16 122} {742960188955780992 16 123} {5270472845753470415 16 124} {5270472845753470415 18 125} {9173940035648628052 19 126} {8358274113272417980 19 127} {812668940083224781 19 128} {8808386174030888881 19 129}]
------------------------------------------------------
term 19 Server2 start snapshot! index=129
term 19 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 10011 term 19 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 19 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 129 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 19 129}]
------------------------------------------------------
term 19 Server1 start snapshot! index=129
term 19 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 120->119
------------------------------------------------------
client write log 5783680034657620019 (index 130) to leader 2
client write log 1344188459668660459 (index 131) to leader 2
client write log 7517734576521600638 (index 132) to leader 2
client write log 1526895489687416113 (index 133) to leader 2
client write log 523814486360802747 (index 134) to leader 2
client write log 3326152976091152353 (index 135) to leader 2
client write log 2931970184698877743 (index 136) to leader 2
client write log 7307572752809924678 (index 137) to leader 2
client write log 8897101131164203340 (index 138) to leader 2
client write log 5771574248013419024 (index 139) to leader 2
client write log 5077809425889768445 (index 140) to leader 2
client write log 7611974817292080250 (index 141) to leader 2
client write log 589943158654743166 (index 142) to leader 2
client write log 7078960306277404872 (index 143) to leader 2
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 119
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 80892 term 19 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 19 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 129 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 19 129} {5783680034657620019 19 130} {1344188459668660459 19 131} {7517734576521600638 19 132} {1526895489687416113 19 133} {523814486360802747 19 134} {3326152976091152353 19 135} {2931970184698877743 19 136} {7307572752809924678 19 137} {8897101131164203340 19 138} {5771574248013419024 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143}]
------------------------------------------------------
term 19 Server2 start snapshot! index=139
term 19 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=143
-------------------------------------------------------------
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 119
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
flag 19976 term 19 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 19 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143}]
------------------------------------------------------
term 19 Server1 start snapshot! index=139
term 19 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=143
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3202600903732640083 (index 144) to leader 2
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 119
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
flag 73903 term 19 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 19 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 20 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 0 vote for server 2
term 21 server 2 get vote from server 0
term 21 server 2 become leader
------------------------------------------------------
term 21 server 1 vote for server 2
term 21 server 2 get outdate rpc reply from server 1
flag 59298 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 59139 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 145->144
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
flag 68521 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
term 21 server 0 InstallSnapshot success
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot success
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 19 rf.commitIndex 139 rf.lastApplied 139
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43748 term 21 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 28612 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
flag 79548 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 95831 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31401 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 2584 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
flag 97868 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 1281 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44844 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 77462 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
flag 94650 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 59407 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
flag 59731 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 12240 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 88155 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
flag 26442 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 57973 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
flag 22298 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 29324 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
flag 59140 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 32965 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
flag 41232 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 87808 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
term 21 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
flag 10115 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 41590 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 21 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
update nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
term 21 server 2 not vote for server 1, 任期不够新
term 21 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11096 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 24079 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63902 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 70303 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
term 21 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91690 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 84024 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
term 21 server 0 not vote for server 1, 任期不够新
term 21 server 1 get outdate rpc reply from server 0
flag 85017 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 61493 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144}]
------------------------------------------------------
client write log 3202600903732640083 (index 145) to leader 2
flag 41247 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 26371 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144} {3202600903732640083 21 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144} {3202600903732640083 21 145}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50914 term 21 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 21 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 145 
------------------------------------------------------
flag 13006 term 21 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 21 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 145 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144} {3202600903732640083 21 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144} {3202600903732640083 21 145}]
------------------------------------------------------
flag 3640 term 21 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 21 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 145 
------------------------------------------------------
flag 159 term 21 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 21 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 145 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144} {3202600903732640083 21 145}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144} {3202600903732640083 21 145}]
------------------------------------------------------
flag 72958 term 21 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 21 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 145 
------------------------------------------------------
flag 47910 term 21 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 21 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 145 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144} {3202600903732640083 21 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144} {3202600903732640083 21 145}]
------------------------------------------------------
flag 4115 term 21 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 21 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 145 
------------------------------------------------------
flag 55799 term 21 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 21 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 145 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144} {3202600903732640083 21 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144} {3202600903732640083 21 145}]
------------------------------------------------------
flag 46063 term 21 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 21 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 145 
------------------------------------------------------
flag 11803 term 21 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 21 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 145 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144} {3202600903732640083 21 145}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144} {3202600903732640083 21 145}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66665 term 21 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 21 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 145 
------------------------------------------------------
flag 35631 term 21 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 21 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 145 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144} {3202600903732640083 21 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144} {3202600903732640083 21 145}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5687895477798303964 (index 146) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69257 term 21 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 21 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 145 
------------------------------------------------------
flag 34615 term 21 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 21 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 145 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144} {3202600903732640083 21 145} {5687895477798303964 21 146}]
------------------------------------------------------
flag 76399 term 21 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 21 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 146 
------------------------------------------------------
flag 8809 term 21 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 21 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 21 leaderCommit: 146 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144} {3202600903732640083 21 145} {5687895477798303964 21 146}]
------------------------------------------------------
client write log 7247025325157972167 (index 147) to leader 2
client write log 579834610665370459 (index 148) to leader 2
client write log 2934578254269440743 (index 149) to leader 2
client write log 955081214923187645 (index 150) to leader 2
client write log 5111056685904102267 (index 151) to leader 2
client write log 4044385586122881958 (index 152) to leader 2
client write log 2198312615150750287 (index 153) to leader 2
client write log 1115693191090147704 (index 154) to leader 2
client write log 333633692001792466 (index 155) to leader 2
client write log 3148699161586654259 (index 156) to leader 2
client write log 5987616364862121561 (index 157) to leader 2
client write log 5253830639816457610 (index 158) to leader 2
client write log 6685642831853151323 (index 159) to leader 2
client write log 4758584474114321755 (index 160) to leader 2
flag 41671 term 21 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 21 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 146 
------------------------------------------------------
flag 54196 term 21 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 21 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 21 leaderCommit: 146 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 19 139} {5077809425889768445 19 140} {7611974817292080250 19 141} {589943158654743166 19 142} {7078960306277404872 19 143} {3202600903732640083 19 144} {3202600903732640083 21 145} {5687895477798303964 21 146} {7247025325157972167 21 147} {579834610665370459 21 148} {2934578254269440743 21 149} {955081214923187645 21 150} {5111056685904102267 21 151} {4044385586122881958 21 152} {2198312615150750287 21 153} {1115693191090147704 21 154} {333633692001792466 21 155} {3148699161586654259 21 156} {5987616364862121561 21 157} {5253830639816457610 21 158} {6685642831853151323 21 159} {4758584474114321755 21 160}]
------------------------------------------------------
term 21 Server2 start snapshot! index=149
term 21 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=160
-------------------------------------------------------------
term 21 Server2 start snapshot! index=159
term 21 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=160
-------------------------------------------------------------
term 21 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 21
------------------------------------------------------
flag 66303 term 21 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 21 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {4758584474114321755 21 160}]
------------------------------------------------------
term 21 Server1 start snapshot! index=149
term 21 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=160
-------------------------------------------------------------
term 21 Server1 start snapshot! index=159
term 21 server1 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=160
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5494203874171191337 (index 161) to leader 2
term 21 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 21
------------------------------------------------------
flag 72165 term 21 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 21 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161}]
------------------------------------------------------
term 22 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 1 vote for server 2
term 23 server 2 get vote from server 1
term 23 server 2 become leader
------------------------------------------------------
term 23 server 0 vote for server 2
term 23 server 2 get outdate rpc reply from server 0
flag 16550 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
flag 70054 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161}]
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 162->161
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 146  matchIndex[0]: 0
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 21
------------------------------------------------------
flag 16663 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
term 23 server 0 InstallSnapshot success
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 21 rf.commitIndex 159 rf.lastApplied 159
flag 65122 term 23 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 23 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
flag 57200 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161}]
------------------------------------------------------
flag 71556 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
flag 64621 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 0 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 0
flag 25605 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
flag 97889 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161}]
------------------------------------------------------
flag 90764 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
flag 61250 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161}]
------------------------------------------------------
flag 12445 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
flag 1631 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80084 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
flag 33889 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 87543 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
flag 47267 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20591 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
flag 70450 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
flag 88579 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
flag 42375 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 0 vote for server 1
term 24 server 1 get vote from server 0
term 24 server 1 become leader
------------------------------------------------------
flag 63839 term 24 leader 1 nextIndex[0]: 162  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
flag 38884 term 24 leader 1 nextIndex[2]: 162  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161}]
------------------------------------------------------
client write log 3654544103961949474 (index 162) to leader 1
flag 59158 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
flag 77027 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
flag 33520 term 24 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 24 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
flag 98535 term 24 leader 1 nextIndex[2]: 162  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162}]
------------------------------------------------------
flag 44920 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
flag 29940 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97108 term 24 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 24 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 2519 term 24 leader 1 nextIndex[2]: 162  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 162 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162}]
------------------------------------------------------
client write log 2489634309066364426 (index 163) to leader 1
flag 45363 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
flag 89123 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 162->161
------------------------------------------------------
flag 32893 term 24 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 24 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 42403 term 24 leader 1 nextIndex[2]: 162  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 162 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=164
update matchIndex[0]=163
update leader CommitIndex=163
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162} {2489634309066364426 24 163}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 162->161
------------------------------------------------------
flag 70134 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 161
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 21
------------------------------------------------------
term 24 server 1 not vote for server 0, 任期不够新
term 24 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31819 term 24 leader 1 nextIndex[0]: 164  matchIndex[0]: 163
term 24 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 21
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=164
update matchIndex[0]=163
update leader CommitIndex=163
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162} {2489634309066364426 24 163}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6816486218119433696 (index 164) to leader 1
flag 88974 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 161 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 161
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 21
------------------------------------------------------
term 24 server 0 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
term 24 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7605 term 24 leader 1 nextIndex[0]: 164  matchIndex[0]: 163
term 24 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 21
------------------------------------------------------
term 24 server 2 InstallSnapshot fail
rf.commitIndex 161 args.LastIncludedIndex 159
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162} {2489634309066364426 24 163} {6816486218119433696 24 164}]
------------------------------------------------------
term 24 server 2 vote for server 1
term 24 server 1 get outdate rpc reply from server 2
flag 7843 term 24 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 80391 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:161 
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162} {2489634309066364426 24 163} {6816486218119433696 24 164}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162} {2489634309066364426 24 163} {6816486218119433696 24 164}]
------------------------------------------------------
flag 35758 term 24 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 16126 term 24 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162} {2489634309066364426 24 163} {6816486218119433696 24 164}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162} {2489634309066364426 24 163} {6816486218119433696 24 164}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 2 not vote for server 0, 任期不够新
term 24 server 0 get outdate rpc reply from server 2
flag 65091 term 24 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 23246 term 24 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162} {2489634309066364426 24 163} {6816486218119433696 24 164}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162} {2489634309066364426 24 163} {6816486218119433696 24 164}]
------------------------------------------------------
term 24 server 1 not vote for server 0, 任期不够新
term 24 server 0 get outdate rpc reply from server 1
flag 97616 term 24 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 47466 term 24 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162} {2489634309066364426 24 163} {6816486218119433696 24 164}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162} {2489634309066364426 24 163} {6816486218119433696 24 164}]
------------------------------------------------------
flag 68354 term 24 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 70496 term 24 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162} {2489634309066364426 24 163} {6816486218119433696 24 164}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162} {2489634309066364426 24 163} {6816486218119433696 24 164}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51474 term 24 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 17040 term 24 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162} {2489634309066364426 24 163} {6816486218119433696 24 164}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162} {2489634309066364426 24 163} {6816486218119433696 24 164}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28174 term 24 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 13468 term 24 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162} {2489634309066364426 24 163} {6816486218119433696 24 164}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162} {2489634309066364426 24 163} {6816486218119433696 24 164}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7047039394847711494 (index 165) to leader 1
flag 23619 term 24 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 64145 term 24 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162} {2489634309066364426 24 163} {6816486218119433696 24 164} {7047039394847711494 24 165}]
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78101 term 24 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 71512 term 24 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162} {2489634309066364426 24 163} {6816486218119433696 24 164} {7047039394847711494 24 165}]
------------------------------------------------------
client write log 7388184873243078265 (index 166) to leader 1
client write log 7158627971006102043 (index 167) to leader 1
client write log 4278691588792505517 (index 168) to leader 1
client write log 7322751878642833655 (index 169) to leader 1
client write log 5313194810314460525 (index 170) to leader 1
client write log 5416570483063684479 (index 171) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 165->164
------------------------------------------------------
flag 73506 term 24 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 24 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 0  matchIndex[2]: 164
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 21
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 21 159} {4758584474114321755 21 160} {5494203874171191337 21 161} {3654544103961949474 24 162} {2489634309066364426 24 163} {6816486218119433696 24 164} {7047039394847711494 24 165} {7388184873243078265 24 166} {7158627971006102043 24 167} {4278691588792505517 24 168} {7322751878642833655 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171}]
------------------------------------------------------
term 24 Server1 start snapshot! index=169
term 24 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=171
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26286 term 24 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 24 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 0  matchIndex[2]: 164
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171}]
------------------------------------------------------
term 24 Server0 start snapshot! index=169
term 24 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=171
-------------------------------------------------------------
!!!!!!connect server 2
client write log 938252252539902736 (index 172) to leader 1
term 24 server 1 not vote for server 2, 日志不够新
term 24 server 0 not vote for server 2, 日志不够新
term 26 server 2 vote for server 1
term 26 server 0 vote for server 1
term 26 server 1 get vote from server 2
term 26 server 1 become leader
------------------------------------------------------
term 26 server 1 get outdate rpc reply from server 0
flag 11199 term 26 leader 1 nextIndex[0]: 173  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 11359 term 26 leader 1 nextIndex[2]: 173  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 173->172
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 173->172
------------------------------------------------------
flag 73265 term 26 leader 1 nextIndex[0]: 172  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 165  matchIndex[2]: 0
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 24
------------------------------------------------------
term 26 server 2 InstallSnapshot success
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 24 rf.commitIndex 169 rf.lastApplied 169
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
flag 72862 term 26 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 5224 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
term 26 server 2 not vote for server 0, 任期不够新
term 26 server 0 get outdate rpc reply from server 2
flag 78465 term 26 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 98912 term 26 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
flag 50018 term 26 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 67197 term 26 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
flag 97379 term 26 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 19262 term 26 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
flag 14361 term 26 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 68308 term 26 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
flag 55726 term 26 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 46066 term 26 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56933 term 26 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 59245 term 26 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
flag 92105 term 26 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 12743 term 26 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
flag 55524 term 26 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 45167 term 26 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36352 term 26 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 74330 term 26 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4115 term 26 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 63109 term 26 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
flag 43786 term 26 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 46728 term 26 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
flag 43846 term 26 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 65880 term 26 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
flag 86402 term 26 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 9196 term 26 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
flag 97997 term 26 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 80 term 26 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
flag 74662 term 26 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 27827 term 26 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
flag 39698 term 26 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 39400 term 26 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:171 
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97989 term 26 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 2808 term 26 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172}]
------------------------------------------------------
client write log 938252252539902736 (index 173) to leader 1
flag 74549 term 26 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 8053 term 26 leader 1 nextIndex[2]: 173  matchIndex[2]: 172
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172} {938252252539902736 26 173}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172} {938252252539902736 26 173}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94260 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 26 leaderCommit: 173 
------------------------------------------------------
flag 43475 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 26 leaderCommit: 173 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172} {938252252539902736 26 173}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172} {938252252539902736 26 173}]
------------------------------------------------------
flag 99935 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 26 leaderCommit: 173 
------------------------------------------------------
flag 29966 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 26 leaderCommit: 173 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172} {938252252539902736 26 173}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172} {938252252539902736 26 173}]
------------------------------------------------------
flag 21404 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 26 leaderCommit: 173 
------------------------------------------------------
flag 67338 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 26 leaderCommit: 173 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172} {938252252539902736 26 173}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172} {938252252539902736 26 173}]
------------------------------------------------------
flag 53875 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 26 leaderCommit: 173 
------------------------------------------------------
flag 14081 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 26 leaderCommit: 173 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172} {938252252539902736 26 173}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172} {938252252539902736 26 173}]
------------------------------------------------------
flag 16809 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 26 leaderCommit: 173 
------------------------------------------------------
flag 99972 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 26 leaderCommit: 173 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172} {938252252539902736 26 173}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172} {938252252539902736 26 173}]
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33543 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 26 leaderCommit: 173 
------------------------------------------------------
flag 3128 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 26 leaderCommit: 173 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 26 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
update nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172} {938252252539902736 26 173}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172} {938252252539902736 26 173}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2373263290286146728 (index 174) to leader 1
flag 37006 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 26 leaderCommit: 173 
------------------------------------------------------
flag 87586 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 26 leaderCommit: 173 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172} {938252252539902736 26 173} {2373263290286146728 26 174}]
------------------------------------------------------
flag 69287 term 26 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 26 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
flag 22291 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172} {938252252539902736 26 173} {2373263290286146728 26 174}]
------------------------------------------------------
client write log 1311117369541745005 (index 175) to leader 1
client write log 3873926315655918968 (index 176) to leader 1
client write log 5873548083912161803 (index 177) to leader 1
client write log 2741837457399730189 (index 178) to leader 1
client write log 747105105134200200 (index 179) to leader 1
client write log 812751787048640469 (index 180) to leader 1
client write log 5896597543590898852 (index 181) to leader 1
client write log 1070480504310465422 (index 182) to leader 1
client write log 7432771082730338575 (index 183) to leader 1
client write log 8626699620282690644 (index 184) to leader 1
client write log 4667149126876215547 (index 185) to leader 1
client write log 5051290563447304770 (index 186) to leader 1
client write log 1402993260150850335 (index 187) to leader 1
client write log 8881815082017485737 (index 188) to leader 1
client write log 2883848485510498873 (index 189) to leader 1
flag 98037 term 26 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 26 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
flag 2706 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 24 169} {5313194810314460525 24 170} {5416570483063684479 24 171} {938252252539902736 24 172} {938252252539902736 26 173} {2373263290286146728 26 174} {1311117369541745005 26 175} {3873926315655918968 26 176} {5873548083912161803 26 177} {2741837457399730189 26 178} {747105105134200200 26 179} {812751787048640469 26 180} {5896597543590898852 26 181} {1070480504310465422 26 182} {7432771082730338575 26 183} {8626699620282690644 26 184} {4667149126876215547 26 185} {5051290563447304770 26 186} {1402993260150850335 26 187} {8881815082017485737 26 188} {2883848485510498873 26 189}]
------------------------------------------------------
term 26 Server1 start snapshot! index=179
term 26 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=189
-------------------------------------------------------------
term 26 Server1 start snapshot! index=189
term 26 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
flag 62812 term 26 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 Server0 start snapshot! index=179
term 26 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=189
-------------------------------------------------------------
term 26 Server0 start snapshot! index=189
term 26 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5993416935079964496 (index 190) to leader 1
flag 32490 term 26 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
term 27 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {5993416935079964496 26 190}]
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 2 vote for server 1
term 28 server 0 vote for server 1
term 28 server 1 get vote from server 2
term 28 server 1 become leader
------------------------------------------------------
term 28 server 1 get outdate rpc reply from server 0
flag 27111 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 71714 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {5993416935079964496 26 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 191->190
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15661 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 174  matchIndex[2]: 0
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
term 28 server 2 InstallSnapshot success
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 26 rf.commitIndex 189 rf.lastApplied 189
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {5993416935079964496 26 190}]
------------------------------------------------------
flag 76632 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 56735 term 28 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 28 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {5993416935079964496 26 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {5993416935079964496 26 190}]
------------------------------------------------------
flag 16517 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 98701 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {5993416935079964496 26 190}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {5993416935079964496 26 190}]
------------------------------------------------------
flag 58211 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 20510 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {5993416935079964496 26 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {5993416935079964496 26 190}]
------------------------------------------------------
flag 34672 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 32667 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {5993416935079964496 26 190}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {5993416935079964496 26 190}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55969 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 9149 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {5993416935079964496 26 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {5993416935079964496 26 190}]
------------------------------------------------------
flag 93240 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 5424 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {5993416935079964496 26 190}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {5993416935079964496 26 190}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18365 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 54555 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {5993416935079964496 26 190}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {5993416935079964496 26 190}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 57162 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 80577 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 71251 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 76380 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 92723 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 65166 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48351 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 70382 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 29 server 0 vote for server 2
term 29 server 2 get vote from server 0
term 29 server 2 become leader
------------------------------------------------------
client write log 5191878723541199735 (index 191) to leader 2
flag 42922 term 29 leader 2 nextIndex[0]: 191  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 22406 term 29 leader 2 nextIndex[1]: 191  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {5993416935079964496 26 190} {5191878723541199735 29 191}]
------------------------------------------------------
flag 60217 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 99868 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 65822 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 191 
------------------------------------------------------
flag 68197 term 29 leader 2 nextIndex[1]: 191  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {5993416935079964496 26 190} {5191878723541199735 29 191}]
------------------------------------------------------
client write log 3677007804413425042 (index 192) to leader 2
client write log 2307014025608608306 (index 193) to leader 2
client write log 5579994791838972192 (index 194) to leader 2
client write log 7652575800555510211 (index 195) to leader 2
client write log 5992258265471936693 (index 196) to leader 2
client write log 4506382939404439880 (index 197) to leader 2
client write log 679536132627701927 (index 198) to leader 2
client write log 7891049555441959322 (index 199) to leader 2
client write log 6406963957148143570 (index 200) to leader 2
client write log 472255713776312283 (index 201) to leader 2
flag 47621 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 62735 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 93964 term 29 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 29 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 191 
------------------------------------------------------
flag 18412 term 29 leader 2 nextIndex[1]: 191  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 26 189} {5993416935079964496 26 190} {5191878723541199735 29 191} {3677007804413425042 29 192} {2307014025608608306 29 193} {5579994791838972192 29 194} {7652575800555510211 29 195} {5992258265471936693 29 196} {4506382939404439880 29 197} {679536132627701927 29 198} {7891049555441959322 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
term 29 Server2 start snapshot! index=199
term 29 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=201
-------------------------------------------------------------
flag 20910 term 28 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 38889 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 92657 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 191  matchIndex[1]: 0
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
term 29 Server0 start snapshot! index=199
term 29 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=201
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5823879643499640865 (index 191) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 191->190
------------------------------------------------------
term 28 leader 1 nextIndex[0]: 0  matchIndex[0]: 190
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
flag 56878 term 28 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 28 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 29 server 2 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 29 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76145 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 191  matchIndex[1]: 0
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 1 InstallSnapshot success
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 29 rf.commitIndex 199 rf.lastApplied 199
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
flag 202 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 91406 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
flag 62860 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 5618 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12018 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 68528 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
flag 94437 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 33115 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88060 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 70008 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46127 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 74682 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
flag 17415 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 1692 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
flag 89934 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 24007 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48380 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 82874 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
flag 27647 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 96410 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
flag 80482 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 10082 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
term 29 server 0 not vote for server 2, 任期不够新
term 29 server 2 get outdate rpc reply from server 0
flag 67983 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 31514 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 1 not vote for server 2, 日志不够新
term 29 server 2 get outdate rpc reply from server 1
flag 92498 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 71206 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
term 29 server 1 not vote for server 2, 任期不够新
term 29 server 2 get outdate rpc reply from server 1
flag 73812 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 25594 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
flag 96613 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 76909 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
flag 99834 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 82361 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
flag 31840 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 86575 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
flag 76612 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 65309 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
flag 79599 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 49080 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201}]
------------------------------------------------------
client write log 5823879643499640865 (index 202) to leader 2
flag 29147 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 39617 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201} {5823879643499640865 29 202}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201} {5823879643499640865 29 202}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 203->202
------------------------------------------------------
flag 99423 term 29 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 29 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 202
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 1 InstallSnapshot fail
rf.commitIndex 201 args.LastIncludedIndex 199
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201} {5823879643499640865 29 202}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12807 term 29 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 29 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 6707 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201} {5823879643499640865 29 202}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201} {5823879643499640865 29 202}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51901 term 29 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 29 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 13471 term 29 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 29 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201} {5823879643499640865 29 202}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201} {5823879643499640865 29 202}]
------------------------------------------------------
flag 13877 term 29 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 29 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 77623 term 29 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 29 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201} {5823879643499640865 29 202}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201} {5823879643499640865 29 202}]
------------------------------------------------------
flag 69870 term 29 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 29 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 16295 term 29 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 29 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201} {5823879643499640865 29 202}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201} {5823879643499640865 29 202}]
------------------------------------------------------
flag 29629 term 29 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 29 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 85869 term 29 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 29 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201} {5823879643499640865 29 202}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201} {5823879643499640865 29 202}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2209132760850266066 (index 203) to leader 2
flag 61317 term 29 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 29 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 48874 term 29 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 29 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201} {5823879643499640865 29 202} {2209132760850266066 29 203}]
------------------------------------------------------
flag 82601 term 29 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 29 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
flag 23585 term 29 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 29 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201} {5823879643499640865 29 202} {2209132760850266066 29 203}]
------------------------------------------------------
client write log 7200139918316343382 (index 204) to leader 2
client write log 2267103792943900921 (index 205) to leader 2
client write log 1161499488910034203 (index 206) to leader 2
client write log 4316012833967615727 (index 207) to leader 2
client write log 6470364293693228665 (index 208) to leader 2
client write log 5944662952477318500 (index 209) to leader 2
client write log 8734687124539020271 (index 210) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56743 term 29 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 29 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
flag 43134 term 29 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 29 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 29 199} {6406963957148143570 29 200} {472255713776312283 29 201} {5823879643499640865 29 202} {2209132760850266066 29 203} {7200139918316343382 29 204} {2267103792943900921 29 205} {1161499488910034203 29 206} {4316012833967615727 29 207} {6470364293693228665 29 208} {5944662952477318500 29 209} {8734687124539020271 29 210}]
------------------------------------------------------
term 29 Server2 start snapshot! index=209
term 29 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=210
-------------------------------------------------------------
term 29 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 29
------------------------------------------------------
flag 45341 term 29 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 29 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210}]
------------------------------------------------------
term 29 Server1 start snapshot! index=209
term 29 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=210
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1005202018445526883 (index 211) to leader 2
term 29 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 29
------------------------------------------------------
flag 43254 term 29 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 29 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 30 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 1 vote for server 2
term 31 server 2 get vote from server 1
term 31 server 2 become leader
------------------------------------------------------
term 31 server 0 vote for server 2
term 31 server 2 get outdate rpc reply from server 0
flag 88956 term 31 leader 2 nextIndex[0]: 212  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
flag 79538 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 212->211
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 203  matchIndex[0]: 0
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 29
------------------------------------------------------
flag 63539 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
term 31 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 29 rf.commitIndex 209 rf.lastApplied 209
flag 41944 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
flag 9483 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
term 31 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
flag 70664 term 31 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
flag 42380 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25112 term 31 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
flag 31615 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3245 term 31 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
flag 25238 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
flag 4098 term 31 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
flag 1203 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16144 term 31 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
flag 10494 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
flag 51085 term 31 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
flag 10425 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1747 term 31 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
flag 96727 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
flag 61321 term 31 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
flag 52272 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
flag 86153 term 31 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
flag 61584 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28909 term 31 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
flag 79217 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
term 31 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66264 term 31 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
flag 21903 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
flag 27332 term 31 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
flag 59386 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
flag 5221 term 31 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
flag 38944 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46146 term 31 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
flag 47042 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
flag 38776 term 31 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
flag 40800 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
flag 11608 term 31 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
flag 89869 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211}]
------------------------------------------------------
client write log 1005202018445526883 (index 212) to leader 2
flag 98519 term 31 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
flag 10464 term 31 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 31 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211} {1005202018445526883 31 212}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211} {1005202018445526883 31 212}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28713 term 31 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 212 
------------------------------------------------------
flag 36374 term 31 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 31 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 212 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
term 31 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211} {1005202018445526883 31 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211} {1005202018445526883 31 212}]
------------------------------------------------------
flag 64279 term 31 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 212 
------------------------------------------------------
flag 46139 term 31 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 31 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 212 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211} {1005202018445526883 31 212}]
term 31 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211} {1005202018445526883 31 212}]
------------------------------------------------------
flag 4008 term 31 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 212 
------------------------------------------------------
flag 95988 term 31 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 31 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 212 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211} {1005202018445526883 31 212}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211} {1005202018445526883 31 212}]
------------------------------------------------------
flag 32006 term 31 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 212 
------------------------------------------------------
flag 11894 term 31 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 31 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 212 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211} {1005202018445526883 31 212}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211} {1005202018445526883 31 212}]
------------------------------------------------------
flag 65796 term 31 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 212 
------------------------------------------------------
flag 8125 term 31 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 31 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 212 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211} {1005202018445526883 31 212}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211} {1005202018445526883 31 212}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67518 term 31 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 212 
------------------------------------------------------
flag 20665 term 31 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 31 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 212 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211} {1005202018445526883 31 212}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211} {1005202018445526883 31 212}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6588779517865280549 (index 213) to leader 2
flag 94927 term 31 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 212 
------------------------------------------------------
flag 50347 term 31 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 31 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 212 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211} {1005202018445526883 31 212} {6588779517865280549 31 213}]
------------------------------------------------------
flag 97253 term 31 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 30722 term 31 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 31 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211} {1005202018445526883 31 212} {6588779517865280549 31 213}]
------------------------------------------------------
client write log 3855185902517864025 (index 214) to leader 2
client write log 3121311108813869682 (index 215) to leader 2
client write log 4760210113875895334 (index 216) to leader 2
client write log 5213787201646018850 (index 217) to leader 2
client write log 2741361493774761971 (index 218) to leader 2
client write log 6722822696556120967 (index 219) to leader 2
client write log 8817962951292247906 (index 220) to leader 2
client write log 858841308319756580 (index 221) to leader 2
client write log 655193825738562902 (index 222) to leader 2
client write log 5597067538449272360 (index 223) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26071 term 31 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 90869 term 31 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 31 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 29 209} {8734687124539020271 29 210} {1005202018445526883 29 211} {1005202018445526883 31 212} {6588779517865280549 31 213} {3855185902517864025 31 214} {3121311108813869682 31 215} {4760210113875895334 31 216} {5213787201646018850 31 217} {2741361493774761971 31 218} {6722822696556120967 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223}]
------------------------------------------------------
term 31 Server2 start snapshot! index=219
term 31 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=223
-------------------------------------------------------------
term 31 leader 2 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
flag 46898 term 31 leader 2 nextIndex[1]: 224  matchIndex[1]: 223
term 31 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223}]
------------------------------------------------------
term 31 Server1 start snapshot! index=219
term 31 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=223
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6280114798233361113 (index 224) to leader 2
term 31 server 2 not vote for server 0, 日志不够新
term 33 server 1 vote for server 2
term 33 server 2 get vote from server 1
term 33 server 2 become leader
------------------------------------------------------
term 33 server 0 vote for server 2
term 33 server 2 get outdate rpc reply from server 0
flag 2722 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
flag 71393 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 225->224
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 225->224
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 2 nextIndex[0]: 213  matchIndex[0]: 0
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
flag 35529 term 33 leader 2 nextIndex[1]: 224  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
term 33 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 31 rf.commitIndex 219 rf.lastApplied 219
term 33 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
flag 24897 term 33 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
flag 11544 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
flag 89992 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
flag 43324 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62408 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
flag 19826 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
flag 18588 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
flag 65368 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
term 33 server 1 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88414 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
flag 12214 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
flag 62506 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
flag 76319 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
flag 15047 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
flag 94366 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
flag 9748 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
flag 89099 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
flag 17606 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
flag 6843 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
flag 37134 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
flag 24742 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
flag 82428 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
flag 37287 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
flag 37689 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
flag 97312 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
flag 6806 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
flag 11831 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
flag 93127 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
flag 67635 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
term 33 server 2 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 2
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65944 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
flag 14265 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98919 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
flag 13320 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
flag 5922 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
flag 18780 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=223
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224}]
------------------------------------------------------
term 33 server 1 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 1
client write log 6280114798233361113 (index 225) to leader 2
flag 72775 term 33 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
flag 58945 term 33 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 33 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 223 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225}]
------------------------------------------------------
flag 59265 term 33 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
flag 46982 term 33 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225}]
------------------------------------------------------
flag 60583 term 33 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
flag 33478 term 33 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225}]
------------------------------------------------------
flag 91216 term 33 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
flag 41022 term 33 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7666 term 33 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
flag 67241 term 33 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225}]
------------------------------------------------------
flag 75094 term 33 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
flag 46937 term 33 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 22326 term 33 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
flag 74918 term 33 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
flag 29520 term 33 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
flag 89990 term 33 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
flag 77837 term 33 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
flag 98735 term 33 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
term 34 server 0 vote for server 1
term 34 server 1 get vote from server 0
term 34 server 1 become leader
------------------------------------------------------
flag 78740 term 33 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
flag 24470 term 33 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
flag 78422 term 34 leader 1 nextIndex[0]: 226  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
flag 19548 term 34 leader 1 nextIndex[2]: 226  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225}]
------------------------------------------------------
client write log 7705364149427185718 (index 226) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60653 term 33 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
flag 84512 term 33 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
flag 54130 term 34 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
flag 85288 term 34 leader 1 nextIndex[2]: 226  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225} {7705364149427185718 34 226}]
------------------------------------------------------
flag 17585 term 33 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
flag 52961 term 33 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
flag 41750 term 34 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 89828 term 34 leader 1 nextIndex[2]: 226  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 226 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225} {7705364149427185718 34 226}]
------------------------------------------------------
client write log 782428877057943861 (index 227) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 226->225
------------------------------------------------------
flag 51577 term 33 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 225 
------------------------------------------------------
term 33 leader 2 nextIndex[1]: 0  matchIndex[1]: 225
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
flag 39462 term 34 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 48048 term 34 leader 1 nextIndex[2]: 226  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 226 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225} {7705364149427185718 34 226} {782428877057943861 34 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 226->225
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 33 leader 2 nextIndex[0]: 0  matchIndex[0]: 225
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 33 leader 2 nextIndex[1]: 0  matchIndex[1]: 225
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
flag 10087 term 34 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 35754 term 34 leader 1 nextIndex[2]: 226  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225} {7705364149427185718 34 226} {782428877057943861 34 227}]
------------------------------------------------------
!!!!!!connect server 2
client write log 9221694464491711721 (index 228) to leader 1
term 33 leader 2 nextIndex[0]: 0  matchIndex[0]: 225
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 33 leader 2 nextIndex[1]: 0  matchIndex[1]: 225
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 34 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80448 term 34 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 30485 term 34 leader 1 nextIndex[2]: 226  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225} {7705364149427185718 34 226} {782428877057943861 34 227} {9221694464491711721 34 228}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225} {7705364149427185718 34 226} {782428877057943861 34 227} {9221694464491711721 34 228}]
------------------------------------------------------
flag 97261 term 34 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
flag 41986 term 34 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 34 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225} {7705364149427185718 34 226} {782428877057943861 34 227} {9221694464491711721 34 228}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225} {7705364149427185718 34 226} {782428877057943861 34 227} {9221694464491711721 34 228}]
------------------------------------------------------
flag 96008 term 34 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
flag 56555 term 34 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 34 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225} {7705364149427185718 34 226} {782428877057943861 34 227} {9221694464491711721 34 228}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225} {7705364149427185718 34 226} {782428877057943861 34 227} {9221694464491711721 34 228}]
------------------------------------------------------
flag 41566 term 34 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
flag 52208 term 34 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 34 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225} {7705364149427185718 34 226} {782428877057943861 34 227} {9221694464491711721 34 228}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225} {7705364149427185718 34 226} {782428877057943861 34 227} {9221694464491711721 34 228}]
------------------------------------------------------
flag 97428 term 34 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
flag 82988 term 34 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 34 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225} {7705364149427185718 34 226} {782428877057943861 34 227} {9221694464491711721 34 228}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225} {7705364149427185718 34 226} {782428877057943861 34 227} {9221694464491711721 34 228}]
------------------------------------------------------
flag 30454 term 34 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
flag 49445 term 34 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 34 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225} {7705364149427185718 34 226} {782428877057943861 34 227} {9221694464491711721 34 228}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225} {7705364149427185718 34 226} {782428877057943861 34 227} {9221694464491711721 34 228}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1226089838334650206 (index 229) to leader 1
flag 55064 term 34 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
flag 66361 term 34 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 34 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 31 219} {8817962951292247906 31 220} {858841308319756580 31 221} {655193825738562902 31 222} {5597067538449272360 31 223} {6280114798233361113 31 224} {6280114798233361113 33 225} {7705364149427185718 34 226} {782428877057943861 34 227} {9221694464491711721 34 228} {1226089838334650206 34 229}]
------------------------------------------------------
term 34 Server1 start snapshot! index=229
term 34 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 229->228
------------------------------------------------------
flag 9282 term 34 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 34 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 0  matchIndex[2]: 228
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 34 229}]
------------------------------------------------------
term 34 Server0 start snapshot! index=229
term 34 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
client write log 1184224342560792434 (index 230) to leader 1
client write log 8998883028853010991 (index 231) to leader 1
client write log 7142647487037349092 (index 232) to leader 1
client write log 6682745087486000287 (index 233) to leader 1
client write log 1525397420199495419 (index 234) to leader 1
client write log 121322472190553894 (index 235) to leader 1
client write log 1491089466189934444 (index 236) to leader 1
client write log 4247265506745217844 (index 237) to leader 1
client write log 4549399567715067143 (index 238) to leader 1
flag 16857 term 34 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 34 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 0  matchIndex[2]: 228
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238}]
------------------------------------------------------
flag 48202 term 34 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 34 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 0  matchIndex[2]: 228
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6465781385309391099 (index 239) to leader 1
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 1 not vote for server 2, 日志不够新
term 34 server 0 not vote for server 2, 日志不够新
term 36 server 2 vote for server 1
term 36 server 0 vote for server 1
term 36 server 1 get vote from server 2
term 36 server 1 become leader
------------------------------------------------------
term 36 server 1 get outdate rpc reply from server 0
flag 91709 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 45166 term 36 leader 1 nextIndex[2]: 240  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 240->239
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 240->239
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12578 term 36 leader 1 nextIndex[0]: 239  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 229  matchIndex[2]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 36 server 2 InstallSnapshot success
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 34 rf.commitIndex 229 rf.lastApplied 229
flag 18163 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 64986 term 36 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 36 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
term 36 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5477 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 94142 term 36 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8658 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 31466 term 36 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94267 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 69730 term 36 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25675 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 94304 term 36 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13723 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 68215 term 36 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99515 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 57468 term 36 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
flag 41799 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 2981 term 36 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60374 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 1217 term 36 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
flag 93673 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 49038 term 36 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
flag 9936 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 32980 term 36 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
flag 47991 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 70618 term 36 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
flag 16130 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 30729 term 36 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
flag 99652 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 25743 term 36 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
flag 28262 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 56727 term 36 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
flag 26783 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 46297 term 36 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
flag 27978 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 57222 term 36 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239}]
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 6465781385309391099 (index 240) to leader 1
flag 86259 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 55449 term 36 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239} {6465781385309391099 36 240}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 34 229} {1184224342560792434 34 230} {8998883028853010991 34 231} {7142647487037349092 34 232} {6682745087486000287 34 233} {1525397420199495419 34 234} {121322472190553894 34 235} {1491089466189934444 34 236} {4247265506745217844 34 237} {4549399567715067143 34 238} {6465781385309391099 34 239} {6465781385309391099 36 240}]
------------------------------------------------------
term 36 Server1 start snapshot! index=239
term 36 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=240
-------------------------------------------------------------
flag 47833 term 36 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 36 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 78150 term 36 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 36 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 34 239} {6465781385309391099 36 240}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 34 239} {6465781385309391099 36 240}]
------------------------------------------------------
term 36 Server2 start snapshot! index=239
term 36 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=240
-------------------------------------------------------------
term 36 Server0 start snapshot! index=239
term 36 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=240
-------------------------------------------------------------
flag 19077 term 36 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 36 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 44680 term 36 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 36 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 34 239} {6465781385309391099 36 240}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 34 239} {6465781385309391099 36 240}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94416 term 36 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 36 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 43010 term 36 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 36 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 34 239} {6465781385309391099 36 240}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 34 239} {6465781385309391099 36 240}]
------------------------------------------------------
flag 73396 term 36 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 36 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 80249 term 36 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 36 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 34 239} {6465781385309391099 36 240}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 34 239} {6465781385309391099 36 240}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45724 term 36 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 36 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 12105 term 36 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 36 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 34 239} {6465781385309391099 36 240}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 34 239} {6465781385309391099 36 240}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3730277000878173600 (index 241) to leader 1
flag 99869 term 36 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 36 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 38648 term 36 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 36 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 34 239} {6465781385309391099 36 240} {3730277000878173600 36 241}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17193 term 36 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 36 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 88394 term 36 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 36 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 34 239} {6465781385309391099 36 240} {3730277000878173600 36 241}]
------------------------------------------------------
client write log 1892096794726271896 (index 242) to leader 1
client write log 8222148552996052750 (index 243) to leader 1
client write log 1167312317881693975 (index 244) to leader 1
client write log 5415570763214857114 (index 245) to leader 1
client write log 6644723573425408397 (index 246) to leader 1
client write log 1265678175951404344 (index 247) to leader 1
client write log 1400995427609377386 (index 248) to leader 1
client write log 6688186382041861338 (index 249) to leader 1
client write log 6304840761260343584 (index 250) to leader 1
flag 38146 term 36 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 36 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 65633 term 36 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 36 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 34 239} {6465781385309391099 36 240} {3730277000878173600 36 241} {1892096794726271896 36 242} {8222148552996052750 36 243} {1167312317881693975 36 244} {5415570763214857114 36 245} {6644723573425408397 36 246} {1265678175951404344 36 247} {1400995427609377386 36 248} {6688186382041861338 36 249} {6304840761260343584 36 250}]
------------------------------------------------------
term 36 Server1 start snapshot! index=249
term 36 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=250
-------------------------------------------------------------
flag 14705 term 36 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 36 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250}]
------------------------------------------------------
term 36 Server0 start snapshot! index=249
term 36 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=250
-------------------------------------------------------------
!!!!!!connect server 2
client write log 9039012972138959413 (index 251) to leader 1
term 36 server 1 not vote for server 2, 日志不够新
term 36 server 0 not vote for server 2, 日志不够新
term 37 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 server 2 vote for server 1
term 38 server 0 vote for server 1
term 38 server 1 get vote from server 0
term 38 server 1 become leader
------------------------------------------------------
term 38 server 1 get outdate rpc reply from server 2
flag 91433 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 54034 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 252->251
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 252->251
------------------------------------------------------
flag 61432 term 38 leader 1 nextIndex[0]: 251  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 241  matchIndex[2]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
term 38 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 36 rf.commitIndex 249 rf.lastApplied 249
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29273 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 39519 term 38 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 38 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
flag 42814 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 880 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
flag 98697 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 22540 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
flag 17165 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 92664 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55165 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 29076 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
flag 47658 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 28423 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
flag 15358 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 51239 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
flag 74387 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 35400 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
flag 56196 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 17932 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
flag 32556 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 68506 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
flag 49896 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 58081 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
flag 58687 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 2979 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
flag 87843 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 74947 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
term 38 server 2 not vote for server 1, 任期不够新
term 38 server 1 get outdate rpc reply from server 2
flag 43494 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 76789 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
flag 8926 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 53492 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87735 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 60283 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
flag 48574 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 88170 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77455 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 15589 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251}]
------------------------------------------------------
client write log 9039012972138959413 (index 252) to leader 1
flag 31275 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 81132 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251} {9039012972138959413 38 252}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251} {9039012972138959413 38 252}]
------------------------------------------------------
flag 44682 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 52494 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251} {9039012972138959413 38 252}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251} {9039012972138959413 38 252}]
------------------------------------------------------
flag 13386 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 39039 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251} {9039012972138959413 38 252}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251} {9039012972138959413 38 252}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84913 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 56394 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251} {9039012972138959413 38 252}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251} {9039012972138959413 38 252}]
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80325 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 45199 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251} {9039012972138959413 38 252}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251} {9039012972138959413 38 252}]
------------------------------------------------------
flag 10831 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 65727 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251} {9039012972138959413 38 252}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251} {9039012972138959413 38 252}]
------------------------------------------------------
flag 3443 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 76308 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251} {9039012972138959413 38 252}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251} {9039012972138959413 38 252}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 53157 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 56098 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 4035 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 46996 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 75323 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 8017 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 39 server 0 vote for server 2
term 39 server 2 get vote from server 0
term 39 server 2 become leader
------------------------------------------------------
client write log 9108692296234086824 (index 253) to leader 2
flag 79445 term 39 leader 2 nextIndex[0]: 253  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 94368 term 39 leader 2 nextIndex[1]: 253  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251} {9039012972138959413 38 252} {9108692296234086824 39 253}]
------------------------------------------------------
flag 47241 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 46472 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 81574 term 39 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 26340 term 39 leader 2 nextIndex[1]: 253  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251} {9039012972138959413 38 252} {9108692296234086824 39 253}]
------------------------------------------------------
client write log 3676473039854709461 (index 254) to leader 2
client write log 3864854303656517337 (index 255) to leader 2
client write log 1633314024161076218 (index 256) to leader 2
client write log 8447172158895175197 (index 257) to leader 2
client write log 5263332627173512036 (index 258) to leader 2
client write log 2283961309219208128 (index 259) to leader 2
client write log 589144005600760163 (index 260) to leader 2
client write log 3721208229529084918 (index 261) to leader 2
client write log 86701464125642186 (index 262) to leader 2
client write log 1616403930661073846 (index 263) to leader 2
client write log 2533905082521148323 (index 264) to leader 2
client write log 4862044836935590514 (index 265) to leader 2
client write log 1122110597237212052 (index 266) to leader 2
client write log 3052755621294165379 (index 267) to leader 2
flag 59658 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 40845 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 56529 term 39 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 98544 term 39 leader 2 nextIndex[1]: 253  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 36 249} {6304840761260343584 36 250} {9039012972138959413 36 251} {9039012972138959413 38 252} {9108692296234086824 39 253} {3676473039854709461 39 254} {3864854303656517337 39 255} {1633314024161076218 39 256} {8447172158895175197 39 257} {5263332627173512036 39 258} {2283961309219208128 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
term 39 Server2 start snapshot! index=259
term 39 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=267
-------------------------------------------------------------
flag 15306 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 16387 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 2767 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 leader 2 nextIndex[1]: 253  matchIndex[1]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
term 39 Server0 start snapshot! index=259
term 39 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=267
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6168171511850473689 (index 253) to leader 1
flag 56551 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 92682 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 39 server 0 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80364 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 leader 2 nextIndex[1]: 253  matchIndex[1]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 1 InstallSnapshot success
------------------------------------------------------
term 39 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 39 rf.commitIndex 259 rf.lastApplied 259
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
flag 9990 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 61422 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
flag 26853 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 19256 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
flag 24680 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 42031 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
flag 64588 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 52538 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28187 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 47060 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
flag 21950 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 78360 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
flag 74840 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 99695 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
term 39 server 1 not vote for server 2, 日志不够新
term 39 server 2 get outdate rpc reply from server 1
flag 1618 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 52902 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
flag 48529 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 2632 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
flag 17746 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 84898 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32527 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 12036 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
flag 85401 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 25786 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
flag 41854 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 69923 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97238 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 12305 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80408 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 30645 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
flag 18241 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 38805 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
flag 21201 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 15983 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
flag 48980 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 99873 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95357 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 46989 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267}]
------------------------------------------------------
client write log 6168171511850473689 (index 268) to leader 2
flag 2382 term 39 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 14465 term 39 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 39 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267} {6168171511850473689 39 268}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267} {6168171511850473689 39 268}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96135 term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
flag 11696 term 39 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267} {6168171511850473689 39 268}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267} {6168171511850473689 39 268}]
------------------------------------------------------
flag 23780 term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
flag 27582 term 39 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267} {6168171511850473689 39 268}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267} {6168171511850473689 39 268}]
------------------------------------------------------
flag 34766 term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
flag 23422 term 39 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267} {6168171511850473689 39 268}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267} {6168171511850473689 39 268}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70813 term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
flag 9711 term 39 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267} {6168171511850473689 39 268}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267} {6168171511850473689 39 268}]
------------------------------------------------------
flag 457 term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
flag 55284 term 39 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267} {6168171511850473689 39 268}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267} {6168171511850473689 39 268}]
------------------------------------------------------
flag 33911 term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
flag 51109 term 39 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267} {6168171511850473689 39 268}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267} {6168171511850473689 39 268}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7858908137753592258 (index 269) to leader 2
flag 97610 term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
flag 82668 term 39 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 39 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 39 259} {589144005600760163 39 260} {3721208229529084918 39 261} {86701464125642186 39 262} {1616403930661073846 39 263} {2533905082521148323 39 264} {4862044836935590514 39 265} {1122110597237212052 39 266} {3052755621294165379 39 267} {6168171511850473689 39 268} {7858908137753592258 39 269}]
------------------------------------------------------
term 39 Server2 start snapshot! index=269
term 39 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
flag 19535 term 39 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 39 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 269 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 39 269}]
------------------------------------------------------
term 39 Server1 start snapshot! index=269
term 39 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
client write log 3408582441370007954 (index 270) to leader 2
client write log 4711250172352370483 (index 271) to leader 2
client write log 5329685281698725232 (index 272) to leader 2
client write log 5334784887285279129 (index 273) to leader 2
client write log 5253562919626279544 (index 274) to leader 2
client write log 7474411394007803284 (index 275) to leader 2
client write log 124833784769625500 (index 276) to leader 2
client write log 8077578114257079061 (index 277) to leader 2
client write log 4767557550162856495 (index 278) to leader 2
client write log 964902511834949608 (index 279) to leader 2
client write log 1194579797166054486 (index 280) to leader 2
client write log 1005688826731607585 (index 281) to leader 2
client write log 8192547360684139874 (index 282) to leader 2
client write log 2002753358157233555 (index 283) to leader 2
term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
flag 92899 term 39 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 39 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 269 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 269} {3408582441370007954 39 270} {4711250172352370483 39 271} {5329685281698725232 39 272} {5334784887285279129 39 273} {5253562919626279544 39 274} {7474411394007803284 39 275} {124833784769625500 39 276} {8077578114257079061 39 277} {4767557550162856495 39 278} {964902511834949608 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283}]
------------------------------------------------------
term 39 Server2 start snapshot! index=279
term 39 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=283
-------------------------------------------------------------
term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 39
------------------------------------------------------
flag 74971 term 39 leader 2 nextIndex[1]: 284  matchIndex[1]: 283
term 39 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 283 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283}]
------------------------------------------------------
term 39 Server1 start snapshot! index=279
term 39 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=283
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7879693809795963703 (index 284) to leader 2
term 39 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 39
------------------------------------------------------
flag 79998 term 39 leader 2 nextIndex[1]: 284  matchIndex[1]: 283
term 39 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 283 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283} {7879693809795963703 39 284}]
------------------------------------------------------
term 40 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 server 1 vote for server 2
term 41 server 0 vote for server 2
term 41 server 2 get vote from server 1
term 41 server 2 become leader
------------------------------------------------------
term 41 server 2 get outdate rpc reply from server 0
flag 44013 term 41 leader 2 nextIndex[0]: 285  matchIndex[0]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 39 leaderCommit: 284 
------------------------------------------------------
flag 25976 term 41 leader 2 nextIndex[1]: 285  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 39 leaderCommit: 284 
------------------------------------------------------
term 41 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283} {7879693809795963703 39 284}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 285->284
------------------------------------------------------
term 41 leader 2 nextIndex[0]: 269  matchIndex[0]: 0
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 39
------------------------------------------------------
flag 22146 term 41 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 41 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 39 leaderCommit: 284 
------------------------------------------------------
term 41 server 0 InstallSnapshot success
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 39 rf.commitIndex 279 rf.lastApplied 279
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283} {7879693809795963703 39 284}]
------------------------------------------------------
flag 67561 term 41 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 41 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 284 
------------------------------------------------------
flag 52062 term 41 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 41 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 39 leaderCommit: 284 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283} {7879693809795963703 39 284}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283} {7879693809795963703 39 284}]
------------------------------------------------------
flag 85276 term 41 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 41 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 39 leaderCommit: 284 
------------------------------------------------------
flag 65250 term 41 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 41 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 39 leaderCommit: 284 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283} {7879693809795963703 39 284}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283} {7879693809795963703 39 284}]
------------------------------------------------------
flag 56768 term 41 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 41 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 39 leaderCommit: 284 
------------------------------------------------------
flag 62856 term 41 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 41 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 39 leaderCommit: 284 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283} {7879693809795963703 39 284}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283} {7879693809795963703 39 284}]
------------------------------------------------------
flag 11034 term 41 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 41 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 39 leaderCommit: 284 
------------------------------------------------------
flag 81938 term 41 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 41 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 39 leaderCommit: 284 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283} {7879693809795963703 39 284}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283} {7879693809795963703 39 284}]
------------------------------------------------------
flag 49504 term 41 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 41 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 39 leaderCommit: 284 
------------------------------------------------------
flag 31025 term 41 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 41 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 39 leaderCommit: 284 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:284 
leader 2 sendAppendEntries -> server 0 true------------------------------------------------------
update nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283} {7879693809795963703 39 284}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283} {7879693809795963703 39 284}]
------------------------------------------------------
term 41 server 1 not vote for server 0, 任期不够新
term 41 server 0 get outdate rpc reply from server 1
flag 50199 term 41 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 41 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 39 leaderCommit: 284 
------------------------------------------------------
flag 90665 term 41 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 41 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 39 leaderCommit: 284 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283} {7879693809795963703 39 284}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283} {7879693809795963703 39 284}]
------------------------------------------------------
flag 1161 term 41 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 41 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 39 leaderCommit: 284 
------------------------------------------------------
flag 77005 term 41 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 41 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 39 leaderCommit: 284 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283} {7879693809795963703 39 284}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283} {7879693809795963703 39 284}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 446425197739362621 (index 285) to leader 2
flag 60282 term 41 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 41 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 39 leaderCommit: 284 
------------------------------------------------------
flag 34448 term 41 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 41 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 39 leaderCommit: 284 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283} {7879693809795963703 39 284} {446425197739362621 41 285}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77173 term 41 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 41 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 39 leaderCommit: 285 
------------------------------------------------------
flag 66246 term 41 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 41 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 41 leaderCommit: 285 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283} {7879693809795963703 39 284} {446425197739362621 41 285}]
------------------------------------------------------
client write log 1499473533209263321 (index 286) to leader 2
client write log 6303571605506548453 (index 287) to leader 2
client write log 7505886075787129182 (index 288) to leader 2
client write log 4618399790737293657 (index 289) to leader 2
client write log 5795662803176112374 (index 290) to leader 2
client write log 7030389836178470410 (index 291) to leader 2
client write log 7499845032234716768 (index 292) to leader 2
client write log 3539501667565692214 (index 293) to leader 2
client write log 4974848608277643815 (index 294) to leader 2
client write log 6654292471729205475 (index 295) to leader 2
client write log 6995838747711258970 (index 296) to leader 2
client write log 5364074560935627679 (index 297) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34680 term 41 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 41 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 39 leaderCommit: 285 
------------------------------------------------------
flag 12172 term 41 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 41 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 41 leaderCommit: 285 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 39 279} {1194579797166054486 39 280} {1005688826731607585 39 281} {8192547360684139874 39 282} {2002753358157233555 39 283} {7879693809795963703 39 284} {446425197739362621 41 285} {1499473533209263321 41 286} {6303571605506548453 41 287} {7505886075787129182 41 288} {4618399790737293657 41 289} {5795662803176112374 41 290} {7030389836178470410 41 291} {7499845032234716768 41 292} {3539501667565692214 41 293} {4974848608277643815 41 294} {6654292471729205475 41 295} {6995838747711258970 41 296} {5364074560935627679 41 297}]
------------------------------------------------------
term 41 Server2 start snapshot! index=289
term 41 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=297
-------------------------------------------------------------
term 41 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 61930 term 41 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 41 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 297 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {5795662803176112374 41 290} {7030389836178470410 41 291} {7499845032234716768 41 292} {3539501667565692214 41 293} {4974848608277643815 41 294} {6654292471729205475 41 295} {6995838747711258970 41 296} {5364074560935627679 41 297}]
------------------------------------------------------
term 41 Server1 start snapshot! index=289
term 41 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=297
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 0
client write log 4755593658381497112 (index 298) to leader 2
term 41 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 75647 term 41 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 41 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 41 leaderCommit: 297 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 42 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {5795662803176112374 41 290} {7030389836178470410 41 291} {7499845032234716768 41 292} {3539501667565692214 41 293} {4974848608277643815 41 294} {6654292471729205475 41 295} {6995838747711258970 41 296} {5364074560935627679 41 297} {4755593658381497112 41 298}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 1 vote for server 2
term 43 server 2 get vote from server 1
term 43 server 2 become leader
------------------------------------------------------
term 43 server 0 vote for server 2
term 43 server 2 get outdate rpc reply from server 0
flag 84334 term 43 leader 2 nextIndex[0]: 299  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
flag 2077 term 43 leader 2 nextIndex[1]: 299  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 299->298
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {5795662803176112374 41 290} {7030389836178470410 41 291} {7499845032234716768 41 292} {3539501667565692214 41 293} {4974848608277643815 41 294} {6654292471729205475 41 295} {6995838747711258970 41 296} {5364074560935627679 41 297} {4755593658381497112 41 298}]
------------------------------------------------------
term 43 leader 2 nextIndex[0]: 285  matchIndex[0]: 0
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 45837 term 43 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
term 43 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 41 rf.commitIndex 289 rf.lastApplied 289
term 43 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {5795662803176112374 41 290} {7030389836178470410 41 291} {7499845032234716768 41 292} {3539501667565692214 41 293} {4974848608277643815 41 294} {6654292471729205475 41 295} {6995838747711258970 41 296} {5364074560935627679 41 297} {4755593658381497112 41 298}]
------------------------------------------------------
term 43 server 1 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 1
flag 44722 term 43 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
flag 6715 term 43 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {5795662803176112374 41 290} {7030389836178470410 41 291} {7499845032234716768 41 292} {3539501667565692214 41 293} {4974848608277643815 41 294} {6654292471729205475 41 295} {6995838747711258970 41 296} {5364074560935627679 41 297} {4755593658381497112 41 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {5795662803176112374 41 290} {7030389836178470410 41 291} {7499845032234716768 41 292} {3539501667565692214 41 293} {4974848608277643815 41 294} {6654292471729205475 41 295} {6995838747711258970 41 296} {5364074560935627679 41 297} {4755593658381497112 41 298}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52471 term 43 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
flag 22348 term 43 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {5795662803176112374 41 290} {7030389836178470410 41 291} {7499845032234716768 41 292} {3539501667565692214 41 293} {4974848608277643815 41 294} {6654292471729205475 41 295} {6995838747711258970 41 296} {5364074560935627679 41 297} {4755593658381497112 41 298}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {5795662803176112374 41 290} {7030389836178470410 41 291} {7499845032234716768 41 292} {3539501667565692214 41 293} {4974848608277643815 41 294} {6654292471729205475 41 295} {6995838747711258970 41 296} {5364074560935627679 41 297} {4755593658381497112 41 298}]
------------------------------------------------------
flag 87754 term 43 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
flag 40249 term 43 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {5795662803176112374 41 290} {7030389836178470410 41 291} {7499845032234716768 41 292} {3539501667565692214 41 293} {4974848608277643815 41 294} {6654292471729205475 41 295} {6995838747711258970 41 296} {5364074560935627679 41 297} {4755593658381497112 41 298}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {5795662803176112374 41 290} {7030389836178470410 41 291} {7499845032234716768 41 292} {3539501667565692214 41 293} {4974848608277643815 41 294} {6654292471729205475 41 295} {6995838747711258970 41 296} {5364074560935627679 41 297} {4755593658381497112 41 298}]
------------------------------------------------------
flag 17363 term 43 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
flag 369 term 43 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {5795662803176112374 41 290} {7030389836178470410 41 291} {7499845032234716768 41 292} {3539501667565692214 41 293} {4974848608277643815 41 294} {6654292471729205475 41 295} {6995838747711258970 41 296} {5364074560935627679 41 297} {4755593658381497112 41 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {5795662803176112374 41 290} {7030389836178470410 41 291} {7499845032234716768 41 292} {3539501667565692214 41 293} {4974848608277643815 41 294} {6654292471729205475 41 295} {6995838747711258970 41 296} {5364074560935627679 41 297} {4755593658381497112 41 298}]
------------------------------------------------------
flag 38511 term 43 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
flag 91344 term 43 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {5795662803176112374 41 290} {7030389836178470410 41 291} {7499845032234716768 41 292} {3539501667565692214 41 293} {4974848608277643815 41 294} {6654292471729205475 41 295} {6995838747711258970 41 296} {5364074560935627679 41 297} {4755593658381497112 41 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {5795662803176112374 41 290} {7030389836178470410 41 291} {7499845032234716768 41 292} {3539501667565692214 41 293} {4974848608277643815 41 294} {6654292471729205475 41 295} {6995838747711258970 41 296} {5364074560935627679 41 297} {4755593658381497112 41 298}]
------------------------------------------------------
flag 64430 term 43 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
flag 3086 term 43 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {5795662803176112374 41 290} {7030389836178470410 41 291} {7499845032234716768 41 292} {3539501667565692214 41 293} {4974848608277643815 41 294} {6654292471729205475 41 295} {6995838747711258970 41 296} {5364074560935627679 41 297} {4755593658381497112 41 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {5795662803176112374 41 290} {7030389836178470410 41 291} {7499845032234716768 41 292} {3539501667565692214 41 293} {4974848608277643815 41 294} {6654292471729205475 41 295} {6995838747711258970 41 296} {5364074560935627679 41 297} {4755593658381497112 41 298}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58455 term 43 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
flag 6505 term 43 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {5795662803176112374 41 290} {7030389836178470410 41 291} {7499845032234716768 41 292} {3539501667565692214 41 293} {4974848608277643815 41 294} {6654292471729205475 41 295} {6995838747711258970 41 296} {5364074560935627679 41 297} {4755593658381497112 41 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {5795662803176112374 41 290} {7030389836178470410 41 291} {7499845032234716768 41 292} {3539501667565692214 41 293} {4974848608277643815 41 294} {6654292471729205475 41 295} {6995838747711258970 41 296} {5364074560935627679 41 297} {4755593658381497112 41 298}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 40106 term 43 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
flag 71331 term 43 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53791 term 43 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
flag 40531 term 43 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12395 term 43 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
flag 23519 term 43 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 299->298
------------------------------------------------------
term 43 leader 2 nextIndex[0]: 0  matchIndex[0]: 298
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 55327 term 43 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
term 44 server 1 vote for server 0
term 44 server 0 get vote from server 1
term 44 server 0 become leader
------------------------------------------------------
flag 14344 term 44 leader 0 nextIndex[1]: 299  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
flag 20300 term 44 leader 0 nextIndex[2]: 299  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {5795662803176112374 41 290} {7030389836178470410 41 291} {7499845032234716768 41 292} {3539501667565692214 41 293} {4974848608277643815 41 294} {6654292471729205475 41 295} {6995838747711258970 41 296} {5364074560935627679 41 297} {4755593658381497112 41 298}]
------------------------------------------------------
client write log 3051078048931101292 (index 299) to leader 0
term 43 leader 2 nextIndex[0]: 0  matchIndex[0]: 298
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 97683 term 43 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
flag 74321 term 44 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 44 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
flag 90901 term 44 leader 0 nextIndex[2]: 299  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 41 289} {5795662803176112374 41 290} {7030389836178470410 41 291} {7499845032234716768 41 292} {3539501667565692214 41 293} {4974848608277643815 41 294} {6654292471729205475 41 295} {6995838747711258970 41 296} {5364074560935627679 41 297} {4755593658381497112 41 298} {3051078048931101292 44 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 44 Server0 start snapshot! index=299
term 44 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
term 43 leader 2 nextIndex[0]: 0  matchIndex[0]: 298
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 51313 term 43 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
flag 75659 term 44 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 44 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 44 leaderCommit: 299 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 299  matchIndex[2]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 44 299}]
------------------------------------------------------
client write log 5595450665944821652 (index 300) to leader 0
client write log 5804675462303556474 (index 301) to leader 0
client write log 727291838206442505 (index 302) to leader 0
client write log 3562474919076156903 (index 303) to leader 0
client write log 2666023055899332371 (index 304) to leader 0
client write log 6129425096320316080 (index 305) to leader 0
client write log 83795519486430104 (index 306) to leader 0
client write log 4086793973017791872 (index 307) to leader 0
client write log 3254604060606177222 (index 308) to leader 0
client write log 4614718585448641009 (index 309) to leader 0
client write log 6031589038891922285 (index 310) to leader 0
client write log 5757407211364803643 (index 311) to leader 0
client write log 2863669498020095582 (index 312) to leader 0
client write log 3704429359435966491 (index 313) to leader 0
term 44 Server1 start snapshot! index=299
term 44 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
client write log 7905358251344939899 (index 314) to leader 0
term 43 leader 2 nextIndex[0]: 0  matchIndex[0]: 298
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 93703 term 43 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
flag 39714 term 44 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 44 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 44 leaderCommit: 299 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 299  matchIndex[2]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 299} {5595450665944821652 44 300} {5804675462303556474 44 301} {727291838206442505 44 302} {3562474919076156903 44 303} {2666023055899332371 44 304} {6129425096320316080 44 305} {83795519486430104 44 306} {4086793973017791872 44 307} {3254604060606177222 44 308} {4614718585448641009 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
term 44 Server0 start snapshot! index=309
term 44 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=314
-------------------------------------------------------------
term 43 leader 2 nextIndex[0]: 0  matchIndex[0]: 298
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 97477 term 43 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
flag 97513 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 299  matchIndex[2]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
term 44 Server1 start snapshot! index=309
term 44 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=314
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3961058011595572984 (index 299) to leader 2
term 43 leader 2 nextIndex[0]: 0  matchIndex[0]: 298
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 79544 term 43 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 43 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 41 leaderCommit: 298 
------------------------------------------------------
term 44 server 1 AppendEntries false 领导者任期过期 args.Term 43
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 44 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95100 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 299  matchIndex[2]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 2 InstallSnapshot success
------------------------------------------------------
term 44 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 44 rf.commitIndex 309 rf.lastApplied 309
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
flag 73321 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
flag 84562 term 44 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 44 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83320 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
flag 64744 term 44 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
flag 74712 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
flag 37173 term 44 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86457 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
flag 19886 term 44 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
flag 95022 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
flag 76572 term 44 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
flag 68313 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
flag 97221 term 44 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
flag 12927 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
flag 6356 term 44 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67773 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
flag 12858 term 44 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
flag 29115 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
flag 94870 term 44 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44696 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
flag 87013 term 44 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6710 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
flag 37865 term 44 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87193 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
flag 90628 term 44 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
flag 7570 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
flag 18068 term 44 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
flag 42958 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
flag 50059 term 44 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74296 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
flag 97972 term 44 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
flag 3976 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
flag 52322 term 44 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
term 44 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98486 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
flag 54279 term 44 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 44 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49484 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
flag 62431 term 44 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
flag 59547 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
flag 50721 term 44 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314}]
------------------------------------------------------
client write log 3961058011595572984 (index 315) to leader 0
flag 8179 term 44 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
flag 35426 term 44 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 44 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 44 leaderCommit: 314 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314} {3961058011595572984 44 315}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314} {3961058011595572984 44 315}]
------------------------------------------------------
term 44 server 2 not vote for server 0, 日志不够新
term 44 server 0 get outdate rpc reply from server 2
flag 38624 term 44 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 44 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 74487 term 44 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 44 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314} {3961058011595572984 44 315}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314} {3961058011595572984 44 315}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4595 term 44 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 44 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 13620 term 44 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 44 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314} {3961058011595572984 44 315}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314} {3961058011595572984 44 315}]
------------------------------------------------------
flag 67726 term 44 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 44 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 68392 term 44 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 44 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314} {3961058011595572984 44 315}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314} {3961058011595572984 44 315}]
------------------------------------------------------
flag 81258 term 44 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 44 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 83862 term 44 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 44 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314} {3961058011595572984 44 315}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314} {3961058011595572984 44 315}]
------------------------------------------------------
flag 18843 term 44 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 44 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 80760 term 44 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 44 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314} {3961058011595572984 44 315}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314} {3961058011595572984 44 315}]
------------------------------------------------------
flag 98653 term 44 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 44 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 12195 term 44 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 44 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314} {3961058011595572984 44 315}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314} {3961058011595572984 44 315}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1117015044081275468 (index 316) to leader 0
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4194 term 44 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 44 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
flag 21177 term 44 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 44 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 44 leaderCommit: 315 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314} {3961058011595572984 44 315} {1117015044081275468 44 316}]
------------------------------------------------------
flag 32328 term 44 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 44 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 6596 term 44 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 44 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314} {3961058011595572984 44 315} {1117015044081275468 44 316}]
------------------------------------------------------
term 44 server 2 not vote for server 0, 任期不够新
term 44 server 0 get outdate rpc reply from server 2
client write log 2643078736973053402 (index 317) to leader 0
client write log 5856784525544606005 (index 318) to leader 0
client write log 9108475265203722398 (index 319) to leader 0
client write log 8191712680567198505 (index 320) to leader 0
client write log 1563835430737803429 (index 321) to leader 0
client write log 1120346950944661401 (index 322) to leader 0
client write log 6456045267889545944 (index 323) to leader 0
client write log 5729442217007361694 (index 324) to leader 0
client write log 4850858384709198212 (index 325) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12470 term 44 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 44 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 15470 term 44 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 44 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 44 309} {6031589038891922285 44 310} {5757407211364803643 44 311} {2863669498020095582 44 312} {3704429359435966491 44 313} {7905358251344939899 44 314} {3961058011595572984 44 315} {1117015044081275468 44 316} {2643078736973053402 44 317} {5856784525544606005 44 318} {9108475265203722398 44 319} {8191712680567198505 44 320} {1563835430737803429 44 321} {1120346950944661401 44 322} {6456045267889545944 44 323} {5729442217007361694 44 324} {4850858384709198212 44 325}]
------------------------------------------------------
term 44 Server0 start snapshot! index=319
term 44 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=325
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 326->325
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 44
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 0  matchIndex[2]: 325
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 2 InstallSnapshot success
------------------------------------------------------
term 44 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 44 rf.commitIndex 319 rf.lastApplied 319
term 44 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 44
------------------------------------------------------
flag 43907 term 44 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 44 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 325 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 44 319} {8191712680567198505 44 320} {1563835430737803429 44 321} {1120346950944661401 44 322} {6456045267889545944 44 323} {5729442217007361694 44 324} {4850858384709198212 44 325}]
------------------------------------------------------
!!!!!!connect server 1
client write log 8563375800204962396 (index 326) to leader 0
term 44 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 44
------------------------------------------------------
flag 52543 term 44 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 44 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 44 leaderCommit: 325 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 44 319} {8191712680567198505 44 320} {1563835430737803429 44 321} {1120346950944661401 44 322} {6456045267889545944 44 323} {5729442217007361694 44 324} {4850858384709198212 44 325} {8563375800204962396 44 326}]
------------------------------------------------------
term 45 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 2 vote for server 0
term 46 server 1 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
term 46 server 0 get outdate rpc reply from server 1
flag 28644 term 46 leader 0 nextIndex[1]: 327  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 44 leaderCommit: 326 
------------------------------------------------------
flag 45061 term 46 leader 0 nextIndex[2]: 327  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 44 leaderCommit: 326 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 44 319} {8191712680567198505 44 320} {1563835430737803429 44 321} {1120346950944661401 44 322} {6456045267889545944 44 323} {5729442217007361694 44 324} {4850858384709198212 44 325} {8563375800204962396 44 326}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 327->326
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 316  matchIndex[1]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 44
------------------------------------------------------
flag 21901 term 46 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 46 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 44 leaderCommit: 326 
------------------------------------------------------
term 46 server 1 InstallSnapshot success
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 44 rf.commitIndex 319 rf.lastApplied 319
term 46 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 44 319} {8191712680567198505 44 320} {1563835430737803429 44 321} {1120346950944661401 44 322} {6456045267889545944 44 323} {5729442217007361694 44 324} {4850858384709198212 44 325} {8563375800204962396 44 326}]
------------------------------------------------------
flag 54680 term 46 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 46 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 326 
------------------------------------------------------
flag 71529 term 46 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 46 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 44 leaderCommit: 326 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 44 319} {8191712680567198505 44 320} {1563835430737803429 44 321} {1120346950944661401 44 322} {6456045267889545944 44 323} {5729442217007361694 44 324} {4850858384709198212 44 325} {8563375800204962396 44 326}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 44 319} {8191712680567198505 44 320} {1563835430737803429 44 321} {1120346950944661401 44 322} {6456045267889545944 44 323} {5729442217007361694 44 324} {4850858384709198212 44 325} {8563375800204962396 44 326}]
------------------------------------------------------
flag 63643 term 46 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 46 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 44 leaderCommit: 326 
------------------------------------------------------
flag 42265 term 46 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 46 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 44 leaderCommit: 326 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 44 319} {8191712680567198505 44 320} {1563835430737803429 44 321} {1120346950944661401 44 322} {6456045267889545944 44 323} {5729442217007361694 44 324} {4850858384709198212 44 325} {8563375800204962396 44 326}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 44 319} {8191712680567198505 44 320} {1563835430737803429 44 321} {1120346950944661401 44 322} {6456045267889545944 44 323} {5729442217007361694 44 324} {4850858384709198212 44 325} {8563375800204962396 44 326}]
------------------------------------------------------
term 46 server 2 not vote for server 0, 任期不够新
term 46 server 0 get outdate rpc reply from server 2
flag 80887 term 46 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 46 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 44 leaderCommit: 326 
------------------------------------------------------
flag 59313 term 46 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 46 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 44 leaderCommit: 326 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 44 319} {8191712680567198505 44 320} {1563835430737803429 44 321} {1120346950944661401 44 322} {6456045267889545944 44 323} {5729442217007361694 44 324} {4850858384709198212 44 325} {8563375800204962396 44 326}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 44 319} {8191712680567198505 44 320} {1563835430737803429 44 321} {1120346950944661401 44 322} {6456045267889545944 44 323} {5729442217007361694 44 324} {4850858384709198212 44 325} {8563375800204962396 44 326}]
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71210 term 46 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 46 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 44 leaderCommit: 326 
------------------------------------------------------
flag 21924 term 46 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 46 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 44 leaderCommit: 326 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 44 319} {8191712680567198505 44 320} {1563835430737803429 44 321} {1120346950944661401 44 322} {6456045267889545944 44 323} {5729442217007361694 44 324} {4850858384709198212 44 325} {8563375800204962396 44 326}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 44 319} {8191712680567198505 44 320} {1563835430737803429 44 321} {1120346950944661401 44 322} {6456045267889545944 44 323} {5729442217007361694 44 324} {4850858384709198212 44 325} {8563375800204962396 44 326}]
------------------------------------------------------
term 46 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48454 term 46 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 46 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 44 leaderCommit: 326 
------------------------------------------------------
flag 85031 term 46 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 46 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 44 leaderCommit: 326 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 44 319} {8191712680567198505 44 320} {1563835430737803429 44 321} {1120346950944661401 44 322} {6456045267889545944 44 323} {5729442217007361694 44 324} {4850858384709198212 44 325} {8563375800204962396 44 326}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 44 319} {8191712680567198505 44 320} {1563835430737803429 44 321} {1120346950944661401 44 322} {6456045267889545944 44 323} {5729442217007361694 44 324} {4850858384709198212 44 325} {8563375800204962396 44 326}]
------------------------------------------------------
flag 16473 term 46 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 46 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 44 leaderCommit: 326 
------------------------------------------------------
flag 6273 term 46 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 46 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 44 leaderCommit: 326 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 44 319} {8191712680567198505 44 320} {1563835430737803429 44 321} {1120346950944661401 44 322} {6456045267889545944 44 323} {5729442217007361694 44 324} {4850858384709198212 44 325} {8563375800204962396 44 326}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 44 319} {8191712680567198505 44 320} {1563835430737803429 44 321} {1120346950944661401 44 322} {6456045267889545944 44 323} {5729442217007361694 44 324} {4850858384709198212 44 325} {8563375800204962396 44 326}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3494357200492285680 (index 327) to leader 0
flag 89147 term 46 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 46 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 44 leaderCommit: 326 
------------------------------------------------------
flag 37864 term 46 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 46 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 44 leaderCommit: 326 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 44 319} {8191712680567198505 44 320} {1563835430737803429 44 321} {1120346950944661401 44 322} {6456045267889545944 44 323} {5729442217007361694 44 324} {4850858384709198212 44 325} {8563375800204962396 44 326} {3494357200492285680 46 327}]
------------------------------------------------------
flag 64570 term 46 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 46 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 44 leaderCommit: 327 
------------------------------------------------------
flag 5964 term 46 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 46 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 44 319} {8191712680567198505 44 320} {1563835430737803429 44 321} {1120346950944661401 44 322} {6456045267889545944 44 323} {5729442217007361694 44 324} {4850858384709198212 44 325} {8563375800204962396 44 326} {3494357200492285680 46 327}]
------------------------------------------------------
client write log 31648409275300311 (index 328) to leader 0
client write log 3363779609869634488 (index 329) to leader 0
client write log 7333179285379878925 (index 330) to leader 0
client write log 5427688864098466940 (index 331) to leader 0
client write log 3586324437379080597 (index 332) to leader 0
client write log 6556086940533276954 (index 333) to leader 0
client write log 5583646022349169233 (index 334) to leader 0
client write log 6617985146265885575 (index 335) to leader 0
client write log 6957327772359884814 (index 336) to leader 0
client write log 1158733907677559909 (index 337) to leader 0
client write log 4410744798239087 (index 338) to leader 0
client write log 7676599581121502555 (index 339) to leader 0
client write log 5598106142971191396 (index 340) to leader 0
flag 66556 term 46 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 46 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 44 leaderCommit: 327 
------------------------------------------------------
flag 29370 term 46 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 46 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 44 319} {8191712680567198505 44 320} {1563835430737803429 44 321} {1120346950944661401 44 322} {6456045267889545944 44 323} {5729442217007361694 44 324} {4850858384709198212 44 325} {8563375800204962396 44 326} {3494357200492285680 46 327} {31648409275300311 46 328} {3363779609869634488 46 329} {7333179285379878925 46 330} {5427688864098466940 46 331} {3586324437379080597 46 332} {6556086940533276954 46 333} {5583646022349169233 46 334} {6617985146265885575 46 335} {6957327772359884814 46 336} {1158733907677559909 46 337} {4410744798239087 46 338} {7676599581121502555 46 339} {5598106142971191396 46 340}]
------------------------------------------------------
term 46 Server0 start snapshot! index=329
term 46 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=340
-------------------------------------------------------------
term 46 Server0 start snapshot! index=339
term 46 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=340
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 46
------------------------------------------------------
flag 38412 term 46 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 46 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340}]
------------------------------------------------------
term 46 Server2 start snapshot! index=329
term 46 server2 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=340
-------------------------------------------------------------
term 46 Server2 start snapshot! index=339
term 46 server2 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=340
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4781724851251173755 (index 341) to leader 0
term 46 server 2 not vote for server 1, 日志不够新
term 46 server 0 not vote for server 1, 日志不够新
term 48 server 2 vote for server 0
term 48 server 1 vote for server 0
term 48 server 0 get vote from server 1
term 48 server 0 become leader
------------------------------------------------------
term 48 server 0 get outdate rpc reply from server 2
flag 72869 term 48 leader 0 nextIndex[1]: 342  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
flag 45073 term 48 leader 0 nextIndex[2]: 342  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 342->341
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 342->341
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 327  matchIndex[1]: 0
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 46
------------------------------------------------------
flag 87588 term 48 leader 0 nextIndex[2]: 341  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 48 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 46 rf.commitIndex 339 rf.lastApplied 339
term 48 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
flag 31988 term 48 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 48 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
flag 50702 term 48 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
term 48 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42809 term 48 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
flag 88405 term 48 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
flag 19326 term 48 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
flag 70556 term 48 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30385 term 48 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
flag 44534 term 48 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
flag 98526 term 48 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
flag 91482 term 48 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64528 term 48 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
flag 2428 term 48 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
flag 92957 term 48 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
flag 72052 term 48 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36111 term 48 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
flag 53565 term 48 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
flag 22934 term 48 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
flag 15916 term 48 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66392 term 48 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
flag 66765 term 48 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
flag 35567 term 48 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
flag 81554 term 48 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24398 term 48 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
flag 22001 term 48 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
flag 96410 term 48 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
flag 46858 term 48 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
flag 73524 term 48 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
flag 61231 term 48 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
flag 36074 term 48 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
flag 88143 term 48 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
flag 4980 term 48 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
flag 949 term 48 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2439 term 48 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
flag 78504 term 48 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341}]
------------------------------------------------------
client write log 4781724851251173755 (index 342) to leader 0
flag 31264 term 48 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
flag 29856 term 48 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 48 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 46 leaderCommit: 340 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341} {4781724851251173755 48 342}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341} {4781724851251173755 48 342}]
------------------------------------------------------
flag 23753 term 48 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
flag 46228 term 48 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341} {4781724851251173755 48 342}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341} {4781724851251173755 48 342}]
------------------------------------------------------
term 48 server 2 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 2
flag 19777 term 48 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
flag 59653 term 48 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341} {4781724851251173755 48 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341} {4781724851251173755 48 342}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38254 term 48 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
flag 52291 term 48 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341} {4781724851251173755 48 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341} {4781724851251173755 48 342}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70945 term 48 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
flag 72826 term 48 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341} {4781724851251173755 48 342}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341} {4781724851251173755 48 342}]
------------------------------------------------------
flag 57398 term 48 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
flag 32127 term 48 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341} {4781724851251173755 48 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341} {4781724851251173755 48 342}]
------------------------------------------------------
flag 33173 term 48 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
flag 16196 term 48 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341} {4781724851251173755 48 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341} {4781724851251173755 48 342}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
flag 37104 term 48 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
flag 15874 term 48 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
flag 35114 term 48 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
flag 76854 term 48 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
flag 7341 term 48 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
flag 57451 term 48 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
term 49 server 2 vote for server 1
term 49 server 1 get vote from server 2
term 49 server 1 become leader
------------------------------------------------------
flag 54822 term 48 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
flag 12632 term 48 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
flag 17177 term 49 leader 1 nextIndex[0]: 343  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
flag 16137 term 49 leader 1 nextIndex[2]: 343  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341} {4781724851251173755 48 342}]
------------------------------------------------------
client write log 1424117548525052083 (index 343) to leader 1
flag 9937 term 48 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
flag 93663 term 48 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
flag 63184 term 49 leader 1 nextIndex[0]: 343  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
flag 89117 term 49 leader 1 nextIndex[2]: 343  matchIndex[2]: 342
term 49 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341} {4781724851251173755 48 342} {1424117548525052083 49 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 343->342
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 0  matchIndex[1]: 342
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 46
------------------------------------------------------
flag 98302 term 48 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
flag 85315 term 49 leader 1 nextIndex[0]: 343  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 343 
------------------------------------------------------
flag 3111 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341} {4781724851251173755 48 342} {1424117548525052083 49 343}]
------------------------------------------------------
client write log 6156815051155272802 (index 344) to leader 1
client write log 1555059685253826277 (index 345) to leader 1
client write log 3149955284386087157 (index 346) to leader 1
client write log 1870629281670168001 (index 347) to leader 1
client write log 396502460588445118 (index 348) to leader 1
client write log 3273007703390994187 (index 349) to leader 1
client write log 7097542703297242060 (index 350) to leader 1
client write log 3588515206583281586 (index 351) to leader 1
client write log 5868114869466284100 (index 352) to leader 1
term 48 leader 0 nextIndex[1]: 0  matchIndex[1]: 342
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 46
------------------------------------------------------
flag 15467 term 48 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
flag 82858 term 49 leader 1 nextIndex[0]: 343  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 343 
------------------------------------------------------
flag 65629 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=352
leader log:
[{snapshot 46 339} {5598106142971191396 46 340} {4781724851251173755 46 341} {4781724851251173755 48 342} {1424117548525052083 49 343} {6156815051155272802 49 344} {1555059685253826277 49 345} {3149955284386087157 49 346} {1870629281670168001 49 347} {396502460588445118 49 348} {3273007703390994187 49 349} {7097542703297242060 49 350} {3588515206583281586 49 351} {5868114869466284100 49 352}]
------------------------------------------------------
term 49 Server1 start snapshot! index=349
term 49 server1 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=352
-------------------------------------------------------------
term 48 leader 0 nextIndex[1]: 0  matchIndex[1]: 342
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 46
------------------------------------------------------
flag 95558 term 48 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
term 49 leader 1 nextIndex[0]: 343  matchIndex[0]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 49
------------------------------------------------------
flag 76568 term 49 leader 1 nextIndex[2]: 353  matchIndex[2]: 352
term 49 leader 1 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 49 leaderCommit: 352 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=352
leader log:
[{snapshot 49 349} {7097542703297242060 49 350} {3588515206583281586 49 351} {5868114869466284100 49 352}]
------------------------------------------------------
term 49 Server2 start snapshot! index=349
term 49 server2 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=352
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6761052432577275088 (index 353) to leader 1
term 48 leader 0 nextIndex[1]: 0  matchIndex[1]: 342
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 46
------------------------------------------------------
flag 58282 term 48 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 48 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
term 49 server 2 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
term 49 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 1 nextIndex[0]: 343  matchIndex[0]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 49
------------------------------------------------------
flag 46961 term 49 leader 1 nextIndex[2]: 353  matchIndex[2]: 352
term 49 leader 1 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 49 leaderCommit: 352 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
term 49 server 0 InstallSnapshot success
[{snapshot 49 349} {7097542703297242060 49 350} {3588515206583281586 49 351} {5868114869466284100 49 352} {6761052432577275088 49 353}]
------------------------------------------------------
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 49 rf.commitIndex 349 rf.lastApplied 349
term 49 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 350 matchIndex[0] 349 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 server 0 not vote for server 1, 日志不够新
term 49 server 1 get outdate rpc reply from server 0
term 49 server 2 not vote for server 0, 日志不够新
term 49 server 1 not vote for server 0, 日志不够新
term 51 server 2 vote for server 1
term 51 server 0 vote for server 1
term 51 server 1 get vote from server 2
term 51 server 1 become leader
------------------------------------------------------
term 51 server 1 get outdate rpc reply from server 0
flag 23870 term 51 leader 1 nextIndex[0]: 354  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
flag 61951 term 51 leader 1 nextIndex[2]: 354  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 354->353
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {7097542703297242060 49 350} {3588515206583281586 49 351} {5868114869466284100 49 352} {6761052432577275088 49 353}]
------------------------------------------------------
flag 78033 term 51 leader 1 nextIndex[0]: 350  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
flag 86527 term 51 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {7097542703297242060 49 350} {3588515206583281586 49 351} {5868114869466284100 49 352} {6761052432577275088 49 353}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {7097542703297242060 49 350} {3588515206583281586 49 351} {5868114869466284100 49 352} {6761052432577275088 49 353}]
------------------------------------------------------
flag 66893 term 51 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 51 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
flag 49232 term 51 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {7097542703297242060 49 350} {3588515206583281586 49 351} {5868114869466284100 49 352} {6761052432577275088 49 353}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {7097542703297242060 49 350} {3588515206583281586 49 351} {5868114869466284100 49 352} {6761052432577275088 49 353}]
------------------------------------------------------
flag 30054 term 51 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 51 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
flag 64179 term 51 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {7097542703297242060 49 350} {3588515206583281586 49 351} {5868114869466284100 49 352} {6761052432577275088 49 353}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {7097542703297242060 49 350} {3588515206583281586 49 351} {5868114869466284100 49 352} {6761052432577275088 49 353}]
------------------------------------------------------
flag 35806 term 51 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 51 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
flag 7689 term 51 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {7097542703297242060 49 350} {3588515206583281586 49 351} {5868114869466284100 49 352} {6761052432577275088 49 353}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {7097542703297242060 49 350} {3588515206583281586 49 351} {5868114869466284100 49 352} {6761052432577275088 49 353}]
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25346 term 51 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 51 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
flag 81758 term 51 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {7097542703297242060 49 350} {3588515206583281586 49 351} {5868114869466284100 49 352} {6761052432577275088 49 353}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {7097542703297242060 49 350} {3588515206583281586 49 351} {5868114869466284100 49 352} {6761052432577275088 49 353}]
------------------------------------------------------
flag 72938 term 51 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 51 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
flag 26520 term 51 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {7097542703297242060 49 350} {3588515206583281586 49 351} {5868114869466284100 49 352} {6761052432577275088 49 353}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=353
leader log:
[{snapshot 49 349} {7097542703297242060 49 350} {3588515206583281586 49 351} {5868114869466284100 49 352} {6761052432577275088 49 353}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4938846174108938750 (index 354) to leader 1
flag 55657 term 51 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 51 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
flag 94742 term 51 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 353 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 49 349} {7097542703297242060 49 350} {3588515206583281586 49 351} {5868114869466284100 49 352} {6761052432577275088 49 353} {4938846174108938750 51 354}]
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7443 term 51 leader 1 nextIndex[0]: 355  matchIndex[0]: 354
term 51 leader 1 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 51 leaderCommit: 354 
------------------------------------------------------
flag 80072 term 51 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 354 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 49 349} {7097542703297242060 49 350} {3588515206583281586 49 351} {5868114869466284100 49 352} {6761052432577275088 49 353} {4938846174108938750 51 354}]
------------------------------------------------------
client write log 2278178011695704821 (index 355) to leader 1
client write log 1090437389531108910 (index 356) to leader 1
client write log 2646274561283208317 (index 357) to leader 1
client write log 4611282723911483774 (index 358) to leader 1
client write log 5383928945082143574 (index 359) to leader 1
client write log 4201889641935022915 (index 360) to leader 1
client write log 1404870188258585943 (index 361) to leader 1
client write log 7950082072496768933 (index 362) to leader 1
client write log 7946497700977413961 (index 363) to leader 1
client write log 3653905860401161018 (index 364) to leader 1
flag 85290 term 51 leader 1 nextIndex[0]: 355  matchIndex[0]: 354
term 51 leader 1 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 51 leaderCommit: 354 
------------------------------------------------------
flag 47923 term 51 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 49 leaderCommit: 354 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 49 349} {7097542703297242060 49 350} {3588515206583281586 49 351} {5868114869466284100 49 352} {6761052432577275088 49 353} {4938846174108938750 51 354} {2278178011695704821 51 355} {1090437389531108910 51 356} {2646274561283208317 51 357} {4611282723911483774 51 358} {5383928945082143574 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364}]
------------------------------------------------------
term 51 Server1 start snapshot! index=359
term 51 server1 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=364
-------------------------------------------------------------
flag 93961 term 51 leader 1 nextIndex[0]: 365  matchIndex[0]: 364
term 51 leader 1 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364}]
------------------------------------------------------
term 51 Server0 start snapshot! index=359
term 51 server0 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=364
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7266001232258673158 (index 365) to leader 1
flag 6593 term 51 leader 1 nextIndex[0]: 365  matchIndex[0]: 364
term 51 leader 1 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 51
------------------------------------------------------
term 52 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 2 vote for server 1
term 53 server 1 get vote from server 2
term 53 server 0 vote for server 1
term 53 server 1 become leader
------------------------------------------------------
term 53 server 1 get outdate rpc reply from server 0
flag 43486 term 53 leader 1 nextIndex[0]: 366  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
flag 36928 term 53 leader 1 nextIndex[2]: 366  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 53 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 366->365
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49446 term 53 leader 1 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 354  matchIndex[2]: 0
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 51
------------------------------------------------------
term 53 server 2 InstallSnapshot success
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
term 53 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 360 matchIndex[2] 359 
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 359 rf.lastIncludedTerm 51 rf.commitIndex 359 rf.lastApplied 359
------------------------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
flag 78763 term 53 leader 1 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
flag 45828 term 53 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41171 term 53 leader 1 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
flag 95870 term 53 leader 1 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75456 term 53 leader 1 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
flag 20903 term 53 leader 1 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30227 term 53 leader 1 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
flag 87238 term 53 leader 1 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
term 53 server 0 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 0
flag 76348 term 53 leader 1 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
flag 22895 term 53 leader 1 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
flag 9817 term 53 leader 1 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
flag 90248 term 53 leader 1 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
flag 56495 term 53 leader 1 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
flag 44123 term 53 leader 1 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
flag 82967 term 53 leader 1 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
flag 49525 term 53 leader 1 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
flag 49579 term 53 leader 1 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
flag 39828 term 53 leader 1 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
flag 73571 term 53 leader 1 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
flag 846 term 53 leader 1 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
flag 63391 term 53 leader 1 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
flag 93355 term 53 leader 1 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48138 term 53 leader 1 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
flag 68399 term 53 leader 1 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
flag 99112 term 53 leader 1 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
flag 21391 term 53 leader 1 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
flag 12031 term 53 leader 1 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
flag 41789 term 53 leader 1 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
flag 47817 term 53 leader 1 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
flag 88350 term 53 leader 1 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:364 
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84019 term 53 leader 1 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
flag 3448 term 53 leader 1 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
flag 90735 term 53 leader 1 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
flag 92295 term 53 leader 1 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=364
leader log:
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365}]
------------------------------------------------------
client write log 7266001232258673158 (index 366) to leader 1
flag 54561 term 53 leader 1 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
flag 48079 term 53 leader 1 nextIndex[2]: 366  matchIndex[2]: 365
term 53 leader 1 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=367
update matchIndex[2]=366
update leader CommitIndex=366
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365} {7266001232258673158 53 366}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=366
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365} {7266001232258673158 53 366}]
------------------------------------------------------
term 53 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97855 term 53 leader 1 nextIndex[0]: 367  matchIndex[0]: 366
term 53 leader 1 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 53 leaderCommit: 366 
------------------------------------------------------
flag 12205 term 53 leader 1 nextIndex[2]: 367  matchIndex[2]: 366
term 53 leader 1 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 53 leaderCommit: 366 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=367
update matchIndex[2]=366
update leader CommitIndex=366
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365} {7266001232258673158 53 366}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=366
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365} {7266001232258673158 53 366}]
------------------------------------------------------
flag 50667 term 53 leader 1 nextIndex[0]: 367  matchIndex[0]: 366
term 53 leader 1 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 53 leaderCommit: 366 
------------------------------------------------------
flag 43836 term 53 leader 1 nextIndex[2]: 367  matchIndex[2]: 366
term 53 leader 1 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 53 leaderCommit: 366 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=366
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365} {7266001232258673158 53 366}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=367
update matchIndex[2]=366
update leader CommitIndex=366
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365} {7266001232258673158 53 366}]
------------------------------------------------------
term 53 server 1 not vote for server 2, 任期不够新
term 53 server 2 get outdate rpc reply from server 1
flag 9680 term 53 leader 1 nextIndex[0]: 367  matchIndex[0]: 366
term 53 leader 1 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 53 leaderCommit: 366 
------------------------------------------------------
flag 2916 term 53 leader 1 nextIndex[2]: 367  matchIndex[2]: 366
term 53 leader 1 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 53 leaderCommit: 366 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=367
update matchIndex[2]=366
update leader CommitIndex=366
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365} {7266001232258673158 53 366}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=366
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365} {7266001232258673158 53 366}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72143 term 53 leader 1 nextIndex[0]: 367  matchIndex[0]: 366
term 53 leader 1 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 53 leaderCommit: 366 
------------------------------------------------------
flag 29982 term 53 leader 1 nextIndex[2]: 367  matchIndex[2]: 366
term 53 leader 1 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 53 leaderCommit: 366 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=366
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365} {7266001232258673158 53 366}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=367
update matchIndex[2]=366
update leader CommitIndex=366
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365} {7266001232258673158 53 366}]
------------------------------------------------------
flag 86045 term 53 leader 1 nextIndex[0]: 367  matchIndex[0]: 366
term 53 leader 1 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 53 leaderCommit: 366 
------------------------------------------------------
flag 6217 term 53 leader 1 nextIndex[2]: 367  matchIndex[2]: 366
term 53 leader 1 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 53 leaderCommit: 366 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:366 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=367
update matchIndex[2]=366
update leader CommitIndex=366
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365} {7266001232258673158 53 366}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=366
leader log:
[{snapshot 51 359} {4201889641935022915 51 360} {1404870188258585943 51 361} {7950082072496768933 51 362} {7946497700977413961 51 363} {3653905860401161018 51 364} {7266001232258673158 51 365} {7266001232258673158 53 366}]
------------------------------------------------------
  ... Passed --  74.0  3 1720  824784  366
--- PASS: TestSnapshotInstall2D (73.95s)
PASS
