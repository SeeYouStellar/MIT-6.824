=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 0
term 1 server 0 get vote from server 1
term 1 server 0 become leader
------------------------------------------------------
term 1 server 2 vote for server 0
term 1 server 0 get outdate rpc reply from server 2
flag 55734 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 43428 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 9133179489032067059 (index 1) to leader 0
flag 55851 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 29634 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9133179489032067059 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9133179489032067059 1 1}]
------------------------------------------------------
flag 56920 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 38230 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9133179489032067059 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9133179489032067059 1 1}]
------------------------------------------------------
flag 52167 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 59760 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9133179489032067059 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9133179489032067059 1 1}]
------------------------------------------------------
flag 87214 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 87171 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9133179489032067059 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9133179489032067059 1 1}]
------------------------------------------------------
flag 67760 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 46002 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9133179489032067059 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9133179489032067059 1 1}]
------------------------------------------------------
flag 89298 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 47755 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9133179489032067059 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9133179489032067059 1 1}]
------------------------------------------------------
flag 89553 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 29826 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9133179489032067059 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9133179489032067059 1 1}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8944647167496842189 (index 2) to leader 0
flag 34454 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 76346 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {9133179489032067059 1 1} {8944647167496842189 1 2}]
------------------------------------------------------
flag 31091 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 64785 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {9133179489032067059 1 1} {8944647167496842189 1 2}]
------------------------------------------------------
client write log 5483027065420193668 (index 3) to leader 0
client write log 1266409165573951734 (index 4) to leader 0
client write log 3506388244951600240 (index 5) to leader 0
client write log 1329009157268895066 (index 6) to leader 0
client write log 1075499130828954480 (index 7) to leader 0
client write log 391788164028313659 (index 8) to leader 0
client write log 5167816077424149081 (index 9) to leader 0
client write log 4821602780489033506 (index 10) to leader 0
flag 1217 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 63800 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {9133179489032067059 1 1} {8944647167496842189 1 2} {5483027065420193668 1 3} {1266409165573951734 1 4} {3506388244951600240 1 5} {1329009157268895066 1 6} {1075499130828954480 1 7} {391788164028313659 1 8} {5167816077424149081 1 9} {4821602780489033506 1 10}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 2->1
------------------------------------------------------
term 1 leader 0 nextIndex[1]: 0  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 29617 term 1 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 1 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3703966036972825277 (index 11) to leader 0
term 1 server 2 not vote for server 1, 日志不够新
term 1 server 0 not vote for server 1, 日志不够新
term 3 server 2 vote for server 0
term 3 server 0 get vote from server 2
term 3 server 0 become leader
------------------------------------------------------
term 3 server 1 vote for server 0
term 3 server 0 get outdate rpc reply from server 1
flag 89343 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 64872 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 12->11
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 12->11
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 2  matchIndex[1]: 0
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 11553 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 InstallSnapshot success
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 85737 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 42344 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
flag 90426 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 42233 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
flag 76779 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 99364 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
flag 36166 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 83109 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
flag 6879 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 59630 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
flag 34036 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 45176 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
flag 90990 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 88118 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
flag 94854 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 12702 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
flag 12124 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 265 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
flag 25140 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 67136 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
flag 92406 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 35640 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
flag 35043 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 31155 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
flag 30158 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 35632 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
flag 99636 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 99768 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
flag 31532 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 38068 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
flag 11227 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 58393 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
flag 99047 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 93295 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3703966036972825277 (index 12) to leader 0
flag 16594 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 69899 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11} {3703966036972825277 3 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11} {3703966036972825277 3 12}]
------------------------------------------------------
flag 40158 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 1969 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11} {3703966036972825277 3 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11} {3703966036972825277 3 12}]
------------------------------------------------------
flag 70827 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 89161 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11} {3703966036972825277 3 12}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11} {3703966036972825277 3 12}]
------------------------------------------------------
flag 74385 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 90770 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11} {3703966036972825277 3 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11} {3703966036972825277 3 12}]
------------------------------------------------------
flag 47760 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 69736 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11} {3703966036972825277 3 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11} {3703966036972825277 3 12}]
------------------------------------------------------
flag 52336 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 19446 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11} {3703966036972825277 3 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11} {3703966036972825277 3 12}]
------------------------------------------------------
flag 72627 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 52710 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11} {3703966036972825277 3 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11} {3703966036972825277 3 12}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 26369 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 21791 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 53475 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 32912 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 31015 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 51979 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 vote for server 1
term 4 server 1 get vote from server 2
term 4 server 1 become leader
------------------------------------------------------
client write log 8508789292881979910 (index 13) to leader 1
flag 61748 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 62609 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11} {3703966036972825277 3 12} {8508789292881979910 4 13}]
------------------------------------------------------
flag 53928 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 19670 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 67766 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 91681 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11} {3703966036972825277 3 12} {8508789292881979910 4 13}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 13->12
------------------------------------------------------
client write log 6130949171519101203 (index 14) to leader 1
client write log 6540979249064987150 (index 15) to leader 1
client write log 8942193186936409683 (index 16) to leader 1
client write log 3358678181494410301 (index 17) to leader 1
client write log 7706201861098388286 (index 18) to leader 1
client write log 3607613242769572364 (index 19) to leader 1
client write log 856652020294447488 (index 20) to leader 1
client write log 1016504169042848935 (index 21) to leader 1
client write log 8378740636060564002 (index 22) to leader 1
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 12
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 94904 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 50445 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 41634 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 1 9} {4821602780489033506 1 10} {3703966036972825277 1 11} {3703966036972825277 3 12} {8508789292881979910 4 13} {6130949171519101203 4 14} {6540979249064987150 4 15} {8942193186936409683 4 16} {3358678181494410301 4 17} {7706201861098388286 4 18} {3607613242769572364 4 19} {856652020294447488 4 20} {1016504169042848935 4 21} {8378740636060564002 4 22}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=22
-------------------------------------------------------------
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 12
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 88456 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 3474 term 4 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {856652020294447488 4 20} {1016504169042848935 4 21} {8378740636060564002 4 22}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=22
-------------------------------------------------------------
!!!!!!connect server 0
client write log 239758941286030289 (index 23) to leader 1
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 12
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 38680 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 73337 term 4 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 0 InstallSnapshot success
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {856652020294447488 4 20} {1016504169042848935 4 21} {8378740636060564002 4 22} {239758941286030289 4 23}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
flag 84565 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 11846 term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
[{snapshot 4 19} {856652020294447488 4 20} {1016504169042848935 4 21} {8378740636060564002 4 22} {239758941286030289 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {856652020294447488 4 20} {1016504169042848935 4 21} {8378740636060564002 4 22} {239758941286030289 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 24->23
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 1 nextIndex[0]: 0  matchIndex[0]: 23
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 28978 term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {856652020294447488 4 20} {1016504169042848935 4 21} {8378740636060564002 4 22} {239758941286030289 4 23}]
------------------------------------------------------
term 4 server 0 InstallSnapshot fail
rf.commitIndex 19 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
flag 27851 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 28162 term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {856652020294447488 4 20} {1016504169042848935 4 21} {8378740636060564002 4 22} {239758941286030289 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {856652020294447488 4 20} {1016504169042848935 4 21} {8378740636060564002 4 22} {239758941286030289 4 23}]
------------------------------------------------------
flag 29671 term 4 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 72961 term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {856652020294447488 4 20} {1016504169042848935 4 21} {8378740636060564002 4 22} {239758941286030289 4 23}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {856652020294447488 4 20} {1016504169042848935 4 21} {8378740636060564002 4 22} {239758941286030289 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70795 term 4 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 46598 term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {856652020294447488 4 20} {1016504169042848935 4 21} {8378740636060564002 4 22} {239758941286030289 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {856652020294447488 4 20} {1016504169042848935 4 21} {8378740636060564002 4 22} {239758941286030289 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39316 term 4 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 59487 term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {856652020294447488 4 20} {1016504169042848935 4 21} {8378740636060564002 4 22} {239758941286030289 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {856652020294447488 4 20} {1016504169042848935 4 21} {8378740636060564002 4 22} {239758941286030289 4 23}]
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21119 term 4 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 91029 term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {856652020294447488 4 20} {1016504169042848935 4 21} {8378740636060564002 4 22} {239758941286030289 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {856652020294447488 4 20} {1016504169042848935 4 21} {8378740636060564002 4 22} {239758941286030289 4 23}]
------------------------------------------------------
flag 56331 term 4 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 75279 term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {856652020294447488 4 20} {1016504169042848935 4 21} {8378740636060564002 4 22} {239758941286030289 4 23}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {856652020294447488 4 20} {1016504169042848935 4 21} {8378740636060564002 4 22} {239758941286030289 4 23}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7805604539426949919 (index 24) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77540 term 4 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 80553 term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {856652020294447488 4 20} {1016504169042848935 4 21} {8378740636060564002 4 22} {239758941286030289 4 23} {7805604539426949919 4 24}]
------------------------------------------------------
flag 25885 term 4 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 98403 term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {856652020294447488 4 20} {1016504169042848935 4 21} {8378740636060564002 4 22} {239758941286030289 4 23} {7805604539426949919 4 24}]
------------------------------------------------------
client write log 7218104346766275562 (index 25) to leader 1
client write log 3072921422746881468 (index 26) to leader 1
client write log 1876377453342051390 (index 27) to leader 1
client write log 7854296730235109960 (index 28) to leader 1
client write log 618941701953357215 (index 29) to leader 1
client write log 7800097173853102429 (index 30) to leader 1
client write log 6013783631429540133 (index 31) to leader 1
client write log 6432927828672589480 (index 32) to leader 1
client write log 2898233068582481767 (index 33) to leader 1
client write log 6464663835131696775 (index 34) to leader 1
client write log 1718333498361967279 (index 35) to leader 1
client write log 4115179627987875741 (index 36) to leader 1
client write log 8747142818269406784 (index 37) to leader 1
client write log 4679674183484729559 (index 38) to leader 1
flag 90060 term 4 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 23713 term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 19} {856652020294447488 4 20} {1016504169042848935 4 21} {8378740636060564002 4 22} {239758941286030289 4 23} {7805604539426949919 4 24} {7218104346766275562 4 25} {3072921422746881468 4 26} {1876377453342051390 4 27} {7854296730235109960 4 28} {618941701953357215 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=38
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15614 term 4 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 4 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=38
-------------------------------------------------------------
!!!!!!connect server 2
client write log 897056101809440663 (index 39) to leader 1
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
term 6 server 2 vote for server 1
term 6 server 0 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 1 get outdate rpc reply from server 0
flag 21610 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 80323 term 6 leader 1 nextIndex[2]: 40  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 40->39
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 40->39
------------------------------------------------------
flag 79579 term 6 leader 1 nextIndex[0]: 39  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 24  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
flag 1850 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 87956 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
flag 28892 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 46955 term 6 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
flag 43178 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 38247 term 6 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53755 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 36088 term 6 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7814 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 76298 term 6 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
flag 26471 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 35336 term 6 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
flag 68657 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 6767 term 6 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
flag 94563 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 80044 term 6 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
flag 66622 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 41490 term 6 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
flag 2660 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 60239 term 6 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
flag 86622 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 45292 term 6 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
flag 68914 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 36701 term 6 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
flag 1509 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 35437 term 6 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
flag 72064 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 33171 term 6 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
flag 36436 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 29773 term 6 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
flag 53416 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 80585 term 6 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
flag 26069 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 30526 term 6 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
flag 83231 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 70111 term 6 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39}]
------------------------------------------------------
client write log 897056101809440663 (index 40) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11565 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 20550 term 6 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39} {897056101809440663 6 40}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 29} {7800097173853102429 4 30} {6013783631429540133 4 31} {6432927828672589480 4 32} {2898233068582481767 4 33} {6464663835131696775 4 34} {1718333498361967279 4 35} {4115179627987875741 4 36} {8747142818269406784 4 37} {4679674183484729559 4 38} {897056101809440663 4 39} {897056101809440663 6 40}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92954 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 18006 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {897056101809440663 6 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {897056101809440663 6 40}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
flag 13506 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 34684 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {897056101809440663 6 40}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {897056101809440663 6 40}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85826 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 14328 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {897056101809440663 6 40}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {897056101809440663 6 40}]
------------------------------------------------------
flag 2313 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 43726 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {897056101809440663 6 40}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {897056101809440663 6 40}]
------------------------------------------------------
flag 81211 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 87592 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {897056101809440663 6 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {897056101809440663 6 40}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54566 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 62672 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {897056101809440663 6 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {897056101809440663 6 40}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4346812274261174417 (index 41) to leader 1
flag 36448 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 13924 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {897056101809440663 6 40} {4346812274261174417 6 41}]
------------------------------------------------------
flag 18510 term 6 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 63397 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {897056101809440663 6 40} {4346812274261174417 6 41}]
------------------------------------------------------
client write log 4584106830687999934 (index 42) to leader 1
client write log 1302971524821678208 (index 43) to leader 1
client write log 7278932225264487176 (index 44) to leader 1
client write log 214880403981639900 (index 45) to leader 1
client write log 4214609486302290532 (index 46) to leader 1
client write log 1092407218508039869 (index 47) to leader 1
client write log 3098257762032993699 (index 48) to leader 1
client write log 5063736136998888428 (index 49) to leader 1
client write log 225906908279545812 (index 50) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66564 term 6 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 93911 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 39} {897056101809440663 6 40} {4346812274261174417 6 41} {4584106830687999934 6 42} {1302971524821678208 6 43} {7278932225264487176 6 44} {214880403981639900 6 45} {4214609486302290532 6 46} {1092407218508039869 6 47} {3098257762032993699 6 48} {5063736136998888428 6 49} {225906908279545812 6 50}]
------------------------------------------------------
term 6 Server1 start snapshot! index=49
term 6 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=50
-------------------------------------------------------------
flag 9809 term 6 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 6 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50}]
------------------------------------------------------
term 6 Server0 start snapshot! index=49
term 6 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=50
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3417349471856843638 (index 51) to leader 1
flag 87962 term 6 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 6 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
term 7 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 0 vote for server 1
term 8 server 1 become leader
------------------------------------------------------
term 8 server 1 get outdate rpc reply from server 0
flag 69915 term 8 leader 1 nextIndex[0]: 52  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 2736 term 8 leader 1 nextIndex[2]: 52  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 52->51
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
term 8 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94242 term 8 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 6 rf.commitIndex 49 rf.lastApplied 49
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96151 term 8 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 26344 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78048 term 8 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 79332 term 8 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
flag 79605 term 8 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 89273 term 8 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
flag 44442 term 8 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 81425 term 8 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
flag 90068 term 8 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 1471 term 8 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
flag 76369 term 8 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 65741 term 8 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
term 8 server 0 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 0
flag 7777 term 8 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 35527 term 8 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
flag 93115 term 8 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 93650 term 8 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
flag 59830 term 8 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 63203 term 8 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
flag 17115 term 8 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 95455 term 8 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45057 term 8 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 99273 term 8 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
flag 26475 term 8 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 32888 term 8 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
flag 16562 term 8 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 52359 term 8 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
flag 3111 term 8 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 89034 term 8 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
flag 85591 term 8 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 10715 term 8 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
flag 12468 term 8 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 74606 term 8 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51}]
------------------------------------------------------
client write log 3417349471856843638 (index 52) to leader 1
flag 27881 term 8 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 28813 term 8 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52}]
------------------------------------------------------
term 8 server 1 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 1
flag 23582 term 8 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 50929 term 8 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29763 term 8 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 687 term 8 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52}]
------------------------------------------------------
flag 22260 term 8 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 65964 term 8 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52}]
------------------------------------------------------
flag 38988 term 8 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 9185 term 8 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52}]
------------------------------------------------------
flag 62274 term 8 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 40965 term 8 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52}]
------------------------------------------------------
flag 28899 term 8 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 13678 term 8 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 7986 term 8 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 32451 term 8 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37413 term 8 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 96394 term 8 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 75387 term 8 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 82013 term 8 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2785 term 8 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 99186 term 8 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 vote for server 0
term 9 server 0 get vote from server 2
term 9 server 0 become leader
------------------------------------------------------
flag 6316 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 75727 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52}]
------------------------------------------------------
client write log 4940069597948919466 (index 53) to leader 0
flag 59719 term 8 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 35231 term 8 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 64237 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 20820 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53}]
------------------------------------------------------
flag 64360 term 8 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 42781 term 8 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 16321 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 85756 term 9 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53}]
------------------------------------------------------
client write log 5621072335069354354 (index 54) to leader 0
flag 92224 term 8 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 8481 term 8 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 43966 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 44791 term 9 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
flag 49306 term 8 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 28902 term 8 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92671 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 54 
------------------------------------------------------
flag 37760 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7861991621229376576 (index 53) to leader 1
flag 51928 term 8 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 86899 term 8 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 8 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7537 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 54 
------------------------------------------------------
flag 69846 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
flag 51097 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 73201 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30051 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 90178 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
flag 98549 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 15576 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
flag 56092 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 525 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40584 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 92931 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23651 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 33296 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
flag 37529 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 26587 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
flag 31719 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 78282 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
flag 72785 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 16290 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15874 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 71357 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
flag 83644 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 65450 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
flag 83308 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 43374 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4351 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 19884 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
flag 38397 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 35544 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
flag 48547 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 9612 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
flag 61151 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 51362 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
flag 13461 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 78982 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
flag 58593 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 71102 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
flag 88209 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 37241 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7861991621229376576 (index 55) to leader 0
flag 62125 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 17060 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54} {7861991621229376576 9 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54} {7861991621229376576 9 55}]
------------------------------------------------------
flag 22655 term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 68713 term 9 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54} {7861991621229376576 9 55}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54} {7861991621229376576 9 55}]
------------------------------------------------------
flag 77020 term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 95541 term 9 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54} {7861991621229376576 9 55}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54} {7861991621229376576 9 55}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95599 term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 87918 term 9 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54} {7861991621229376576 9 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54} {7861991621229376576 9 55}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90231 term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 79916 term 9 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54} {7861991621229376576 9 55}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54} {7861991621229376576 9 55}]
------------------------------------------------------
flag 87147 term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 75992 term 9 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54} {7861991621229376576 9 55}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54} {7861991621229376576 9 55}]
------------------------------------------------------
flag 31791 term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 74768 term 9 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54} {7861991621229376576 9 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54} {7861991621229376576 9 55}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4836343474338096061 (index 56) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1985 term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 63117 term 9 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54} {7861991621229376576 9 55} {4836343474338096061 9 56}]
------------------------------------------------------
flag 1347 term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 87960 term 9 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 9 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54} {7861991621229376576 9 55} {4836343474338096061 9 56}]
------------------------------------------------------
client write log 3839483588686500143 (index 57) to leader 0
client write log 2155257714359347185 (index 58) to leader 0
client write log 8688051925063981520 (index 59) to leader 0
client write log 2238267733587818976 (index 60) to leader 0
client write log 3392124633131100650 (index 61) to leader 0
client write log 5652261132234099741 (index 62) to leader 0
client write log 1180126534090449282 (index 63) to leader 0
client write log 6846397552256745315 (index 64) to leader 0
flag 88111 term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 79986 term 9 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 9 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 6 49} {225906908279545812 6 50} {3417349471856843638 6 51} {3417349471856843638 8 52} {4940069597948919466 9 53} {5621072335069354354 9 54} {7861991621229376576 9 55} {4836343474338096061 9 56} {3839483588686500143 9 57} {2155257714359347185 9 58} {8688051925063981520 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64}]
------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=64
-------------------------------------------------------------
term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 85823 term 9 leader 0 nextIndex[2]: 65  matchIndex[2]: 64
term 9 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=64
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8708643090919423316 (index 65) to leader 0
term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 10603 term 9 leader 0 nextIndex[2]: 65  matchIndex[2]: 64
term 9 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 10 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 server 0 not vote for server 2, 任期不够新
term 9 server 2 get outdate rpc reply from server 0
term 11 server 1 vote for server 0
term 11 server 0 get vote from server 1
term 11 server 2 vote for server 0
term 11 server 0 become leader
------------------------------------------------------
term 11 server 0 get outdate rpc reply from server 2
flag 20587 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 76 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 66->65
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 56  matchIndex[1]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 6207 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
term 11 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 11 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
flag 20836 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 83658 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
flag 23167 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 15637 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
flag 6772 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 7332 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
flag 40648 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 89200 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
flag 233 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 5038 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80941 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 81530 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19152 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 70603 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
term 11 server 1 not vote for server 0, 任期不够新
term 11 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42827 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 93410 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79945 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 79059 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51210 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 51954 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
flag 29089 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 70714 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4605 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 90072 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
flag 82902 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 10854 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
flag 86485 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 51215 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35654 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 71687 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
flag 69714 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 97298 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 636 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 5809 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65}]
------------------------------------------------------
client write log 8708643090919423316 (index 66) to leader 0
flag 6077 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 18617 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65} {8708643090919423316 11 66}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65} {8708643090919423316 11 66}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57973 term 11 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 64769 term 11 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65} {8708643090919423316 11 66}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65} {8708643090919423316 11 66}]
------------------------------------------------------
term 11 server 2 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 2
flag 33911 term 11 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 33057 term 11 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65} {8708643090919423316 11 66}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65} {8708643090919423316 11 66}]
------------------------------------------------------
flag 52532 term 11 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 65054 term 11 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65} {8708643090919423316 11 66}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65} {8708643090919423316 11 66}]
------------------------------------------------------
flag 47220 term 11 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 92212 term 11 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
term 11 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65} {8708643090919423316 11 66}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65} {8708643090919423316 11 66}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54970 term 11 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 165 term 11 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65} {8708643090919423316 11 66}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65} {8708643090919423316 11 66}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1271672854545706843 (index 67) to leader 0
flag 79521 term 11 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 8663 term 11 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65} {8708643090919423316 11 66} {1271672854545706843 11 67}]
------------------------------------------------------
flag 9045 term 11 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 44837 term 11 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65} {8708643090919423316 11 66} {1271672854545706843 11 67}]
------------------------------------------------------
client write log 1564636661625129314 (index 68) to leader 0
client write log 6656697886922312140 (index 69) to leader 0
client write log 3974648355420207227 (index 70) to leader 0
client write log 223308000751904630 (index 71) to leader 0
client write log 7838093263541638184 (index 72) to leader 0
client write log 5355977111153818365 (index 73) to leader 0
client write log 1982791960209893399 (index 74) to leader 0
client write log 5996424625912614404 (index 75) to leader 0
client write log 1054775477129331391 (index 76) to leader 0
flag 43199 term 11 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 25807 term 11 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 59} {2238267733587818976 9 60} {3392124633131100650 9 61} {5652261132234099741 9 62} {1180126534090449282 9 63} {6846397552256745315 9 64} {8708643090919423316 9 65} {8708643090919423316 11 66} {1271672854545706843 11 67} {1564636661625129314 11 68} {6656697886922312140 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76}]
------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=76
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 18557 term 11 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 11 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=76
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1408948510909925725 (index 77) to leader 0
term 11 server 2 not vote for server 1, 日志不够新
term 11 server 0 not vote for server 1, 日志不够新
term 13 server 2 vote for server 0
term 13 server 0 get vote from server 2
term 13 server 0 become leader
------------------------------------------------------
term 13 server 1 vote for server 0
term 13 server 0 get outdate rpc reply from server 1
flag 44853 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 78441 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 78->77
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 78->77
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 67  matchIndex[1]: 0
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 33823 term 13 leader 0 nextIndex[2]: 77  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 InstallSnapshot success
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78471 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 21837 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30000 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 96706 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
flag 56492 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 46868 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
flag 39991 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 44725 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
flag 63846 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 58878 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
flag 554 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 76529 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
flag 78032 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 78752 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
flag 62372 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 44181 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
flag 71175 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 53372 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
flag 84854 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 53350 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
flag 35024 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 75673 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
flag 19445 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 69104 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
flag 30251 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 99244 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
flag 41341 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 53711 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75052 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 38898 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
flag 5489 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 64451 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87436 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 67345 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77}]
------------------------------------------------------
client write log 1408948510909925725 (index 78) to leader 0
flag 83116 term 13 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 21428 term 13 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 13 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77} {1408948510909925725 13 78}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77} {1408948510909925725 13 78}]
------------------------------------------------------
flag 14551 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 52674 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77} {1408948510909925725 13 78}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77} {1408948510909925725 13 78}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31409 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 40447 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77} {1408948510909925725 13 78}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77} {1408948510909925725 13 78}]
------------------------------------------------------
flag 45559 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 17105 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77} {1408948510909925725 13 78}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77} {1408948510909925725 13 78}]
------------------------------------------------------
flag 49521 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 40496 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77} {1408948510909925725 13 78}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77} {1408948510909925725 13 78}]
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67264 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 56859 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77} {1408948510909925725 13 78}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77} {1408948510909925725 13 78}]
------------------------------------------------------
flag 59687 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 18418 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77} {1408948510909925725 13 78}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77} {1408948510909925725 13 78}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 24745 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 9126 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 57287 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 31843 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 31929 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 3526 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 64231 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 77091 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 vote for server 1
term 14 server 1 get vote from server 2
term 14 server 1 become leader
------------------------------------------------------
flag 73634 term 14 leader 1 nextIndex[0]: 79  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 14925 term 14 leader 1 nextIndex[2]: 79  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77} {1408948510909925725 13 78}]
------------------------------------------------------
client write log 6663422614581328014 (index 79) to leader 1
flag 82100 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 55659 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 34772 term 14 leader 1 nextIndex[0]: 79  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 29152 term 14 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 14 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 11 69} {3974648355420207227 11 70} {223308000751904630 11 71} {7838093263541638184 11 72} {5355977111153818365 11 73} {1982791960209893399 11 74} {5996424625912614404 11 75} {1054775477129331391 11 76} {1408948510909925725 11 77} {1408948510909925725 13 78} {6663422614581328014 14 79}]
------------------------------------------------------
term 14 Server1 start snapshot! index=79
term 14 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 69222 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 41448 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 79  matchIndex[0]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 53376 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 Server2 start snapshot! index=79
term 14 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
client write log 2847591957679674180 (index 80) to leader 1
client write log 6751940091393876660 (index 81) to leader 1
client write log 5484765215583342008 (index 82) to leader 1
client write log 1305736646614848344 (index 83) to leader 1
client write log 8505735242586761981 (index 84) to leader 1
client write log 2851874404248124469 (index 85) to leader 1
client write log 6681154787378022217 (index 86) to leader 1
client write log 3942814876003452132 (index 87) to leader 1
client write log 2507179833973212207 (index 88) to leader 1
client write log 8617712118571910281 (index 89) to leader 1
client write log 7740111982245662477 (index 90) to leader 1
client write log 6165643808792311272 (index 91) to leader 1
client write log 5625219199965463940 (index 92) to leader 1
client write log 4796193753688815662 (index 93) to leader 1
flag 52387 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 48186 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 79  matchIndex[0]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 88228 term 14 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 79} {2847591957679674180 14 80} {6751940091393876660 14 81} {5484765215583342008 14 82} {1305736646614848344 14 83} {8505735242586761981 14 84} {2851874404248124469 14 85} {6681154787378022217 14 86} {3942814876003452132 14 87} {2507179833973212207 14 88} {8617712118571910281 14 89} {7740111982245662477 14 90} {6165643808792311272 14 91} {5625219199965463940 14 92} {4796193753688815662 14 93}]
------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=93
-------------------------------------------------------------
flag 86501 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
flag 24126 term 13 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 79->78
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 79  matchIndex[0]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 91536 term 14 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {7740111982245662477 14 90} {6165643808792311272 14 91} {5625219199965463940 14 92} {4796193753688815662 14 93}]
------------------------------------------------------
term 14 Server2 start snapshot! index=89
term 14 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=93
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
!!!!!!connect server 0
client write log 1224314793528867755 (index 94) to leader 1
flag 75493 term 13 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 13 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 13 leaderCommit: 78 
------------------------------------------------------
term 13 leader 0 nextIndex[2]: 0  matchIndex[2]: 78
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 14 server 1 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 14 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 leader 1 nextIndex[0]: 79  matchIndex[0]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 61357 term 14 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 0 InstallSnapshot success
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {7740111982245662477 14 90} {6165643808792311272 14 91} {5625219199965463940 14 92} {4796193753688815662 14 93} {1224314793528867755 14 94}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
flag 44694 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 9546 term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {7740111982245662477 14 90} {6165643808792311272 14 91} {5625219199965463940 14 92} {4796193753688815662 14 93} {1224314793528867755 14 94}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {7740111982245662477 14 90} {6165643808792311272 14 91} {5625219199965463940 14 92} {4796193753688815662 14 93} {1224314793528867755 14 94}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54942 term 14 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 92626 term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {7740111982245662477 14 90} {6165643808792311272 14 91} {5625219199965463940 14 92} {4796193753688815662 14 93} {1224314793528867755 14 94}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {7740111982245662477 14 90} {6165643808792311272 14 91} {5625219199965463940 14 92} {4796193753688815662 14 93} {1224314793528867755 14 94}]
------------------------------------------------------
flag 85941 term 14 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 25394 term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {7740111982245662477 14 90} {6165643808792311272 14 91} {5625219199965463940 14 92} {4796193753688815662 14 93} {1224314793528867755 14 94}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {7740111982245662477 14 90} {6165643808792311272 14 91} {5625219199965463940 14 92} {4796193753688815662 14 93} {1224314793528867755 14 94}]
------------------------------------------------------
flag 37013 term 14 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 58252 term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:94 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {7740111982245662477 14 90} {6165643808792311272 14 91} {5625219199965463940 14 92} {4796193753688815662 14 93} {1224314793528867755 14 94}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {7740111982245662477 14 90} {6165643808792311272 14 91} {5625219199965463940 14 92} {4796193753688815662 14 93} {1224314793528867755 14 94}]
------------------------------------------------------
flag 40092 term 14 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 6040 term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {7740111982245662477 14 90} {6165643808792311272 14 91} {5625219199965463940 14 92} {4796193753688815662 14 93} {1224314793528867755 14 94}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {7740111982245662477 14 90} {6165643808792311272 14 91} {5625219199965463940 14 92} {4796193753688815662 14 93} {1224314793528867755 14 94}]
------------------------------------------------------
term 14 server 0 not vote for server 1, 日志不够新
term 14 server 1 get outdate rpc reply from server 0
flag 91437 term 14 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 70520 term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {7740111982245662477 14 90} {6165643808792311272 14 91} {5625219199965463940 14 92} {4796193753688815662 14 93} {1224314793528867755 14 94}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {7740111982245662477 14 90} {6165643808792311272 14 91} {5625219199965463940 14 92} {4796193753688815662 14 93} {1224314793528867755 14 94}]
------------------------------------------------------
flag 54547 term 14 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 16175 term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {7740111982245662477 14 90} {6165643808792311272 14 91} {5625219199965463940 14 92} {4796193753688815662 14 93} {1224314793528867755 14 94}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {7740111982245662477 14 90} {6165643808792311272 14 91} {5625219199965463940 14 92} {4796193753688815662 14 93} {1224314793528867755 14 94}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2550843222558329867 (index 95) to leader 1
flag 51473 term 14 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 4062 term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {7740111982245662477 14 90} {6165643808792311272 14 91} {5625219199965463940 14 92} {4796193753688815662 14 93} {1224314793528867755 14 94} {2550843222558329867 14 95}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 96->95
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 0  matchIndex[0]: 95
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 32802 term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 14 server 0 InstallSnapshot fail
rf.commitIndex 94 args.LastIncludedIndex 89
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
flag 84106 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 41796 term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {7740111982245662477 14 90} {6165643808792311272 14 91} {5625219199965463940 14 92} {4796193753688815662 14 93} {1224314793528867755 14 94} {2550843222558329867 14 95}]
------------------------------------------------------
client write log 3709352820914328344 (index 96) to leader 1
client write log 5931249549487377050 (index 97) to leader 1
client write log 36978782957341053 (index 98) to leader 1
client write log 1295025281747350745 (index 99) to leader 1
client write log 5246050462339921567 (index 100) to leader 1
client write log 5088145481202781636 (index 101) to leader 1
client write log 796735084301503849 (index 102) to leader 1
client write log 548951188281342510 (index 103) to leader 1
client write log 7705093196725652663 (index 104) to leader 1
client write log 888779061291977393 (index 105) to leader 1
client write log 1246240090359248683 (index 106) to leader 1
term 14 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
flag 5635 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 60846 term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 89} {7740111982245662477 14 90} {6165643808792311272 14 91} {5625219199965463940 14 92} {4796193753688815662 14 93} {1224314793528867755 14 94} {2550843222558329867 14 95} {3709352820914328344 14 96} {5931249549487377050 14 97} {36978782957341053 14 98} {1295025281747350745 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106}]
------------------------------------------------------
term 14 Server1 start snapshot! index=99
term 14 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=106
-------------------------------------------------------------
flag 16109 term 14 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 14 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106}]
------------------------------------------------------
term 14 Server0 start snapshot! index=99
term 14 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=106
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1083362979767077116 (index 107) to leader 1
flag 82709 term 14 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 14 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
term 15 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 vote for server 1
term 16 server 0 vote for server 1
term 16 server 1 get vote from server 2
term 16 server 1 become leader
------------------------------------------------------
term 16 server 1 get outdate rpc reply from server 0
flag 55001 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 48664 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 108->107
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82842 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 0
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
term 16 server 2 InstallSnapshot success
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 14 rf.commitIndex 99 rf.lastApplied 99
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
flag 67217 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 50701 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
flag 63347 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 26926 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
flag 70577 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 12952 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
flag 24976 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 38859 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
flag 83516 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 17833 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10543 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 69217 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
flag 96599 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 71734 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
flag 24984 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 85969 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
flag 29299 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 3023 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
flag 80983 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 6588 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80677 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 8963 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
flag 78519 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 23238 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
flag 19696 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 92850 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27004 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 85710 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79459 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 35792 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
flag 7654 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 75176 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93335 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 37087 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107}]
------------------------------------------------------
client write log 1083362979767077116 (index 108) to leader 1
term 16 server 0 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 0
flag 96168 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 86398 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107} {1083362979767077116 16 108}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107} {1083362979767077116 16 108}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64700 term 16 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 16 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 20251 term 16 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 16 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107} {1083362979767077116 16 108}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107} {1083362979767077116 16 108}]
------------------------------------------------------
flag 7189 term 16 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 16 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 64249 term 16 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 16 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107} {1083362979767077116 16 108}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107} {1083362979767077116 16 108}]
------------------------------------------------------
term 16 server 1 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 1
flag 56962 term 16 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 16 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 4010 term 16 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 16 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107} {1083362979767077116 16 108}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107} {1083362979767077116 16 108}]
------------------------------------------------------
flag 78487 term 16 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 16 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 14198 term 16 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 16 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107} {1083362979767077116 16 108}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107} {1083362979767077116 16 108}]
------------------------------------------------------
flag 71081 term 16 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 16 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 40011 term 16 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 16 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107} {1083362979767077116 16 108}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107} {1083362979767077116 16 108}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5320716267952499881 (index 109) to leader 1
flag 16035 term 16 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 16 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 54918 term 16 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 16 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 14 99} {5246050462339921567 14 100} {5088145481202781636 14 101} {796735084301503849 14 102} {548951188281342510 14 103} {7705093196725652663 14 104} {888779061291977393 14 105} {1246240090359248683 14 106} {1083362979767077116 14 107} {1083362979767077116 16 108} {5320716267952499881 16 109}]
------------------------------------------------------
term 16 Server1 start snapshot! index=109
term 16 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
flag 93796 term 16 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 16 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 16 109}]
------------------------------------------------------
term 16 Server0 start snapshot! index=109
term 16 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
client write log 8194604535788849656 (index 110) to leader 1
client write log 5756242773381088732 (index 111) to leader 1
client write log 1650541590894424589 (index 112) to leader 1
client write log 3618735836519589953 (index 113) to leader 1
client write log 4975553666394219177 (index 114) to leader 1
client write log 3797874244876428037 (index 115) to leader 1
client write log 1547301420613351141 (index 116) to leader 1
client write log 6482289147928641677 (index 117) to leader 1
client write log 7153258165391064548 (index 118) to leader 1
flag 671 term 16 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 16 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {8194604535788849656 16 110} {5756242773381088732 16 111} {1650541590894424589 16 112} {3618735836519589953 16 113} {4975553666394219177 16 114} {3797874244876428037 16 115} {1547301420613351141 16 116} {6482289147928641677 16 117} {7153258165391064548 16 118}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71596 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 16 leaderCommit: 118 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {8194604535788849656 16 110} {5756242773381088732 16 111} {1650541590894424589 16 112} {3618735836519589953 16 113} {4975553666394219177 16 114} {3797874244876428037 16 115} {1547301420613351141 16 116} {6482289147928641677 16 117} {7153258165391064548 16 118}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3989063677285979642 (index 119) to leader 1
term 16 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82199 term 16 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 16 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 16 leaderCommit: 118 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 109  matchIndex[2]: 108
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 109} {8194604535788849656 16 110} {5756242773381088732 16 111} {1650541590894424589 16 112} {3618735836519589953 16 113} {4975553666394219177 16 114} {3797874244876428037 16 115} {1547301420613351141 16 116} {6482289147928641677 16 117} {7153258165391064548 16 118} {3989063677285979642 16 119}]
------------------------------------------------------
term 17 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 17 Server1 start snapshot! index=119
term 17 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 0 vote for server 1
term 18 server 1 become leader
------------------------------------------------------
term 18 server 1 get outdate rpc reply from server 0
flag 8390 term 18 leader 1 nextIndex[0]: 120  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 90928 term 18 leader 1 nextIndex[2]: 120  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 120->119
------------------------------------------------------
term 18 Server0 start snapshot! index=119
term 18 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
flag 56948 term 18 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 109  matchIndex[2]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 16 rf.commitIndex 119 rf.lastApplied 119
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
flag 62855 term 18 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 52632 term 18 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
flag 75190 term 18 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 18980 term 18 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
flag 3236 term 18 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 21010 term 18 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
flag 1814 term 18 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 92429 term 18 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
term 18 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85472 term 18 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 40737 term 18 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 87746 term 18 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 59875 term 18 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 46010 term 18 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 59092 term 18 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 server 2 vote for server 0
term 19 server 0 get vote from server 2
term 19 server 0 become leader
------------------------------------------------------
flag 92053 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 97564 term 19 leader 0 nextIndex[2]: 120  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
flag 34308 term 18 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 22835 term 18 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
client write log 4239329980855705690 (index 120) to leader 0
flag 92069 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 51335 term 19 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {4239329980855705690 19 120}]
------------------------------------------------------
flag 96500 term 18 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 45373 term 18 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 23491 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
flag 85213 term 19 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 19 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {4239329980855705690 19 120}]
------------------------------------------------------
flag 84765 term 18 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 67623 term 18 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
client write log 5077315253228282439 (index 121) to leader 0
flag 68582 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
flag 64983 term 19 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 19 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
flag 88651 term 18 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 60246 term 18 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 81626 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 89426 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
flag 5011 term 18 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 98417 term 18 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
!!!!!!connect server 1
client write log 7264031842154404777 (index 120) to leader 1
flag 83324 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 46765 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
flag 53103 term 19 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 51174 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35565 term 19 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 27150 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
flag 41428 term 19 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 53354 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
flag 41825 term 19 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 81315 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96141 term 19 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 57777 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
flag 89773 term 19 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 81954 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
flag 61744 term 19 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 98393 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20938 term 19 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 58139 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70576 term 19 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 94990 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 122->121
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 121
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 18406 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 121 args.LastIncludedIndex 119
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33510 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 82904 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
flag 6625 term 19 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 52873 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31563 term 19 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 18776 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
term 19 server 0 not vote for server 2, 任期不够新
term 19 server 2 get outdate rpc reply from server 0
flag 54284 term 19 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 32584 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 122->121
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 121
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 69772 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 121 args.LastIncludedIndex 119
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
flag 92347 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 69118 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
flag 73570 term 19 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 53829 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
flag 182 term 19 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 36973 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 122->121
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 121
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 4023 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 121 args.LastIncludedIndex 119
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121}]
------------------------------------------------------
client write log 7264031842154404777 (index 122) to leader 0
flag 7842 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 56962 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 1 not vote for server 0, 日志不够新
term 19 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
term 19 server 0 get outdate rpc reply from server 1
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121} {7264031842154404777 19 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121} {7264031842154404777 19 122}]
------------------------------------------------------
flag 2408 term 19 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 19 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 18890 term 19 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 19 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121} {7264031842154404777 19 122}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121} {7264031842154404777 19 122}]
------------------------------------------------------
flag 46057 term 19 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 19 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 88763 term 19 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 19 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121} {7264031842154404777 19 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121} {7264031842154404777 19 122}]
------------------------------------------------------
flag 76099 term 19 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 19 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 29650 term 19 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 19 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121} {7264031842154404777 19 122}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121} {7264031842154404777 19 122}]
------------------------------------------------------
flag 55997 term 19 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 19 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 80909 term 19 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 19 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121} {7264031842154404777 19 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121} {7264031842154404777 19 122}]
------------------------------------------------------
flag 90370 term 19 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 19 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 28934 term 19 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 19 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121} {7264031842154404777 19 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121} {7264031842154404777 19 122}]
------------------------------------------------------
flag 31802 term 19 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 19 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 66755 term 19 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 19 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121} {7264031842154404777 19 122}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121} {7264031842154404777 19 122}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7962409875351609628 (index 123) to leader 0
flag 98847 term 19 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 19 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 86535 term 19 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 19 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121} {7264031842154404777 19 122} {7962409875351609628 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 123->122
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 122
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 78019 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121} {7264031842154404777 19 122} {7962409875351609628 19 123}]
------------------------------------------------------
client write log 4703528690755815819 (index 124) to leader 0
client write log 282823979876347878 (index 125) to leader 0
client write log 1743238476114555542 (index 126) to leader 0
client write log 6043096026129193679 (index 127) to leader 0
client write log 2723664037087423519 (index 128) to leader 0
client write log 8799601766615555870 (index 129) to leader 0
client write log 2496791716142787065 (index 130) to leader 0
client write log 6017378172629277696 (index 131) to leader 0
client write log 2582403001280336919 (index 132) to leader 0
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 122
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 85533 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 16 119} {4239329980855705690 19 120} {5077315253228282439 19 121} {7264031842154404777 19 122} {7962409875351609628 19 123} {4703528690755815819 19 124} {282823979876347878 19 125} {1743238476114555542 19 126} {6043096026129193679 19 127} {2723664037087423519 19 128} {8799601766615555870 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132}]
------------------------------------------------------
term 19 Server0 start snapshot! index=129
term 19 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=132
-------------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 122
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 2680 term 19 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 19 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132}]
------------------------------------------------------
term 19 Server2 start snapshot! index=129
term 19 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=132
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4458103924682729520 (index 133) to leader 0
term 19 server 2 not vote for server 1, 日志不够新
term 19 server 0 not vote for server 1, 日志不够新
term 21 server 2 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
term 21 server 1 vote for server 0
term 21 server 0 get outdate rpc reply from server 1
flag 10638 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 17032 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 134->133
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 134->133
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 13091 term 21 leader 0 nextIndex[2]: 133  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 1 InstallSnapshot success
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 19 rf.commitIndex 129 rf.lastApplied 129
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
flag 39693 term 21 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 21 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 36074 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
flag 65715 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 65904 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
term 21 server 0 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 0
flag 19742 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 72145 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52768 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 68584 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
flag 24063 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 70507 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 1 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 1
flag 14550 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 16440 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11249 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 92461 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63856 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 1278 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
flag 36605 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 28701 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
flag 74842 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 47439 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9366 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 98948 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
flag 80545 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 49523 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
flag 61417 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 17708 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
flag 44656 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 56024 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
flag 59096 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 28502 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20727 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 86769 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
flag 43805 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 17874 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=132
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133}]
------------------------------------------------------
client write log 4458103924682729520 (index 134) to leader 0
flag 22694 term 21 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
flag 68204 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 132 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133} {4458103924682729520 21 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133} {4458103924682729520 21 134}]
------------------------------------------------------
flag 16244 term 21 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 85940 term 21 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133} {4458103924682729520 21 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133} {4458103924682729520 21 134}]
------------------------------------------------------
flag 60344 term 21 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 37587 term 21 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133} {4458103924682729520 21 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133} {4458103924682729520 21 134}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92915 term 21 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 39814 term 21 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133} {4458103924682729520 21 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133} {4458103924682729520 21 134}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21156 term 21 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 79868 term 21 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133} {4458103924682729520 21 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133} {4458103924682729520 21 134}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12498 term 21 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 41590 term 21 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133} {4458103924682729520 21 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133} {4458103924682729520 21 134}]
------------------------------------------------------
flag 73531 term 21 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 63765 term 21 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3575640094224115225 (index 135) to leader 0
term 21 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 135->134
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133} {4458103924682729520 21 134} {3575640094224115225 21 135}]
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 0  matchIndex[1]: 134
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 83179 term 21 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 21 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133} {4458103924682729520 21 134} {3575640094224115225 21 135}]
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 0  matchIndex[1]: 134
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 90333 term 21 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 21 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133} {4458103924682729520 21 134} {3575640094224115225 21 135}]
------------------------------------------------------
client write log 8108374754920717635 (index 136) to leader 0
client write log 8802347575345190817 (index 137) to leader 0
client write log 1210157404458331281 (index 138) to leader 0
client write log 3871710434439448961 (index 139) to leader 0
client write log 390514825872707046 (index 140) to leader 0
client write log 2325946514525935366 (index 141) to leader 0
client write log 897717159186611272 (index 142) to leader 0
client write log 2890926031987471562 (index 143) to leader 0
client write log 2664952403978046417 (index 144) to leader 0
term 21 leader 0 nextIndex[1]: 0  matchIndex[1]: 134
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 41118 term 21 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 21 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 19 129} {2496791716142787065 19 130} {6017378172629277696 19 131} {2582403001280336919 19 132} {4458103924682729520 19 133} {4458103924682729520 21 134} {3575640094224115225 21 135} {8108374754920717635 21 136} {8802347575345190817 21 137} {1210157404458331281 21 138} {3871710434439448961 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144}]
------------------------------------------------------
term 21 Server0 start snapshot! index=139
term 21 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=144
-------------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
flag 9811 term 21 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 14735 term 21 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 21 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144}]
------------------------------------------------------
term 21 Server2 start snapshot! index=139
term 21 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=144
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2381932341558724964 (index 145) to leader 0
flag 14962 term 21 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 32410 term 21 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 21 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 22 server 1 AppendEntries false 领导者任期过期 args.Term 21
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 22 server 0 not vote for server 1, 日志不够新
term 21 server 2 not vote for server 1, 日志不够新
term 22 server 0 not vote for server 1, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 1 vote for server 2
term 24 server 0 vote for server 2
term 24 server 2 get vote from server 1
term 24 server 2 become leader
------------------------------------------------------
term 24 server 2 get outdate rpc reply from server 0
flag 16974 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 61969 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 146->145
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
flag 2975 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 135  matchIndex[1]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
term 24 server 1 InstallSnapshot success
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 21 rf.commitIndex 139 rf.lastApplied 139
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
flag 22831 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 35853 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
flag 58586 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 2060 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
flag 53591 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 57107 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
flag 90120 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 65127 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
flag 35900 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 75008 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
flag 62291 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 99389 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
flag 53600 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 1246 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
flag 92291 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 66027 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
flag 28577 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 86835 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
flag 69273 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 73867 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
flag 50558 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 49940 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
flag 69755 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 56875 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
flag 52049 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 61200 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145}]
------------------------------------------------------
client write log 2381932341558724964 (index 146) to leader 2
flag 81426 term 24 leader 2 nextIndex[0]: 146  matchIndex[0]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 69140 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145} {2381932341558724964 24 146}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145} {2381932341558724964 24 146}]
------------------------------------------------------
flag 43658 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 46617 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145} {2381932341558724964 24 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145} {2381932341558724964 24 146}]
------------------------------------------------------
flag 74100 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 30739 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145} {2381932341558724964 24 146}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145} {2381932341558724964 24 146}]
------------------------------------------------------
flag 72462 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 69673 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145} {2381932341558724964 24 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145} {2381932341558724964 24 146}]
------------------------------------------------------
flag 73937 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 40360 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145} {2381932341558724964 24 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145} {2381932341558724964 24 146}]
------------------------------------------------------
flag 77902 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 60557 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145} {2381932341558724964 24 146}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145} {2381932341558724964 24 146}]
------------------------------------------------------
flag 91185 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 10958 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145} {2381932341558724964 24 146}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145} {2381932341558724964 24 146}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 52286 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 33992 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 60144 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 10709 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 86005 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 14002 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 25 server 1 vote for server 0
term 25 server 0 get vote from server 1
term 25 server 0 become leader
------------------------------------------------------
flag 33116 term 25 leader 0 nextIndex[1]: 147  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 81557 term 25 leader 0 nextIndex[2]: 147  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145} {2381932341558724964 24 146}]
------------------------------------------------------
flag 25501 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 32798 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
client write log 30391915963767103 (index 147) to leader 0
flag 40799 term 25 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 9062 term 25 leader 0 nextIndex[2]: 147  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145} {2381932341558724964 24 146} {30391915963767103 25 147}]
------------------------------------------------------
flag 85155 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 3152 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 9732 term 25 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 25 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 89479 term 25 leader 0 nextIndex[2]: 147  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145} {2381932341558724964 24 146} {30391915963767103 25 147}]
------------------------------------------------------
client write log 5386815123729588676 (index 148) to leader 0
client write log 8859811366133443901 (index 149) to leader 0
client write log 4665012451706806458 (index 150) to leader 0
client write log 2376510780375048777 (index 151) to leader 0
client write log 2513395962482887062 (index 152) to leader 0
client write log 8485461107749911404 (index 153) to leader 0
client write log 8114575549094972803 (index 154) to leader 0
client write log 4732377392987553017 (index 155) to leader 0
client write log 7941516814471270927 (index 156) to leader 0
client write log 4248705349789666391 (index 157) to leader 0
client write log 1841399964869008598 (index 158) to leader 0
client write log 3400931329814272734 (index 159) to leader 0
client write log 1731295567278281090 (index 160) to leader 0
flag 97921 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 16500 term 24 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 147->146
------------------------------------------------------
flag 8257 term 25 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 25 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 51927 term 25 leader 0 nextIndex[2]: 147  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 147 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 21 139} {390514825872707046 21 140} {2325946514525935366 21 141} {897717159186611272 21 142} {2890926031987471562 21 143} {2664952403978046417 21 144} {2381932341558724964 21 145} {2381932341558724964 24 146} {30391915963767103 25 147} {5386815123729588676 25 148} {8859811366133443901 25 149} {4665012451706806458 25 150} {2376510780375048777 25 151} {2513395962482887062 25 152} {8485461107749911404 25 153} {8114575549094972803 25 154} {4732377392987553017 25 155} {7941516814471270927 25 156} {4248705349789666391 25 157} {1841399964869008598 25 158} {3400931329814272734 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
term 25 Server0 start snapshot! index=149
term 25 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=160
-------------------------------------------------------------
term 25 Server0 start snapshot! index=159
term 25 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=160
-------------------------------------------------------------
flag 29661 term 24 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 24 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 146
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 147->146
------------------------------------------------------
flag 15765 term 25 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 25 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 147  matchIndex[2]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
term 25 Server1 start snapshot! index=149
term 25 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=160
-------------------------------------------------------------
term 25 Server1 start snapshot! index=159
term 25 server1 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=160
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2978842945982378088 (index 147) to leader 2
term 24 leader 2 nextIndex[0]: 0  matchIndex[0]: 146
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 146
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
term 25 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47253 term 25 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 25 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 147  matchIndex[2]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
term 25 server 2 InstallSnapshot success
------------------------------------------------------
term 25 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 25 rf.commitIndex 159 rf.lastApplied 159
term 25 server 1 not vote for server 2, 日志不够新
term 25 server 0 not vote for server 2, 日志不够新
term 27 server 2 vote for server 0
term 27 server 0 get vote from server 2
term 27 server 0 become leader
------------------------------------------------------
term 27 server 1 vote for server 0
term 27 server 0 get outdate rpc reply from server 1
flag 30196 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 94959 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 161->160
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48204 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 28509 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1215 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 28283 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
flag 51495 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 24512 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91701 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 55093 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
flag 43056 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 8636 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
flag 14128 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 45692 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13274 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 82409 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
flag 42221 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 40388 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
flag 34478 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 38124 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
term 27 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37203 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 48020 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
flag 48925 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 12917 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
flag 34702 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 78524 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
term 27 server 2 not vote for server 1, 任期不够新
term 27 server 1 get outdate rpc reply from server 2
flag 71163 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 986 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58094 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 91774 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
flag 34887 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 89576 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
flag 5839 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 96693 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
flag 51107 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 47916 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
flag 38617 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 86610 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1731295567278281090 25 160}]
------------------------------------------------------
client write log 2978842945982378088 (index 161) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27736 term 27 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 93504 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1731295567278281090 25 160} {2978842945982378088 27 161}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1731295567278281090 25 160} {2978842945982378088 27 161}]
------------------------------------------------------
flag 37730 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 74586 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1731295567278281090 25 160} {2978842945982378088 27 161}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1731295567278281090 25 160} {2978842945982378088 27 161}]
------------------------------------------------------
flag 69042 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 70749 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1731295567278281090 25 160} {2978842945982378088 27 161}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1731295567278281090 25 160} {2978842945982378088 27 161}]
------------------------------------------------------
flag 99037 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 49887 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1731295567278281090 25 160} {2978842945982378088 27 161}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1731295567278281090 25 160} {2978842945982378088 27 161}]
------------------------------------------------------
flag 22346 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 66891 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1731295567278281090 25 160} {2978842945982378088 27 161}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1731295567278281090 25 160} {2978842945982378088 27 161}]
------------------------------------------------------
flag 77010 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 48906 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1731295567278281090 25 160} {2978842945982378088 27 161}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1731295567278281090 25 160} {2978842945982378088 27 161}]
------------------------------------------------------
flag 59228 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 78522 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1731295567278281090 25 160} {2978842945982378088 27 161}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1731295567278281090 25 160} {2978842945982378088 27 161}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4612315525095706654 (index 162) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44795 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 17454 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {1731295567278281090 25 160} {2978842945982378088 27 161} {4612315525095706654 27 162}]
------------------------------------------------------
flag 24403 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 63112 term 27 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {1731295567278281090 25 160} {2978842945982378088 27 161} {4612315525095706654 27 162}]
------------------------------------------------------
client write log 4331467449886779435 (index 163) to leader 0
client write log 799580871308317261 (index 164) to leader 0
client write log 8126414936509904645 (index 165) to leader 0
client write log 2974153560859793106 (index 166) to leader 0
client write log 3044735576973041261 (index 167) to leader 0
client write log 699216419973867123 (index 168) to leader 0
client write log 335464119868091756 (index 169) to leader 0
client write log 4129242962988474561 (index 170) to leader 0
client write log 4569633200731207418 (index 171) to leader 0
client write log 2391935908711526154 (index 172) to leader 0
flag 64140 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 37393 term 27 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 25 159} {1731295567278281090 25 160} {2978842945982378088 27 161} {4612315525095706654 27 162} {4331467449886779435 27 163} {799580871308317261 27 164} {8126414936509904645 27 165} {2974153560859793106 27 166} {3044735576973041261 27 167} {699216419973867123 27 168} {335464119868091756 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172}]
------------------------------------------------------
term 27 Server0 start snapshot! index=169
term 27 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=172
-------------------------------------------------------------
term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
flag 16462 term 27 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 27 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172}]
------------------------------------------------------
term 27 Server2 start snapshot! index=169
term 27 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=172
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6261342485506212170 (index 173) to leader 0
term 27 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
flag 20381 term 27 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 27 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 28 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 2 vote for server 0
term 29 server 1 vote for server 0
term 29 server 0 get vote from server 1
term 29 server 0 become leader
------------------------------------------------------
term 29 server 0 get outdate rpc reply from server 2
flag 78047 term 29 leader 0 nextIndex[1]: 174  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 40455 term 29 leader 0 nextIndex[2]: 174  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
term 29 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 174->173
------------------------------------------------------
term 29 leader 0 nextIndex[1]: 162  matchIndex[1]: 0
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
flag 36435 term 29 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
term 29 server 1 InstallSnapshot success
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 27 rf.commitIndex 169 rf.lastApplied 169
flag 25475 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 80283 term 29 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66048 term 29 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 43809 term 29 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
flag 8102 term 29 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 29187 term 29 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19141 term 29 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 14924 term 29 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
flag 74758 term 29 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 17122 term 29 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
flag 50028 term 29 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 50627 term 29 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
flag 2789 term 29 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 67558 term 29 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
flag 49220 term 29 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 46294 term 29 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
flag 29176 term 29 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 43555 term 29 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
flag 78101 term 29 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 24380 term 29 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 not vote for server 0, 任期不够新
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 29 server 0 get outdate rpc reply from server 2
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34708 term 29 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 15366 term 29 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
flag 64836 term 29 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 19727 term 29 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
flag 70338 term 29 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 87326 term 29 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
flag 92860 term 29 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 65942 term 29 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
flag 62861 term 29 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 46875 term 29 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
flag 46184 term 29 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 31647 term 29 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173}]
------------------------------------------------------
client write log 6261342485506212170 (index 174) to leader 0
flag 4209 term 29 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 84579 term 29 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173} {6261342485506212170 29 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173} {6261342485506212170 29 174}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98635 term 29 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 29 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 94570 term 29 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 29 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173} {6261342485506212170 29 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173} {6261342485506212170 29 174}]
------------------------------------------------------
flag 35836 term 29 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 29 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 5113 term 29 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 29 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173} {6261342485506212170 29 174}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173} {6261342485506212170 29 174}]
------------------------------------------------------
flag 28576 term 29 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 29 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 95148 term 29 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 29 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173} {6261342485506212170 29 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173} {6261342485506212170 29 174}]
------------------------------------------------------
term 29 server 0 not vote for server 1, 任期不够新
term 29 server 1 get outdate rpc reply from server 0
flag 7818 term 29 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 29 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 70121 term 29 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 29 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
term 29 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173} {6261342485506212170 29 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173} {6261342485506212170 29 174}]
------------------------------------------------------
flag 87972 term 29 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 29 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 75453 term 29 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 29 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173} {6261342485506212170 29 174}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173} {6261342485506212170 29 174}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70796 term 29 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 29 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 22583 term 29 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 29 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173} {6261342485506212170 29 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173} {6261342485506212170 29 174}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 9205013220918518998 (index 175) to leader 0
flag 28033 term 29 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 29 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 17078 term 29 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 29 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173} {6261342485506212170 29 174} {9205013220918518998 29 175}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75173 term 29 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 29 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 14030 term 29 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 29 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173} {6261342485506212170 29 174} {9205013220918518998 29 175}]
------------------------------------------------------
client write log 2947057200601920064 (index 176) to leader 0
client write log 84919990980598176 (index 177) to leader 0
client write log 1320184575943901620 (index 178) to leader 0
client write log 1384741677223712226 (index 179) to leader 0
client write log 8089791813397587362 (index 180) to leader 0
client write log 6636599527247311091 (index 181) to leader 0
client write log 3775109436344681242 (index 182) to leader 0
flag 60568 term 29 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 29 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
flag 67194 term 29 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 29 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 175 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 27 169} {4129242962988474561 27 170} {4569633200731207418 27 171} {2391935908711526154 27 172} {6261342485506212170 27 173} {6261342485506212170 29 174} {9205013220918518998 29 175} {2947057200601920064 29 176} {84919990980598176 29 177} {1320184575943901620 29 178} {1384741677223712226 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182}]
------------------------------------------------------
term 29 Server0 start snapshot! index=179
term 29 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=182
-------------------------------------------------------------
term 29 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 54616 term 29 leader 0 nextIndex[2]: 183  matchIndex[2]: 182
term 29 leader 0 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182}]
------------------------------------------------------
term 29 Server2 start snapshot! index=179
term 29 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=182
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4132848935544541759 (index 183) to leader 0
term 29 server 2 not vote for server 1, 日志不够新
term 29 server 0 not vote for server 1, 日志不够新
term 31 server 2 vote for server 0
term 31 server 1 vote for server 0
term 31 server 0 get vote from server 2
term 31 server 0 become leader
------------------------------------------------------
term 31 server 0 get outdate rpc reply from server 1
flag 52060 term 31 leader 0 nextIndex[1]: 184  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 33450 term 31 leader 0 nextIndex[2]: 184  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 184->183
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 184->183
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 175  matchIndex[1]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 5279 term 31 leader 0 nextIndex[2]: 183  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
term 31 server 1 InstallSnapshot success
------------------------------------------------------
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 29 rf.commitIndex 179 rf.lastApplied 179
flag 91633 term 31 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 28047 term 31 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
flag 92803 term 31 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 80602 term 31 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
flag 51205 term 31 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 81307 term 31 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
flag 12759 term 31 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 60592 term 31 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
flag 45037 term 31 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 23327 term 31 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
flag 19034 term 31 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 91129 term 31 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
flag 78239 term 31 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 96757 term 31 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
flag 68121 term 31 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 18098 term 31 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
flag 56935 term 31 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 96834 term 31 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
flag 60749 term 31 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 27563 term 31 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:182 
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
flag 87979 term 31 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 60843 term 31 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
flag 63716 term 31 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 2554 term 31 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95206 term 31 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 42264 term 31 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
flag 47911 term 31 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 43015 term 31 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
flag 38610 term 31 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 9131 term 31 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
flag 8848 term 31 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 52319 term 31 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
flag 64236 term 31 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 44580 term 31 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:182 
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
flag 82467 term 31 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 64550 term 31 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183}]
------------------------------------------------------
client write log 4132848935544541759 (index 184) to leader 0
flag 75147 term 31 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 5958 term 31 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 31 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183} {4132848935544541759 31 184}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183} {4132848935544541759 31 184}]
------------------------------------------------------
flag 6881 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 37755 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183} {4132848935544541759 31 184}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183} {4132848935544541759 31 184}]
------------------------------------------------------
flag 64110 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 36080 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183} {4132848935544541759 31 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183} {4132848935544541759 31 184}]
------------------------------------------------------
flag 45070 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 1583 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183} {4132848935544541759 31 184}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183} {4132848935544541759 31 184}]
------------------------------------------------------
term 31 server 2 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 2
flag 43582 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 25398 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183} {4132848935544541759 31 184}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183} {4132848935544541759 31 184}]
------------------------------------------------------
flag 45885 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 99187 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183} {4132848935544541759 31 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183} {4132848935544541759 31 184}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 57636 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 79955 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 29151 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 32197 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 44905 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 57742 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 32 server 2 vote for server 1
term 32 server 1 get vote from server 2
term 32 server 1 become leader
------------------------------------------------------
flag 65589 term 32 leader 1 nextIndex[0]: 185  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 75482 term 32 leader 1 nextIndex[2]: 185  matchIndex[2]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183} {4132848935544541759 31 184}]
------------------------------------------------------
client write log 6757162245875508901 (index 185) to leader 1
flag 45331 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 20613 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90453 term 32 leader 1 nextIndex[0]: 185  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 70341 term 32 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 32 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183} {4132848935544541759 31 184} {6757162245875508901 32 185}]
------------------------------------------------------
flag 84121 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 19885 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 40132 term 32 leader 1 nextIndex[0]: 185  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 24646 term 32 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 32 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183} {4132848935544541759 31 184} {6757162245875508901 32 185}]
------------------------------------------------------
client write log 7399107519035549609 (index 186) to leader 1
client write log 4670318152399487804 (index 187) to leader 1
client write log 1451259911498172051 (index 188) to leader 1
client write log 8216139131241273809 (index 189) to leader 1
client write log 4643738340557460071 (index 190) to leader 1
client write log 7037238798679433772 (index 191) to leader 1
client write log 4127666039409673666 (index 192) to leader 1
client write log 8933911904584371995 (index 193) to leader 1
client write log 2177254469461397473 (index 194) to leader 1
client write log 1680764373118003414 (index 195) to leader 1
client write log 4404176970645403750 (index 196) to leader 1
flag 98079 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 58362 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17672 term 32 leader 1 nextIndex[0]: 185  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 76225 term 32 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 32 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=196
leader log:
[{snapshot 29 179} {8089791813397587362 29 180} {6636599527247311091 29 181} {3775109436344681242 29 182} {4132848935544541759 29 183} {4132848935544541759 31 184} {6757162245875508901 32 185} {7399107519035549609 32 186} {4670318152399487804 32 187} {1451259911498172051 32 188} {8216139131241273809 32 189} {4643738340557460071 32 190} {7037238798679433772 32 191} {4127666039409673666 32 192} {8933911904584371995 32 193} {2177254469461397473 32 194} {1680764373118003414 32 195} {4404176970645403750 32 196}]
------------------------------------------------------
term 32 Server1 start snapshot! index=189
term 32 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=196
-------------------------------------------------------------
flag 49220 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 25446 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 1 nextIndex[0]: 185  matchIndex[0]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 97237 term 32 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 32 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=196
leader log:
[{snapshot 32 189} {4643738340557460071 32 190} {7037238798679433772 32 191} {4127666039409673666 32 192} {8933911904584371995 32 193} {2177254469461397473 32 194} {1680764373118003414 32 195} {4404176970645403750 32 196}]
------------------------------------------------------
term 32 Server2 start snapshot! index=189
term 32 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=196
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1719942886248844534 (index 197) to leader 1
flag 41564 term 31 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 83707 term 31 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 32 server 2 AppendEntries false 领导者任期过期 args.Term 31
------------------------------------------------------
term 32 server 1 AppendEntries false 领导者任期过期 args.Term 31
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 1 nextIndex[0]: 185  matchIndex[0]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 68379 term 32 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 32 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 196 
------------------------------------------------------
term 32 server 0 InstallSnapshot success
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 32 rf.commitIndex 189 rf.lastApplied 189
term 32 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {4643738340557460071 32 190} {7037238798679433772 32 191} {4127666039409673666 32 192} {8933911904584371995 32 193} {2177254469461397473 32 194} {1680764373118003414 32 195} {4404176970645403750 32 196} {1719942886248844534 32 197}]
------------------------------------------------------
flag 38505 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
flag 69469 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {4643738340557460071 32 190} {7037238798679433772 32 191} {4127666039409673666 32 192} {8933911904584371995 32 193} {2177254469461397473 32 194} {1680764373118003414 32 195} {4404176970645403750 32 196} {1719942886248844534 32 197}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {4643738340557460071 32 190} {7037238798679433772 32 191} {4127666039409673666 32 192} {8933911904584371995 32 193} {2177254469461397473 32 194} {1680764373118003414 32 195} {4404176970645403750 32 196} {1719942886248844534 32 197}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17101 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
flag 95376 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {4643738340557460071 32 190} {7037238798679433772 32 191} {4127666039409673666 32 192} {8933911904584371995 32 193} {2177254469461397473 32 194} {1680764373118003414 32 195} {4404176970645403750 32 196} {1719942886248844534 32 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {4643738340557460071 32 190} {7037238798679433772 32 191} {4127666039409673666 32 192} {8933911904584371995 32 193} {2177254469461397473 32 194} {1680764373118003414 32 195} {4404176970645403750 32 196} {1719942886248844534 32 197}]
------------------------------------------------------
flag 73255 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
flag 61328 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {4643738340557460071 32 190} {7037238798679433772 32 191} {4127666039409673666 32 192} {8933911904584371995 32 193} {2177254469461397473 32 194} {1680764373118003414 32 195} {4404176970645403750 32 196} {1719942886248844534 32 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {4643738340557460071 32 190} {7037238798679433772 32 191} {4127666039409673666 32 192} {8933911904584371995 32 193} {2177254469461397473 32 194} {1680764373118003414 32 195} {4404176970645403750 32 196} {1719942886248844534 32 197}]
------------------------------------------------------
flag 50472 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
flag 58345 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {4643738340557460071 32 190} {7037238798679433772 32 191} {4127666039409673666 32 192} {8933911904584371995 32 193} {2177254469461397473 32 194} {1680764373118003414 32 195} {4404176970645403750 32 196} {1719942886248844534 32 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {4643738340557460071 32 190} {7037238798679433772 32 191} {4127666039409673666 32 192} {8933911904584371995 32 193} {2177254469461397473 32 194} {1680764373118003414 32 195} {4404176970645403750 32 196} {1719942886248844534 32 197}]
------------------------------------------------------
flag 31588 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
flag 13920 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {4643738340557460071 32 190} {7037238798679433772 32 191} {4127666039409673666 32 192} {8933911904584371995 32 193} {2177254469461397473 32 194} {1680764373118003414 32 195} {4404176970645403750 32 196} {1719942886248844534 32 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {4643738340557460071 32 190} {7037238798679433772 32 191} {4127666039409673666 32 192} {8933911904584371995 32 193} {2177254469461397473 32 194} {1680764373118003414 32 195} {4404176970645403750 32 196} {1719942886248844534 32 197}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67175 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
flag 49313 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {4643738340557460071 32 190} {7037238798679433772 32 191} {4127666039409673666 32 192} {8933911904584371995 32 193} {2177254469461397473 32 194} {1680764373118003414 32 195} {4404176970645403750 32 196} {1719942886248844534 32 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {4643738340557460071 32 190} {7037238798679433772 32 191} {4127666039409673666 32 192} {8933911904584371995 32 193} {2177254469461397473 32 194} {1680764373118003414 32 195} {4404176970645403750 32 196} {1719942886248844534 32 197}]
------------------------------------------------------
flag 7001 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
flag 55373 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {4643738340557460071 32 190} {7037238798679433772 32 191} {4127666039409673666 32 192} {8933911904584371995 32 193} {2177254469461397473 32 194} {1680764373118003414 32 195} {4404176970645403750 32 196} {1719942886248844534 32 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {4643738340557460071 32 190} {7037238798679433772 32 191} {4127666039409673666 32 192} {8933911904584371995 32 193} {2177254469461397473 32 194} {1680764373118003414 32 195} {4404176970645403750 32 196} {1719942886248844534 32 197}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2107369067928289516 (index 198) to leader 1
flag 24821 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
flag 51702 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 32 189} {4643738340557460071 32 190} {7037238798679433772 32 191} {4127666039409673666 32 192} {8933911904584371995 32 193} {2177254469461397473 32 194} {1680764373118003414 32 195} {4404176970645403750 32 196} {1719942886248844534 32 197} {2107369067928289516 32 198}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36698 term 32 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 25878 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 32 189} {4643738340557460071 32 190} {7037238798679433772 32 191} {4127666039409673666 32 192} {8933911904584371995 32 193} {2177254469461397473 32 194} {1680764373118003414 32 195} {4404176970645403750 32 196} {1719942886248844534 32 197} {2107369067928289516 32 198}]
------------------------------------------------------
client write log 1799275375441388468 (index 199) to leader 1
client write log 1828540626816701128 (index 200) to leader 1
client write log 3661748583531615717 (index 201) to leader 1
client write log 2919280633092704454 (index 202) to leader 1
client write log 3367737125987618811 (index 203) to leader 1
client write log 1423908397713452328 (index 204) to leader 1
client write log 1439742212682537926 (index 205) to leader 1
client write log 6615783286760962424 (index 206) to leader 1
client write log 7445151480047040831 (index 207) to leader 1
client write log 2809182819325577831 (index 208) to leader 1
client write log 4887947885272801268 (index 209) to leader 1
client write log 4905464203384331904 (index 210) to leader 1
client write log 3065645530877281860 (index 211) to leader 1
client write log 8859600105456498820 (index 212) to leader 1
client write log 2725033939686716438 (index 213) to leader 1
flag 47731 term 32 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 13787 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 189} {4643738340557460071 32 190} {7037238798679433772 32 191} {4127666039409673666 32 192} {8933911904584371995 32 193} {2177254469461397473 32 194} {1680764373118003414 32 195} {4404176970645403750 32 196} {1719942886248844534 32 197} {2107369067928289516 32 198} {1799275375441388468 32 199} {1828540626816701128 32 200} {3661748583531615717 32 201} {2919280633092704454 32 202} {3367737125987618811 32 203} {1423908397713452328 32 204} {1439742212682537926 32 205} {6615783286760962424 32 206} {7445151480047040831 32 207} {2809182819325577831 32 208} {4887947885272801268 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213}]
------------------------------------------------------
term 32 Server1 start snapshot! index=199
term 32 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=213
-------------------------------------------------------------
term 32 Server1 start snapshot! index=209
term 32 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=213
-------------------------------------------------------------
flag 22571 term 32 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 32 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213}]
------------------------------------------------------
term 32 Server0 start snapshot! index=199
term 32 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=213
-------------------------------------------------------------
term 32 Server0 start snapshot! index=209
term 32 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=213
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5033047436186127822 (index 214) to leader 1
term 32 server 1 not vote for server 2, 日志不够新
term 32 server 0 not vote for server 2, 日志不够新
term 34 server 2 vote for server 1
term 34 server 1 get vote from server 2
term 34 server 1 become leader
------------------------------------------------------
term 34 server 0 vote for server 1
term 34 server 1 get outdate rpc reply from server 0
flag 5721 term 34 leader 1 nextIndex[0]: 215  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 13196 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 215->214
------------------------------------------------------
term 34 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 215->214
------------------------------------------------------
flag 60793 term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 198  matchIndex[2]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
term 34 server 2 InstallSnapshot success
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 32 rf.commitIndex 209 rf.lastApplied 209
term 34 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
term 34 server 0 not vote for server 1, 任期不够新
term 34 server 1 get outdate rpc reply from server 0
flag 9417 term 34 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 2133 term 34 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
flag 12577 term 34 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 47636 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73615 term 34 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 38546 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
flag 72407 term 34 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 88198 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
flag 46891 term 34 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 51753 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
flag 49687 term 34 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 30785 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
flag 87870 term 34 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 46127 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23558 term 34 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 79122 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
flag 82177 term 34 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 19282 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
flag 27264 term 34 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 37309 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78511 term 34 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 8527 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
flag 30457 term 34 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 61258 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
flag 69654 term 34 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 91075 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42831 term 34 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 18438 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
flag 96960 term 34 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 94462 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
flag 28742 term 34 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 60267 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
flag 30049 term 34 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 66420 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41658 term 34 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 96663 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214}]
------------------------------------------------------
client write log 5033047436186127822 (index 215) to leader 1
flag 42576 term 34 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
flag 12806 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214} {5033047436186127822 34 215}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214} {5033047436186127822 34 215}]
------------------------------------------------------
flag 45692 term 34 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 34 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 34 leaderCommit: 215 
------------------------------------------------------
flag 45183 term 34 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 34 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214} {5033047436186127822 34 215}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214} {5033047436186127822 34 215}]
------------------------------------------------------
flag 62697 term 34 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 34 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 34 leaderCommit: 215 
------------------------------------------------------
flag 98283 term 34 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 34 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214} {5033047436186127822 34 215}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214} {5033047436186127822 34 215}]
------------------------------------------------------
flag 5275 term 34 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 34 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 34 leaderCommit: 215 
------------------------------------------------------
flag 58632 term 34 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 34 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214} {5033047436186127822 34 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214} {5033047436186127822 34 215}]
------------------------------------------------------
flag 78009 term 34 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 34 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 34 leaderCommit: 215 
------------------------------------------------------
flag 79176 term 34 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 34 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214} {5033047436186127822 34 215}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214} {5033047436186127822 34 215}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73837 term 34 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 34 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 34 leaderCommit: 215 
------------------------------------------------------
flag 50674 term 34 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 34 leaderCommit: 215 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214} {5033047436186127822 34 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214} {5033047436186127822 34 215}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6632139523699546231 (index 216) to leader 1
flag 56147 term 34 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 34 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 34 leaderCommit: 215 
------------------------------------------------------
flag 92746 term 34 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 34 leaderCommit: 215 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214} {5033047436186127822 34 215} {6632139523699546231 34 216}]
------------------------------------------------------
flag 29340 term 34 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 34 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 27103 term 34 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214} {5033047436186127822 34 215} {6632139523699546231 34 216}]
------------------------------------------------------
client write log 4567696258262666320 (index 217) to leader 1
client write log 2635279749581291621 (index 218) to leader 1
client write log 4226250267631393839 (index 219) to leader 1
client write log 6849082991417711551 (index 220) to leader 1
client write log 8848828035170163591 (index 221) to leader 1
client write log 973588372038923350 (index 222) to leader 1
client write log 2581871258838735646 (index 223) to leader 1
client write log 6004121019526499668 (index 224) to leader 1
client write log 2250012129409042934 (index 225) to leader 1
client write log 1373399388635128733 (index 226) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64657 term 34 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 34 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 80067 term 34 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 32 209} {4905464203384331904 32 210} {3065645530877281860 32 211} {8859600105456498820 32 212} {2725033939686716438 32 213} {5033047436186127822 32 214} {5033047436186127822 34 215} {6632139523699546231 34 216} {4567696258262666320 34 217} {2635279749581291621 34 218} {4226250267631393839 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226}]
------------------------------------------------------
term 34 Server1 start snapshot! index=219
term 34 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=226
-------------------------------------------------------------
flag 28498 term 34 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226}]
------------------------------------------------------
term 34 Server0 start snapshot! index=219
term 34 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=226
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2214467995545899843 (index 227) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43862 term 34 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
term 35 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226} {2214467995545899843 34 227}]
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 2 vote for server 1
term 36 server 0 vote for server 1
term 36 server 1 get vote from server 2
term 36 server 1 become leader
------------------------------------------------------
term 36 server 1 get outdate rpc reply from server 0
flag 88460 term 36 leader 1 nextIndex[0]: 228  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 17158 term 36 leader 1 nextIndex[2]: 228  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 36 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 228->227
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226} {2214467995545899843 34 227}]
------------------------------------------------------
flag 93232 term 36 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 216  matchIndex[2]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 36 server 2 InstallSnapshot success
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 34 rf.commitIndex 219 rf.lastApplied 219
term 36 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226} {2214467995545899843 34 227}]
------------------------------------------------------
flag 75587 term 36 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 41998 term 36 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 36 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226} {2214467995545899843 34 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226} {2214467995545899843 34 227}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71132 term 36 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 83440 term 36 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226} {2214467995545899843 34 227}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226} {2214467995545899843 34 227}]
------------------------------------------------------
flag 44916 term 36 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 94185 term 36 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226} {2214467995545899843 34 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226} {2214467995545899843 34 227}]
------------------------------------------------------
flag 29786 term 36 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 29971 term 36 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226} {2214467995545899843 34 227}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226} {2214467995545899843 34 227}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82862 term 36 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 86068 term 36 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226} {2214467995545899843 34 227}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226} {2214467995545899843 34 227}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72248 term 36 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 73881 term 36 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226} {2214467995545899843 34 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226} {2214467995545899843 34 227}]
------------------------------------------------------
flag 21321 term 36 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 21636 term 36 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226} {2214467995545899843 34 227}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226} {2214467995545899843 34 227}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 45499 term 36 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 20918 term 36 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6770 term 36 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 22569 term 36 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 60107 term 36 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 38856 term 36 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 server 2 vote for server 0
term 37 server 0 get vote from server 2
term 37 server 0 become leader
------------------------------------------------------
flag 67559 term 37 leader 0 nextIndex[1]: 228  matchIndex[1]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 71497 term 37 leader 0 nextIndex[2]: 228  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226} {2214467995545899843 34 227}]
------------------------------------------------------
flag 32464 term 36 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 96895 term 36 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
client write log 8878309918634300903 (index 228) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62496 term 37 leader 0 nextIndex[1]: 228  matchIndex[1]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 30309 term 37 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226} {2214467995545899843 34 227} {8878309918634300903 37 228}]
------------------------------------------------------
flag 36438 term 36 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 35755 term 36 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27233 term 37 leader 0 nextIndex[1]: 228  matchIndex[1]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
flag 72312 term 37 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 37 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 228 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226} {2214467995545899843 34 227} {8878309918634300903 37 228}]
------------------------------------------------------
client write log 8515909423565916579 (index 229) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 228->227
------------------------------------------------------
flag 17509 term 36 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 33606 term 36 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 37 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 30580 term 37 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 37 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 37 leaderCommit: 228 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 34 219} {6849082991417711551 34 220} {8848828035170163591 34 221} {973588372038923350 34 222} {2581871258838735646 34 223} {6004121019526499668 34 224} {2250012129409042934 34 225} {1373399388635128733 34 226} {2214467995545899843 34 227} {8878309918634300903 37 228} {8515909423565916579 37 229}]
------------------------------------------------------
term 37 Server0 start snapshot! index=229
term 37 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 46991 term 36 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 77517 term 36 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
flag 59808 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
term 37 Server2 start snapshot! index=229
term 37 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5930836492739723900 (index 228) to leader 1
flag 69217 term 36 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 38647 term 36 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 37 server 0 AppendEntries false 领导者任期过期 args.Term 36
------------------------------------------------------
term 37 server 2 AppendEntries false 领导者任期过期 args.Term 36
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
flag 50376 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
term 37 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 37 rf.commitIndex 229 rf.lastApplied 229
term 37 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66334 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
flag 55193 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
flag 59337 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
flag 65766 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
flag 96218 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
flag 95556 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
flag 15595 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
flag 71946 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26208 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
flag 21888 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
flag 54460 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
flag 73090 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 230->229
------------------------------------------------------
term 37 leader 0 nextIndex[1]: 0  matchIndex[1]: 229
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
flag 58129 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 1 InstallSnapshot fail
rf.commitIndex 229 args.LastIncludedIndex 229
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 37 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14653 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
flag 41467 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
flag 28504 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
flag 60117 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31847 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
flag 29483 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
flag 62040 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
flag 62437 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
flag 88368 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
flag 29584 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 server 1 not vote for server 0, 日志不够新
term 37 server 0 get outdate rpc reply from server 1
flag 70265 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
flag 15652 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
flag 7926 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
flag 70218 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55432 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
flag 79593 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96728 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
flag 80919 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
flag 93003 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
flag 54376 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
flag 10769 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
flag 77814 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3861 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
flag 84249 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 37 229}]
------------------------------------------------------
client write log 5930836492739723900 (index 230) to leader 0
flag 31879 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
flag 87077 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 229 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {5930836492739723900 37 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {5930836492739723900 37 230}]
------------------------------------------------------
flag 60716 term 37 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 37 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 87628 term 37 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {5930836492739723900 37 230}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {5930836492739723900 37 230}]
------------------------------------------------------
term 37 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
flag 61544 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 42272 term 37 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
[{snapshot 37 229} {5930836492739723900 37 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {5930836492739723900 37 230}]
------------------------------------------------------
flag 39262 term 37 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 37 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 2336 term 37 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {5930836492739723900 37 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {5930836492739723900 37 230}]
------------------------------------------------------
flag 30298 term 37 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 37 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 24623 term 37 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {5930836492739723900 37 230}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {5930836492739723900 37 230}]
------------------------------------------------------
flag 88990 term 37 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 37 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 58193 term 37 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {5930836492739723900 37 230}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {5930836492739723900 37 230}]
------------------------------------------------------
flag 91506 term 37 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 37 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 9735 term 37 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {5930836492739723900 37 230}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {5930836492739723900 37 230}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2858330778968746802 (index 231) to leader 0
flag 29792 term 37 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 37 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 55025 term 37 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 37 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5930836492739723900 37 230} {2858330778968746802 37 231}]
------------------------------------------------------
flag 67004 term 37 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 37 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 14553 term 37 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 37 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5930836492739723900 37 230} {2858330778968746802 37 231}]
------------------------------------------------------
client write log 431497255576805163 (index 232) to leader 0
client write log 5190924720274312632 (index 233) to leader 0
client write log 6847498491853224419 (index 234) to leader 0
client write log 3465343476630934082 (index 235) to leader 0
client write log 931479422334568433 (index 236) to leader 0
client write log 5525534811903535879 (index 237) to leader 0
client write log 4690760988450037613 (index 238) to leader 0
client write log 3163279989822855026 (index 239) to leader 0
client write log 1771169772693406679 (index 240) to leader 0
flag 59153 term 37 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 37 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 35981 term 37 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 37 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 37 229} {5930836492739723900 37 230} {2858330778968746802 37 231} {431497255576805163 37 232} {5190924720274312632 37 233} {6847498491853224419 37 234} {3465343476630934082 37 235} {931479422334568433 37 236} {5525534811903535879 37 237} {4690760988450037613 37 238} {3163279989822855026 37 239} {1771169772693406679 37 240}]
------------------------------------------------------
term 37 Server0 start snapshot! index=239
term 37 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=240
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 231->230
------------------------------------------------------
term 37 leader 0 nextIndex[1]: 0  matchIndex[1]: 230
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
flag 47589 term 37 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 37 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240}]
------------------------------------------------------
term 37 Server2 start snapshot! index=239
term 37 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=240
-------------------------------------------------------------
!!!!!!connect server 1
client write log 9075996083972546498 (index 241) to leader 0
term 37 server 2 not vote for server 1, 日志不够新
term 37 server 0 not vote for server 1, 日志不够新
term 39 server 2 vote for server 0
term 39 server 0 get vote from server 2
term 39 server 0 become leader
------------------------------------------------------
term 39 server 1 vote for server 0
term 39 server 0 get outdate rpc reply from server 1
flag 33644 term 39 leader 0 nextIndex[1]: 242  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 28626 term 39 leader 0 nextIndex[2]: 242  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 242->241
------------------------------------------------------
term 39 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 242->241
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 231  matchIndex[1]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
flag 33443 term 39 leader 0 nextIndex[2]: 241  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 39 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 37 rf.commitIndex 239 rf.lastApplied 239
flag 1728 term 39 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 39 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 57144 term 39 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
flag 86639 term 39 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 61162 term 39 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 1 not vote for server 2, 任期不够新
term 39 server 2 get outdate rpc reply from server 1
flag 42596 term 39 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 78426 term 39 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
flag 88498 term 39 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 72138 term 39 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
flag 47393 term 39 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 8770 term 39 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
flag 12972 term 39 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 37558 term 39 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
flag 797 term 39 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 82219 term 39 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
flag 81798 term 39 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 32376 term 39 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
flag 48997 term 39 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 70427 term 39 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22067 term 39 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 88164 term 39 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94998 term 39 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 46704 term 39 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
term 39 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
flag 92828 term 39 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 53552 term 39 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
flag 84749 term 39 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 39102 term 39 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
flag 8062 term 39 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 38388 term 39 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 0 not vote for server 2, 任期不够新
term 39 server 2 get outdate rpc reply from server 0
flag 52836 term 39 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 34813 term 39 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
flag 20141 term 39 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 86187 term 39 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
flag 34112 term 39 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 67809 term 39 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67990 term 39 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 60877 term 39 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241}]
------------------------------------------------------
client write log 9075996083972546498 (index 242) to leader 0
flag 32135 term 39 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 40569 term 39 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 39 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241} {9075996083972546498 39 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241} {9075996083972546498 39 242}]
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89102 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 27172 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241} {9075996083972546498 39 242}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241} {9075996083972546498 39 242}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15079 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 39 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241} {9075996083972546498 39 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241} {9075996083972546498 39 242}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42781 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 71773 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241} {9075996083972546498 39 242}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241} {9075996083972546498 39 242}]
------------------------------------------------------
flag 21096 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 277 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241} {9075996083972546498 39 242}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241} {9075996083972546498 39 242}]
------------------------------------------------------
flag 44867 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 1033 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241} {9075996083972546498 39 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241} {9075996083972546498 39 242}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7903669680755183843 (index 243) to leader 0
flag 91290 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 43200 term 39 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241} {9075996083972546498 39 242} {7903669680755183843 39 243}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48077 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
flag 11760 term 39 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 39 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241} {9075996083972546498 39 242} {7903669680755183843 39 243}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8970818392526218519 (index 244) to leader 0
client write log 6390406009191073657 (index 245) to leader 0
client write log 1358651977342367991 (index 246) to leader 0
client write log 7094298538604541292 (index 247) to leader 0
client write log 4485561525547998048 (index 248) to leader 0
client write log 7895115061765215929 (index 249) to leader 0
client write log 1679076283600917901 (index 250) to leader 0
client write log 8218067336975145211 (index 251) to leader 0
client write log 3380581159667243963 (index 252) to leader 0
client write log 4310952452482408907 (index 253) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90036 term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
flag 83355 term 39 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 39 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 37 239} {1771169772693406679 37 240} {9075996083972546498 37 241} {9075996083972546498 39 242} {7903669680755183843 39 243} {8970818392526218519 39 244} {6390406009191073657 39 245} {1358651977342367991 39 246} {7094298538604541292 39 247} {4485561525547998048 39 248} {7895115061765215929 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253}]
------------------------------------------------------
term 39 Server0 start snapshot! index=249
term 39 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=253
-------------------------------------------------------------
term 39 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 48521 term 39 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253}]
------------------------------------------------------
term 39 Server2 start snapshot! index=249
term 39 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=253
-------------------------------------------------------------
!!!!!!connect server 1
client write log 505698370469970480 (index 254) to leader 0
term 39 server 2 not vote for server 1, 日志不够新
term 39 server 0 not vote for server 1, 日志不够新
term 41 server 2 vote for server 0
term 41 server 1 vote for server 0
term 41 server 0 get vote from server 2
term 41 server 0 become leader
------------------------------------------------------
term 41 server 0 get outdate rpc reply from server 1
flag 15683 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 54963 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 41 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 255->254
------------------------------------------------------
term 41 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 255->254
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 243  matchIndex[1]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 60004 term 41 leader 0 nextIndex[2]: 254  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
term 41 server 1 InstallSnapshot success
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 39 rf.commitIndex 249 rf.lastApplied 249
flag 97793 term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 3048 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
flag 2235 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 20204 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
flag 12590 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 38012 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74818 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 24217 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
flag 79797 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 9870 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
flag 4603 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 26508 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
flag 10937 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 377 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
flag 55494 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 98090 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
flag 19090 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 2900 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
flag 12909 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 77655 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
flag 61173 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 36270 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
flag 99179 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 82690 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
flag 93571 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 98836 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
flag 39689 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 29856 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
flag 46694 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 63932 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
flag 99776 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 2249 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
flag 45094 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 90047 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
flag 355 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 41316 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254}]
------------------------------------------------------
client write log 505698370469970480 (index 255) to leader 0
flag 67481 term 41 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 83990 term 41 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 41 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59034 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 72916 term 41 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255}]
------------------------------------------------------
flag 81196 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 18557 term 41 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255}]
------------------------------------------------------
flag 49426 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 21495 term 41 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255}]
------------------------------------------------------
flag 46696 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 24825 term 41 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255}]
------------------------------------------------------
flag 18986 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 17951 term 41 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255}]
------------------------------------------------------
flag 73906 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 72093 term 41 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 21113 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 35808 term 41 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 92646 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 80990 term 41 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 256->255
------------------------------------------------------
flag 94750 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
term 41 leader 0 nextIndex[2]: 0  matchIndex[2]: 255
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
term 42 server 1 vote for server 2
term 42 server 2 get vote from server 1
term 42 server 2 become leader
------------------------------------------------------
flag 83685 term 42 leader 2 nextIndex[0]: 256  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 55755 term 42 leader 2 nextIndex[1]: 256  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255}]
------------------------------------------------------
client write log 1827636782566390528 (index 256) to leader 2
flag 82109 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
term 41 leader 0 nextIndex[2]: 0  matchIndex[2]: 255
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 81335 term 42 leader 2 nextIndex[0]: 256  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 26711 term 42 leader 2 nextIndex[1]: 256  matchIndex[1]: 255
term 42 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255} {1827636782566390528 42 256}]
------------------------------------------------------
flag 68539 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
term 41 leader 0 nextIndex[2]: 0  matchIndex[2]: 255
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 80017 term 42 leader 2 nextIndex[0]: 256  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 53330 term 42 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 42 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255} {1827636782566390528 42 256}]
------------------------------------------------------
client write log 4879037216589760722 (index 257) to leader 2
term 41 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
flag 20825 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 40198 term 41 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 98250 term 42 leader 2 nextIndex[0]: 256  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 89141 term 42 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 42 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 42 leaderCommit: 256 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255} {1827636782566390528 42 256} {4879037216589760722 42 257}]
------------------------------------------------------
flag 64876 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 49969 term 41 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 61665 term 42 leader 2 nextIndex[0]: 256  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 66718 term 42 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 42 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 42 leaderCommit: 257 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255} {1827636782566390528 42 256} {4879037216589760722 42 257}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8551432150118532311 (index 258) to leader 2
flag 5628 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 67608 term 41 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 42 server 2 AppendEntries false 领导者任期过期 args.Term 41
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 42 server 1 AppendEntries false 领导者任期过期 args.Term 41
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21451 term 42 leader 2 nextIndex[0]: 256  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 16559 term 42 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 42 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 42 leaderCommit: 257 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255} {1827636782566390528 42 256} {4879037216589760722 42 257} {8551432150118532311 42 258}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255} {1827636782566390528 42 256} {4879037216589760722 42 257} {8551432150118532311 42 258}]
------------------------------------------------------
term 42 server 0 not vote for server 2, 日志不够新
term 42 server 2 get outdate rpc reply from server 0
flag 6393 term 42 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 42 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 83578 term 42 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255} {1827636782566390528 42 256} {4879037216589760722 42 257} {8551432150118532311 42 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255} {1827636782566390528 42 256} {4879037216589760722 42 257} {8551432150118532311 42 258}]
------------------------------------------------------
flag 86002 term 42 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 42 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 16119 term 42 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255} {1827636782566390528 42 256} {4879037216589760722 42 257} {8551432150118532311 42 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255} {1827636782566390528 42 256} {4879037216589760722 42 257} {8551432150118532311 42 258}]
------------------------------------------------------
flag 93025 term 42 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 42 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 54889 term 42 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255} {1827636782566390528 42 256} {4879037216589760722 42 257} {8551432150118532311 42 258}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255} {1827636782566390528 42 256} {4879037216589760722 42 257} {8551432150118532311 42 258}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8001 term 42 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 42 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 21085 term 42 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255} {1827636782566390528 42 256} {4879037216589760722 42 257} {8551432150118532311 42 258}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255} {1827636782566390528 42 256} {4879037216589760722 42 257} {8551432150118532311 42 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 259->258
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 42 leader 2 nextIndex[0]: 0  matchIndex[0]: 258
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 23012 term 42 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255} {1827636782566390528 42 256} {4879037216589760722 42 257} {8551432150118532311 42 258}]
------------------------------------------------------
term 42 server 0 InstallSnapshot fail
rf.commitIndex 258 args.LastIncludedIndex 249
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
flag 73280 term 42 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 42 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 258 
------------------------------------------------------
flag 86629 term 42 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255} {1827636782566390528 42 256} {4879037216589760722 42 257} {8551432150118532311 42 258}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255} {1827636782566390528 42 256} {4879037216589760722 42 257} {8551432150118532311 42 258}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6001543265199485527 (index 259) to leader 2
flag 84293 term 42 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 42 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 44574 term 42 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 39 249} {1679076283600917901 39 250} {8218067336975145211 39 251} {3380581159667243963 39 252} {4310952452482408907 39 253} {505698370469970480 39 254} {505698370469970480 41 255} {1827636782566390528 42 256} {4879037216589760722 42 257} {8551432150118532311 42 258} {6001543265199485527 42 259}]
------------------------------------------------------
term 42 Server2 start snapshot! index=259
term 42 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 259->258
------------------------------------------------------
term 42 leader 2 nextIndex[0]: 0  matchIndex[0]: 258
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 42
------------------------------------------------------
flag 68390 term 42 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 42 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 259 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 42 259}]
------------------------------------------------------
term 42 Server1 start snapshot! index=259
term 42 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
client write log 829075709642994648 (index 260) to leader 2
client write log 7939020462847005609 (index 261) to leader 2
client write log 3994906753221134119 (index 262) to leader 2
client write log 4292719599721728737 (index 263) to leader 2
client write log 1992495414407324057 (index 264) to leader 2
client write log 8340971539251781736 (index 265) to leader 2
client write log 4522350123004480646 (index 266) to leader 2
client write log 7292869203083946417 (index 267) to leader 2
client write log 6043314208995095413 (index 268) to leader 2
client write log 3100806056047827714 (index 269) to leader 2
term 42 leader 2 nextIndex[0]: 0  matchIndex[0]: 258
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 42
------------------------------------------------------
flag 42084 term 42 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 42 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 259 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 42 259} {829075709642994648 42 260} {7939020462847005609 42 261} {3994906753221134119 42 262} {4292719599721728737 42 263} {1992495414407324057 42 264} {8340971539251781736 42 265} {4522350123004480646 42 266} {7292869203083946417 42 267} {6043314208995095413 42 268} {3100806056047827714 42 269}]
------------------------------------------------------
term 42 Server2 start snapshot! index=269
term 42 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 leader 2 nextIndex[0]: 0  matchIndex[0]: 258
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 3907 term 42 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 42 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 42 269}]
------------------------------------------------------
term 42 Server1 start snapshot! index=269
term 42 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1860902437106115552 (index 270) to leader 2
term 42 server 2 not vote for server 0, 日志不够新
term 42 server 1 not vote for server 0, 日志不够新
term 44 server 1 vote for server 2
term 44 server 0 vote for server 2
term 44 server 2 get vote from server 1
term 44 server 2 become leader
------------------------------------------------------
term 44 server 2 get outdate rpc reply from server 0
flag 34216 term 44 leader 2 nextIndex[0]: 271  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
flag 59930 term 44 leader 2 nextIndex[1]: 271  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 44 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 44 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 271->270
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 271->270
------------------------------------------------------
term 44 leader 2 nextIndex[0]: 259  matchIndex[0]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 67741 term 44 leader 2 nextIndex[1]: 270  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
term 44 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 42 rf.commitIndex 269 rf.lastApplied 269
term 44 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
flag 73509 term 44 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 44 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
flag 30767 term 44 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5089 term 44 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
flag 28103 term 44 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=269
leader log:
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
flag 10617 term 44 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
flag 2797 term 44 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
flag 76900 term 44 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
flag 35645 term 44 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52518 term 44 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
flag 8722 term 44 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
flag 42556 term 44 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
flag 81186 term 44 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
flag 66 term 44 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
flag 22569 term 44 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
flag 20328 term 44 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
flag 33552 term 44 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
flag 73589 term 44 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
flag 94325 term 44 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
flag 86098 term 44 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
flag 77752 term 44 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81295 term 44 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
flag 99669 term 44 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78085 term 44 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
flag 54858 term 44 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
flag 22289 term 44 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
flag 53001 term 44 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
flag 4379 term 44 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
flag 98731 term 44 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
flag 23990 term 44 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
flag 87231 term 44 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
flag 31933 term 44 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
flag 47403 term 44 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
flag 62166 term 44 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
flag 22438 term 44 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
term 44 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21314 term 44 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
flag 92836 term 44 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=269
leader log:
[{snapshot 42 269} {1860902437106115552 42 270}]
------------------------------------------------------
client write log 1860902437106115552 (index 271) to leader 2
flag 41823 term 44 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
flag 57321 term 44 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 42 leaderCommit: 269 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1860902437106115552 42 270} {1860902437106115552 44 271}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1860902437106115552 42 270} {1860902437106115552 44 271}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74875 term 44 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 44 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 271 
------------------------------------------------------
flag 28653 term 44 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 44 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 271 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1860902437106115552 42 270} {1860902437106115552 44 271}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1860902437106115552 42 270} {1860902437106115552 44 271}]
------------------------------------------------------
term 44 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75627 term 44 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 44 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 271 
------------------------------------------------------
flag 59000 term 44 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 44 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 271 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1860902437106115552 42 270} {1860902437106115552 44 271}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1860902437106115552 42 270} {1860902437106115552 44 271}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62390 term 44 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 44 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 271 
------------------------------------------------------
flag 58679 term 44 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 44 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 271 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1860902437106115552 42 270} {1860902437106115552 44 271}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1860902437106115552 42 270} {1860902437106115552 44 271}]
------------------------------------------------------
flag 25091 term 44 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 44 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 271 
------------------------------------------------------
flag 30683 term 44 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 44 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 271 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1860902437106115552 42 270} {1860902437106115552 44 271}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1860902437106115552 42 270} {1860902437106115552 44 271}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62650 term 44 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 44 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 271 
------------------------------------------------------
flag 46033 term 44 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 44 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 271 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1860902437106115552 42 270} {1860902437106115552 44 271}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1860902437106115552 42 270} {1860902437106115552 44 271}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1463438753088328336 (index 272) to leader 2
flag 58645 term 44 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 44 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 271 
------------------------------------------------------
flag 17379 term 44 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 44 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 271 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {1860902437106115552 42 270} {1860902437106115552 44 271} {1463438753088328336 44 272}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99074 term 44 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 44 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 272 
------------------------------------------------------
flag 49250 term 44 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 44 leaderCommit: 272 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {1860902437106115552 42 270} {1860902437106115552 44 271} {1463438753088328336 44 272}]
------------------------------------------------------
client write log 8031054758484699339 (index 273) to leader 2
client write log 5427040688133699110 (index 274) to leader 2
client write log 8707747260053794800 (index 275) to leader 2
client write log 2771469142353298160 (index 276) to leader 2
client write log 2422740495086016288 (index 277) to leader 2
client write log 4987029031126219794 (index 278) to leader 2
client write log 444638040376282727 (index 279) to leader 2
client write log 3610873150938569819 (index 280) to leader 2
client write log 7641724837041539572 (index 281) to leader 2
client write log 5601261324380965220 (index 282) to leader 2
client write log 6529108882294998346 (index 283) to leader 2
client write log 5385150544626149421 (index 284) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33611 term 44 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 44 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 272 
------------------------------------------------------
flag 84021 term 44 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 44 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 44 leaderCommit: 272 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 42 269} {1860902437106115552 42 270} {1860902437106115552 44 271} {1463438753088328336 44 272} {8031054758484699339 44 273} {5427040688133699110 44 274} {8707747260053794800 44 275} {2771469142353298160 44 276} {2422740495086016288 44 277} {4987029031126219794 44 278} {444638040376282727 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284}]
------------------------------------------------------
term 44 Server2 start snapshot! index=279
term 44 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=284
-------------------------------------------------------------
term 44 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 44
------------------------------------------------------
flag 78108 term 44 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 44 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284}]
------------------------------------------------------
term 44 Server1 start snapshot! index=279
term 44 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=284
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1455950756110755265 (index 285) to leader 2
term 44 server 2 not vote for server 0, 日志不够新
term 44 server 1 not vote for server 0, 日志不够新
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 1 vote for server 2
term 46 server 2 get vote from server 1
term 46 server 2 become leader
------------------------------------------------------
term 46 server 0 vote for server 2
term 46 server 2 get outdate rpc reply from server 0
flag 76687 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
flag 1362 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 46 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 286->285
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 286->285
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 44
------------------------------------------------------
flag 87815 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
term 46 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 44 rf.commitIndex 279 rf.lastApplied 279
term 46 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36101 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
flag 6813 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
flag 22743 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
flag 64822 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72031 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
flag 36343 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
flag 59352 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
flag 59433 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
flag 52371 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
flag 20946 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26986 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
flag 19707 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
flag 31019 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
flag 12250 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
flag 96766 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
flag 53027 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
flag 91464 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
flag 24654 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
flag 53832 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
flag 10327 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
flag 11803 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
flag 29142 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
flag 19185 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
flag 28948 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
flag 19039 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
flag 53296 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
flag 95562 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
flag 82369 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
flag 40865 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
flag 53864 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93617 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
flag 95174 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4860 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
flag 67007 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
term 46 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77156 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
flag 43309 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=284
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285}]
------------------------------------------------------
client write log 1455950756110755265 (index 286) to leader 2
flag 90426 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
flag 28446 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 44 leaderCommit: 284 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
term 46 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285} {1455950756110755265 46 286}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285} {1455950756110755265 46 286}]
------------------------------------------------------
flag 13656 term 46 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 33600 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285} {1455950756110755265 46 286}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285} {1455950756110755265 46 286}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68806 term 46 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 90795 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285} {1455950756110755265 46 286}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285} {1455950756110755265 46 286}]
------------------------------------------------------
flag 41319 term 46 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 31177 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285} {1455950756110755265 46 286}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285} {1455950756110755265 46 286}]
------------------------------------------------------
flag 36935 term 46 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 16517 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285} {1455950756110755265 46 286}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285} {1455950756110755265 46 286}]
------------------------------------------------------
flag 65499 term 46 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 50364 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285} {1455950756110755265 46 286}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285} {1455950756110755265 46 286}]
------------------------------------------------------
flag 34218 term 46 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 79551 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285} {1455950756110755265 46 286}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285} {1455950756110755265 46 286}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 18137 term 46 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 70675 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 90562 term 46 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 32703 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 46748 term 46 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 54791 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 4553 term 46 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 28329 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 47 server 1 vote for server 0
term 47 server 0 get vote from server 1
term 47 server 0 become leader
------------------------------------------------------
client write log 1183936082377488780 (index 287) to leader 0
flag 17811 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 13938 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285} {1455950756110755265 46 286} {1183936082377488780 47 287}]
------------------------------------------------------
flag 87545 term 46 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 66677 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 53731 term 47 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
flag 22546 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285} {1455950756110755265 46 286} {1183936082377488780 47 287}]
------------------------------------------------------
client write log 856303620548533396 (index 288) to leader 0
client write log 3808863524403849376 (index 289) to leader 0
client write log 8026244737810061558 (index 290) to leader 0
client write log 7042395886974154463 (index 291) to leader 0
client write log 7294779855590581874 (index 292) to leader 0
client write log 4123271446491553067 (index 293) to leader 0
client write log 3764699748924700901 (index 294) to leader 0
client write log 8295198902753495268 (index 295) to leader 0
client write log 8904676139491604551 (index 296) to leader 0
client write log 5967233781460401000 (index 297) to leader 0
flag 81044 term 46 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 53551 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 81417 term 47 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 47 leaderCommit: 287 
------------------------------------------------------
flag 77477 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 44 279} {3610873150938569819 44 280} {7641724837041539572 44 281} {5601261324380965220 44 282} {6529108882294998346 44 283} {5385150544626149421 44 284} {1455950756110755265 44 285} {1455950756110755265 46 286} {1183936082377488780 47 287} {856303620548533396 47 288} {3808863524403849376 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
term 47 Server0 start snapshot! index=289
term 47 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=297
-------------------------------------------------------------
flag 99222 term 46 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 86733 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 96109 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 0
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
term 47 Server1 start snapshot! index=289
term 47 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=297
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5469427606007867132 (index 287) to leader 2
flag 55520 term 46 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 91913 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 47 server 1 AppendEntries false 领导者任期过期 args.Term 46
------------------------------------------------------
term 47 server 0 AppendEntries false 领导者任期过期 args.Term 46
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47689 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 0
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 2 InstallSnapshot success
------------------------------------------------------
term 47 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 47 rf.commitIndex 289 rf.lastApplied 289
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
flag 68240 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 22024 term 47 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 47 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
term 47 server 2 not vote for server 0, 日志不够新
term 47 server 0 get outdate rpc reply from server 2
flag 42989 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 88021 term 47 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
flag 94934 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 48360 term 47 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
flag 2529 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 36398 term 47 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61650 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 6290 term 47 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
flag 60642 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 10845 term 47 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
flag 96811 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 75760 term 47 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
flag 3623 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 59946 term 47 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 298->297
------------------------------------------------------
flag 19177 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 leader 0 nextIndex[2]: 0  matchIndex[2]: 297
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 2 InstallSnapshot fail
rf.commitIndex 297 args.LastIncludedIndex 289
------------------------------------------------------
term 47 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 290->289
------------------------------------------------------
flag 54231 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 leader 0 nextIndex[2]: 0  matchIndex[2]: 289
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 2 InstallSnapshot fail
rf.commitIndex 297 args.LastIncludedIndex 289
------------------------------------------------------
term 47 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39067 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 35452 term 47 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 47 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
flag 10221 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 4954 term 47 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
flag 64964 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 12682 term 47 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
flag 93083 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 28515 term 47 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
flag 23999 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 56773 term 47 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48837 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 34857 term 47 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
flag 59351 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 49922 term 47 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62358 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 57490 term 47 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
flag 97848 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 8117 term 47 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297}]
------------------------------------------------------
client write log 5469427606007867132 (index 298) to leader 0
flag 72315 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 77825 term 47 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297} {5469427606007867132 47 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297} {5469427606007867132 47 298}]
------------------------------------------------------
flag 68386 term 47 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 47 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
flag 10966 term 47 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 47 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297} {5469427606007867132 47 298}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297} {5469427606007867132 47 298}]
------------------------------------------------------
flag 97089 term 47 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 47 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
flag 91277 term 47 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 47 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297} {5469427606007867132 47 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297} {5469427606007867132 47 298}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24155 term 47 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 47 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
flag 64268 term 47 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 47 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297} {5469427606007867132 47 298}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297} {5469427606007867132 47 298}]
------------------------------------------------------
flag 40658 term 47 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 47 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
flag 71623 term 47 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 47 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297} {5469427606007867132 47 298}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297} {5469427606007867132 47 298}]
------------------------------------------------------
flag 54633 term 47 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 47 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
flag 18678 term 47 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 47 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297} {5469427606007867132 47 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297} {5469427606007867132 47 298}]
------------------------------------------------------
flag 69749 term 47 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 47 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
flag 43303 term 47 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 47 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297} {5469427606007867132 47 298}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297} {5469427606007867132 47 298}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7785977456646669845 (index 299) to leader 0
flag 19548 term 47 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 47 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
flag 26400 term 47 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 47 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 47 leaderCommit: 298 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 47 289} {8026244737810061558 47 290} {7042395886974154463 47 291} {7294779855590581874 47 292} {4123271446491553067 47 293} {3764699748924700901 47 294} {8295198902753495268 47 295} {8904676139491604551 47 296} {5967233781460401000 47 297} {5469427606007867132 47 298} {7785977456646669845 47 299}]
------------------------------------------------------
term 47 Server0 start snapshot! index=299
term 47 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
term 47 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
flag 88192 term 47 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 47 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 47 leaderCommit: 299 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 47 299}]
------------------------------------------------------
term 47 Server2 start snapshot! index=299
term 47 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
client write log 3526789203470293606 (index 300) to leader 0
client write log 5904002575249742934 (index 301) to leader 0
client write log 1857014086989878169 (index 302) to leader 0
client write log 4373066607424390668 (index 303) to leader 0
client write log 6826618896012226707 (index 304) to leader 0
client write log 506215816556001042 (index 305) to leader 0
client write log 5278946277532976076 (index 306) to leader 0
client write log 3231385670680520996 (index 307) to leader 0
client write log 6919488918880034783 (index 308) to leader 0
term 47 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
flag 4529 term 47 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 47 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 47 leaderCommit: 299 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 309->308
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
term 47 leader 0 nextIndex[2]: 0  matchIndex[2]: 308
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 2 InstallSnapshot fail
rf.commitIndex 299 args.LastIncludedIndex 299
------------------------------------------------------
term 47 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
flag 8714 term 47 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 47 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308}]
------------------------------------------------------
!!!!!!connect server 1
client write log 4395526564684627392 (index 309) to leader 0
term 47 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
flag 37049 term 47 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
term 48 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 0 not vote for server 1, 日志不够新
term 49 server 2 vote for server 0
term 49 server 0 get vote from server 2
term 49 server 1 vote for server 0
term 49 server 0 become leader
------------------------------------------------------
term 49 server 0 get outdate rpc reply from server 1
flag 65721 term 49 leader 0 nextIndex[1]: 310  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
flag 38080 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
term 49 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 310->309
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 299  matchIndex[1]: 0
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
flag 56126 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
term 49 server 1 InstallSnapshot success
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 47 rf.commitIndex 299 rf.lastApplied 299
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
flag 24431 term 49 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 49 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
flag 29769 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71773 term 49 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
flag 13251 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
flag 29498 term 49 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
flag 89216 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
flag 96430 term 49 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
flag 54090 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
flag 28683 term 49 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
flag 9242 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
flag 12291 term 49 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
flag 80019 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
flag 57153 term 49 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
flag 57256 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
flag 2771 term 49 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
flag 37641 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41550 term 49 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
flag 60251 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
term 49 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53301 term 49 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
flag 5622 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99429 term 49 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
flag 76200 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
flag 15707 term 49 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
flag 55877 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87866 term 49 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
flag 23933 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
flag 16906 term 49 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
flag 63834 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
flag 36973 term 49 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
flag 72272 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
flag 63960 term 49 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
flag 4290 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77281 term 49 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
flag 12064 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309}]
------------------------------------------------------
client write log 4395526564684627392 (index 310) to leader 0
flag 48189 term 49 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
flag 63030 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 308 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309} {4395526564684627392 49 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 47 299} {3526789203470293606 47 300} {5904002575249742934 47 301} {1857014086989878169 47 302} {4373066607424390668 47 303} {6826618896012226707 47 304} {506215816556001042 47 305} {5278946277532976076 47 306} {3231385670680520996 47 307} {6919488918880034783 47 308} {4395526564684627392 47 309} {4395526564684627392 49 310}]
------------------------------------------------------
term 49 Server0 start snapshot! index=309
term 49 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=310
-------------------------------------------------------------
term 49 server 2 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89341 term 49 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 49 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 49 leaderCommit: 310 
------------------------------------------------------
flag 32433 term 49 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 49 leaderCommit: 310 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 47 309} {4395526564684627392 49 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 47 309} {4395526564684627392 49 310}]
------------------------------------------------------
term 49 Server2 start snapshot! index=309
term 49 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=310
-------------------------------------------------------------
term 49 Server1 start snapshot! index=309
term 49 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=310
-------------------------------------------------------------
flag 28767 term 49 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 49 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 49 leaderCommit: 310 
------------------------------------------------------
flag 49578 term 49 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 49 leaderCommit: 310 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 47 309} {4395526564684627392 49 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 47 309} {4395526564684627392 49 310}]
------------------------------------------------------
flag 41731 term 49 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 49 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 49 leaderCommit: 310 
------------------------------------------------------
flag 84879 term 49 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 49 leaderCommit: 310 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 47 309} {4395526564684627392 49 310}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 47 309} {4395526564684627392 49 310}]
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22732 term 49 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 49 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 49 leaderCommit: 310 
------------------------------------------------------
flag 90175 term 49 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 49 leaderCommit: 310 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 47 309} {4395526564684627392 49 310}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 47 309} {4395526564684627392 49 310}]
------------------------------------------------------
flag 95166 term 49 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 49 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 49 leaderCommit: 310 
------------------------------------------------------
flag 64852 term 49 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 49 leaderCommit: 310 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 47 309} {4395526564684627392 49 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 47 309} {4395526564684627392 49 310}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2950404998686146588 (index 311) to leader 0
flag 43142 term 49 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 49 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 49 leaderCommit: 310 
------------------------------------------------------
flag 72727 term 49 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 49 leaderCommit: 310 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 47 309} {4395526564684627392 49 310} {2950404998686146588 49 311}]
------------------------------------------------------
flag 94883 term 49 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 49 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 41019 term 49 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 47 309} {4395526564684627392 49 310} {2950404998686146588 49 311}]
------------------------------------------------------
client write log 8364860944554993753 (index 312) to leader 0
client write log 3113221574003458493 (index 313) to leader 0
client write log 4501001318831888940 (index 314) to leader 0
client write log 573051182489073481 (index 315) to leader 0
client write log 8289769715714392166 (index 316) to leader 0
client write log 5753340856422164249 (index 317) to leader 0
client write log 4911448749202485104 (index 318) to leader 0
client write log 8889039915708700482 (index 319) to leader 0
client write log 3898170367469874785 (index 320) to leader 0
client write log 4558820611460355936 (index 321) to leader 0
client write log 7710765983636191029 (index 322) to leader 0
client write log 8226537161198978017 (index 323) to leader 0
flag 36306 term 49 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 49 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 98359 term 49 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 47 309} {4395526564684627392 49 310} {2950404998686146588 49 311} {8364860944554993753 49 312} {3113221574003458493 49 313} {4501001318831888940 49 314} {573051182489073481 49 315} {8289769715714392166 49 316} {5753340856422164249 49 317} {4911448749202485104 49 318} {8889039915708700482 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323}]
------------------------------------------------------
term 49 Server0 start snapshot! index=319
term 49 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=323
-------------------------------------------------------------
term 49 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
flag 72599 term 49 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 49 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323}]
------------------------------------------------------
term 49 Server2 start snapshot! index=319
term 49 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=323
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2426808296480071168 (index 324) to leader 0
term 49 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
flag 73950 term 49 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 49 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324}]
------------------------------------------------------
term 50 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 2 vote for server 0
term 51 server 1 vote for server 0
term 51 server 0 get vote from server 2
term 51 server 0 become leader
------------------------------------------------------
term 51 server 0 get outdate rpc reply from server 1
flag 41959 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 84594 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 325->324
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324}]
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 311  matchIndex[1]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
flag 3935 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 1 InstallSnapshot success
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 49 rf.commitIndex 319 rf.lastApplied 319
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22252 term 51 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 53580 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324}]
------------------------------------------------------
flag 62350 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 44051 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23804 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 81048 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65046 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 5596 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324}]
------------------------------------------------------
flag 25900 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 60581 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324}]
------------------------------------------------------
flag 15568 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 15352 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 94062 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 92686 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 25408 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 44157 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 88419 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 20839 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 49524 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 58216 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 52 server 1 vote for server 2
term 52 server 2 get vote from server 1
term 52 server 2 become leader
------------------------------------------------------
client write log 520301622052041561 (index 325) to leader 2
flag 1286 term 52 leader 2 nextIndex[0]: 325  matchIndex[0]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 96486 term 52 leader 2 nextIndex[1]: 325  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325}]
------------------------------------------------------
flag 83929 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 20326 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 6687 term 52 leader 2 nextIndex[0]: 325  matchIndex[0]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 1331 term 52 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 52 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 52 leaderCommit: 325 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325}]
------------------------------------------------------
client write log 2031820020243029027 (index 326) to leader 2
flag 93846 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 46091 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 325->324
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
flag 82176 term 52 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 52 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 52 leaderCommit: 325 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325} {2031820020243029027 52 326}]
------------------------------------------------------
flag 47575 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 66443 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 325->324
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
flag 52017 term 52 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 52 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325} {2031820020243029027 52 326}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6519710330537406466 (index 327) to leader 2
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 leader 0 nextIndex[1]: 0  matchIndex[1]: 324
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
flag 53108 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 52 server 2 AppendEntries false 领导者任期过期 args.Term 51
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 52 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 52 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 52 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
flag 87102 term 52 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 52 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 52 leaderCommit: 326 
------------------------------------------------------
term 52 server 0 InstallSnapshot fail
rf.commitIndex 324 args.LastIncludedIndex 319
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325} {2031820020243029027 52 326} {6519710330537406466 52 327}]
------------------------------------------------------
flag 60396 term 52 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 52 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 49 leaderCommit: 327 
------------------------------------------------------
flag 2037 term 52 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325} {2031820020243029027 52 326} {6519710330537406466 52 327}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325} {2031820020243029027 52 326} {6519710330537406466 52 327}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72092 term 52 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 8539 term 52 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325} {2031820020243029027 52 326} {6519710330537406466 52 327}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325} {2031820020243029027 52 326} {6519710330537406466 52 327}]
------------------------------------------------------
flag 23331 term 52 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 19181 term 52 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325} {2031820020243029027 52 326} {6519710330537406466 52 327}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325} {2031820020243029027 52 326} {6519710330537406466 52 327}]
------------------------------------------------------
flag 91856 term 52 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 74026 term 52 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325} {2031820020243029027 52 326} {6519710330537406466 52 327}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325} {2031820020243029027 52 326} {6519710330537406466 52 327}]
------------------------------------------------------
flag 23665 term 52 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 61355 term 52 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325} {2031820020243029027 52 326} {6519710330537406466 52 327}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325} {2031820020243029027 52 326} {6519710330537406466 52 327}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59540 term 52 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 21424 term 52 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325} {2031820020243029027 52 326} {6519710330537406466 52 327}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325} {2031820020243029027 52 326} {6519710330537406466 52 327}]
------------------------------------------------------
flag 27996 term 52 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 44090 term 52 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325} {2031820020243029027 52 326} {6519710330537406466 52 327}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325} {2031820020243029027 52 326} {6519710330537406466 52 327}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 430192732076541882 (index 328) to leader 2
flag 43120 term 52 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 43144 term 52 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325} {2031820020243029027 52 326} {6519710330537406466 52 327} {430192732076541882 52 328}]
------------------------------------------------------
flag 71100 term 52 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 7039 term 52 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 52 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325} {2031820020243029027 52 326} {6519710330537406466 52 327} {430192732076541882 52 328}]
------------------------------------------------------
client write log 7569418569243381115 (index 329) to leader 2
client write log 3557561669197739903 (index 330) to leader 2
client write log 6936322619052601514 (index 331) to leader 2
client write log 1670282339933914692 (index 332) to leader 2
client write log 3459301192113842910 (index 333) to leader 2
client write log 7843222177075120960 (index 334) to leader 2
client write log 6318312612884302459 (index 335) to leader 2
client write log 7080808919950637452 (index 336) to leader 2
client write log 3774623963453826244 (index 337) to leader 2
client write log 2795230757081908834 (index 338) to leader 2
client write log 8274560222848592010 (index 339) to leader 2
client write log 1318679798090771652 (index 340) to leader 2
flag 84551 term 52 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 54424 term 52 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 52 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 49 319} {3898170367469874785 49 320} {4558820611460355936 49 321} {7710765983636191029 49 322} {8226537161198978017 49 323} {2426808296480071168 49 324} {520301622052041561 52 325} {2031820020243029027 52 326} {6519710330537406466 52 327} {430192732076541882 52 328} {7569418569243381115 52 329} {3557561669197739903 52 330} {6936322619052601514 52 331} {1670282339933914692 52 332} {3459301192113842910 52 333} {7843222177075120960 52 334} {6318312612884302459 52 335} {7080808919950637452 52 336} {3774623963453826244 52 337} {2795230757081908834 52 338} {8274560222848592010 52 339} {1318679798090771652 52 340}]
------------------------------------------------------
term 52 Server2 start snapshot! index=329
term 52 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=340
-------------------------------------------------------------
term 52 Server2 start snapshot! index=339
term 52 server2 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=340
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 52
------------------------------------------------------
flag 63189 term 52 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 52 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340}]
------------------------------------------------------
term 52 Server1 start snapshot! index=329
term 52 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=340
-------------------------------------------------------------
term 52 Server1 start snapshot! index=339
term 52 server1 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=340
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3845428686038612818 (index 341) to leader 2
term 52 server 2 not vote for server 0, 日志不够新
term 52 server 1 not vote for server 0, 日志不够新
term 54 server 1 vote for server 2
term 54 server 2 get vote from server 1
term 54 server 2 become leader
------------------------------------------------------
term 54 server 0 vote for server 2
term 54 server 2 get outdate rpc reply from server 0
flag 45051 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
flag 558 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 54 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 342->341
------------------------------------------------------
term 54 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 342->341
------------------------------------------------------
term 54 leader 2 nextIndex[0]: 328  matchIndex[0]: 0
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 52
------------------------------------------------------
flag 48841 term 54 leader 2 nextIndex[1]: 341  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
term 54 server 0 InstallSnapshot success
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 340 matchIndex[0] 339 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 52 rf.commitIndex 339 rf.lastApplied 339
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 server 0 not vote for server 1, 任期不够新
term 54 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44064 term 54 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 54 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
flag 89559 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75095 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
flag 64501 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
flag 38873 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
flag 60807 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
flag 80645 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
flag 25073 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
flag 41685 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
flag 58318 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
flag 58781 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
flag 51985 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
flag 84431 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
flag 93175 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
flag 31205 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
flag 59992 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
flag 64277 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
flag 92437 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
flag 33739 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
flag 41652 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71777 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
flag 28945 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31114 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
flag 38744 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
flag 59992 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
flag 92173 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
flag 8527 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
flag 61382 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
flag 45037 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
flag 82063 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27044 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
flag 24101 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2470 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
flag 76597 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341}]
------------------------------------------------------
client write log 3845428686038612818 (index 342) to leader 2
flag 98636 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
flag 6693 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 340 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341} {3845428686038612818 54 342}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341} {3845428686038612818 54 342}]
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15654 term 54 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 11702 term 54 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341} {3845428686038612818 54 342}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341} {3845428686038612818 54 342}]
------------------------------------------------------
flag 17660 term 54 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 26599 term 54 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341} {3845428686038612818 54 342}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341} {3845428686038612818 54 342}]
------------------------------------------------------
flag 23620 term 54 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 99409 term 54 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341} {3845428686038612818 54 342}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341} {3845428686038612818 54 342}]
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20987 term 54 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 90811 term 54 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341} {3845428686038612818 54 342}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341} {3845428686038612818 54 342}]
------------------------------------------------------
flag 4580 term 54 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 48032 term 54 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341} {3845428686038612818 54 342}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341} {3845428686038612818 54 342}]
------------------------------------------------------
flag 60278 term 54 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 37471 term 54 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341} {3845428686038612818 54 342}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {1318679798090771652 52 340} {3845428686038612818 52 341} {3845428686038612818 54 342}]
------------------------------------------------------
  ... Passed --  82.2  3 1861  816147  342
--- PASS: TestSnapshotInstall2D (82.23s)
PASS
