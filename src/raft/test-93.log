=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 0 vote for server 1
term 1 server 1 get vote from server 0
term 1 server 1 become leader
------------------------------------------------------
term 1 server 2 vote for server 1
term 1 server 1 get outdate rpc reply from server 2
flag 76137 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 21116 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 140264354025614965 (index 1) to leader 1
flag 69397 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 66078 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {140264354025614965 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {140264354025614965 1 1}]
------------------------------------------------------
flag 59652 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 79486 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {140264354025614965 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {140264354025614965 1 1}]
------------------------------------------------------
flag 95299 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 51379 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {140264354025614965 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {140264354025614965 1 1}]
------------------------------------------------------
flag 75774 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 33190 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {140264354025614965 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {140264354025614965 1 1}]
------------------------------------------------------
flag 74630 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 45973 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {140264354025614965 1 1}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {140264354025614965 1 1}]
------------------------------------------------------
flag 91584 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 27855 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {140264354025614965 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {140264354025614965 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 985462314285020717 (index 2) to leader 1
flag 98480 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 59425 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {140264354025614965 1 1} {985462314285020717 1 2}]
------------------------------------------------------
flag 80792 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 73122 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {140264354025614965 1 1} {985462314285020717 1 2}]
------------------------------------------------------
client write log 3004662990930914162 (index 3) to leader 1
client write log 4390123971759875467 (index 4) to leader 1
client write log 6655391735693771697 (index 5) to leader 1
client write log 403208662309277020 (index 6) to leader 1
client write log 8198552681997053702 (index 7) to leader 1
client write log 5180547335774066872 (index 8) to leader 1
client write log 6933464464250396960 (index 9) to leader 1
client write log 6154955368197059381 (index 10) to leader 1
client write log 7385035014966414763 (index 11) to leader 1
flag 12950 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 93676 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{<nil> 0 0} {140264354025614965 1 1} {985462314285020717 1 2} {3004662990930914162 1 3} {4390123971759875467 1 4} {6655391735693771697 1 5} {403208662309277020 1 6} {8198552681997053702 1 7} {5180547335774066872 1 8} {6933464464250396960 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
flag 92522 term 1 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 1 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8887029303053857690 (index 12) to leader 1
term 1 server 0 not vote for server 2, 日志不够新
term 1 server 1 not vote for server 2, 日志不够新
term 3 server 2 vote for server 1
term 3 server 0 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 1 get outdate rpc reply from server 0
flag 76605 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 81982 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 13->12
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 13->12
------------------------------------------------------
flag 44993 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 14990 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 46234 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
flag 51525 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 35338 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58963 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 55618 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
flag 96948 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 93086 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37596 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 8342 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
flag 3971 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 57018 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
flag 59944 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 57112 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
flag 97860 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 68946 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
flag 32198 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 8921 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
flag 90102 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 30541 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
flag 18198 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 62452 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
flag 54418 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 3070 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
flag 36734 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 64451 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
flag 27271 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 17798 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
flag 57734 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 34863 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
flag 74814 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 79346 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
flag 40361 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 40444 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
flag 13087 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 3208 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12}]
------------------------------------------------------
client write log 8887029303053857690 (index 13) to leader 1
flag 55779 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 27227 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13}]
------------------------------------------------------
flag 92011 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 70977 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41281 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 50186 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13}]
------------------------------------------------------
flag 57054 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 10998 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13}]
------------------------------------------------------
flag 84439 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 51972 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13}]
------------------------------------------------------
flag 95927 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 26475 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13}]
------------------------------------------------------
flag 68679 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 88778 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 83884 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 15280 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 67657 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 26279 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 32221 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 86328 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 24307 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 29813 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 vote for server 0
term 4 server 0 get vote from server 2
term 4 server 0 become leader
------------------------------------------------------
flag 88827 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 41771 term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13}]
------------------------------------------------------
client write log 2027044395673294746 (index 14) to leader 0
flag 56335 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 98004 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 89262 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 53972 term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14}]
------------------------------------------------------
flag 28988 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 46689 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 61200 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 94735 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14}]
------------------------------------------------------
client write log 4076182928388642611 (index 15) to leader 0
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 14->13
------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 13
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 40759 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 17150 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 97104 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 13
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 87158 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 2771 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 32976 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7216769869849667292 (index 14) to leader 1
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 13
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 70134 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30175 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 70777 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 16->15
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 15
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 94514 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 14 args.LastIncludedIndex 9
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
flag 71778 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 25923 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
flag 76112 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 28914 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
flag 59862 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 57648 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49298 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 97950 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26499 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 70633 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
flag 59318 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 75859 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
flag 7220 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 55952 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 16->15
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 15
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 53366 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 15 args.LastIncludedIndex 9
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 10->9
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 9
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 65675 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 15 args.LastIncludedIndex 9
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
flag 16634 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 66446 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
flag 59895 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 84292 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55611 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 28298 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
flag 47013 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 76526 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
flag 13876 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 57000 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
flag 88842 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 42757 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
flag 36871 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 34026 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
flag 61818 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 59654 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
flag 95364 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 11056 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15}]
------------------------------------------------------
client write log 7216769869849667292 (index 16) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 16->15
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 15
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 84460 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15} {7216769869849667292 4 16}]
term 4 server 1 InstallSnapshot fail
rf.commitIndex 15 args.LastIncludedIndex 9
------------------------------------------------------
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
flag 15365 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 10305 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15} {7216769869849667292 4 16}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15} {7216769869849667292 4 16}]
------------------------------------------------------
flag 76668 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 57961 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15} {7216769869849667292 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15} {7216769869849667292 4 16}]
------------------------------------------------------
flag 57688 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 69092 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15} {7216769869849667292 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15} {7216769869849667292 4 16}]
------------------------------------------------------
flag 88153 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 11949 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15} {7216769869849667292 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15} {7216769869849667292 4 16}]
------------------------------------------------------
flag 83259 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 54389 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15} {7216769869849667292 4 16}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15} {7216769869849667292 4 16}]
------------------------------------------------------
flag 51127 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 70978 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15} {7216769869849667292 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15} {7216769869849667292 4 16}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3822309898321290373 (index 17) to leader 0
flag 92632 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 66708 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15} {7216769869849667292 4 16} {3822309898321290373 4 17}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98529 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 22676 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15} {7216769869849667292 4 16} {3822309898321290373 4 17}]
------------------------------------------------------
client write log 8504755632786736945 (index 18) to leader 0
client write log 2912894303004886713 (index 19) to leader 0
client write log 1658334907240197833 (index 20) to leader 0
client write log 2730367505775426396 (index 21) to leader 0
client write log 9075297864804630096 (index 22) to leader 0
client write log 3934026674266417617 (index 23) to leader 0
client write log 6017661894447388920 (index 24) to leader 0
client write log 7539085370722994253 (index 25) to leader 0
client write log 6337277861212426837 (index 26) to leader 0
client write log 1789569693675256635 (index 27) to leader 0
client write log 4459180415100215243 (index 28) to leader 0
client write log 2386084876990935467 (index 29) to leader 0
client write log 500883243554263903 (index 30) to leader 0
client write log 907783195205014043 (index 31) to leader 0
flag 59506 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 50593 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 1 9} {6154955368197059381 1 10} {7385035014966414763 1 11} {8887029303053857690 1 12} {8887029303053857690 3 13} {2027044395673294746 4 14} {4076182928388642611 4 15} {7216769869849667292 4 16} {3822309898321290373 4 17} {8504755632786736945 4 18} {2912894303004886713 4 19} {1658334907240197833 4 20} {2730367505775426396 4 21} {9075297864804630096 4 22} {3934026674266417617 4 23} {6017661894447388920 4 24} {7539085370722994253 4 25} {6337277861212426837 4 26} {1789569693675256635 4 27} {4459180415100215243 4 28} {2386084876990935467 4 29} {500883243554263903 4 30} {907783195205014043 4 31}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=31
-------------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=31
-------------------------------------------------------------
term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 27256 term 4 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 4 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {500883243554263903 4 30} {907783195205014043 4 31}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=31
-------------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=31
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2676085724248009170 (index 32) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 14784 term 4 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 4 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {500883243554263903 4 30} {907783195205014043 4 31} {2676085724248009170 4 32}]
------------------------------------------------------
term 5 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 2 vote for server 0
term 6 server 1 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 0 get outdate rpc reply from server 1
flag 17837 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 19955 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {500883243554263903 4 30} {907783195205014043 4 31} {2676085724248009170 4 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 33->32
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 17  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 12413 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {500883243554263903 4 30} {907783195205014043 4 31} {2676085724248009170 4 32}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
term 6 server 1 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 1
flag 41463 term 6 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 11344 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {500883243554263903 4 30} {907783195205014043 4 31} {2676085724248009170 4 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {500883243554263903 4 30} {907783195205014043 4 31} {2676085724248009170 4 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55911 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 80400 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {500883243554263903 4 30} {907783195205014043 4 31} {2676085724248009170 4 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {500883243554263903 4 30} {907783195205014043 4 31} {2676085724248009170 4 32}]
------------------------------------------------------
flag 32255 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 72396 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {500883243554263903 4 30} {907783195205014043 4 31} {2676085724248009170 4 32}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {500883243554263903 4 30} {907783195205014043 4 31} {2676085724248009170 4 32}]
------------------------------------------------------
flag 47522 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 34010 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {500883243554263903 4 30} {907783195205014043 4 31} {2676085724248009170 4 32}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {500883243554263903 4 30} {907783195205014043 4 31} {2676085724248009170 4 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53874 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 58249 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {500883243554263903 4 30} {907783195205014043 4 31} {2676085724248009170 4 32}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {500883243554263903 4 30} {907783195205014043 4 31} {2676085724248009170 4 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84233 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 25699 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {500883243554263903 4 30} {907783195205014043 4 31} {2676085724248009170 4 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {500883243554263903 4 30} {907783195205014043 4 31} {2676085724248009170 4 32}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 9018566922877362491 (index 33) to leader 0
flag 30181 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 49599 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {500883243554263903 4 30} {907783195205014043 4 31} {2676085724248009170 4 32} {9018566922877362491 6 33}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87560 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 47238 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {500883243554263903 4 30} {907783195205014043 4 31} {2676085724248009170 4 32} {9018566922877362491 6 33}]
------------------------------------------------------
client write log 5313725428474542535 (index 34) to leader 0
client write log 7939558213145789996 (index 35) to leader 0
client write log 6743884041965737223 (index 36) to leader 0
client write log 1794101543993829621 (index 37) to leader 0
client write log 5485056728615422584 (index 38) to leader 0
client write log 7325979587413050039 (index 39) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17505 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 34710 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 29} {500883243554263903 4 30} {907783195205014043 4 31} {2676085724248009170 4 32} {9018566922877362491 6 33} {5313725428474542535 6 34} {7939558213145789996 6 35} {6743884041965737223 6 36} {1794101543993829621 6 37} {5485056728615422584 6 38} {7325979587413050039 6 39}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 65195 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5299295576979668920 (index 40) to leader 0
term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 86706 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 7 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 1 vote for server 0
term 8 server 0 get outdate rpc reply from server 1
flag 96967 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 38877 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 41->40
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 33  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 69023 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
term 8 server 1 InstallSnapshot success
------------------------------------------------------
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
flag 23843 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 24432 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
term 8 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35156 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 50998 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
flag 61580 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 5817 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
flag 80057 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 98808 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
flag 5482 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 20216 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
flag 3681 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 96872 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
flag 36120 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 81181 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
flag 60857 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 50033 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
flag 59321 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 96291 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
flag 92474 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 472 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
flag 30268 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 54894 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
flag 36426 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 31423 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
flag 9592 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 46055 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
flag 41516 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 45367 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
flag 44649 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 68251 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
flag 13643 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 38393 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92458 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 47025 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {5299295576979668920 6 40}]
------------------------------------------------------
client write log 5299295576979668920 (index 41) to leader 0
flag 33107 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 72151 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41}]
------------------------------------------------------
flag 36633 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 90766 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41}]
------------------------------------------------------
flag 96875 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 9838 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41}]
------------------------------------------------------
flag 174 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 92399 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41}]
------------------------------------------------------
flag 65740 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 68838 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41}]
------------------------------------------------------
flag 74491 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 26761 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 47014 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 98439 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 80798 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 18884 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 13186 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 32515 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 9 server 1 vote for server 2
term 9 server 2 get vote from server 1
term 9 server 2 become leader
------------------------------------------------------
flag 72121 term 9 leader 2 nextIndex[0]: 42  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 59822 term 9 leader 2 nextIndex[1]: 42  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41}]
------------------------------------------------------
client write log 1804706466249231494 (index 42) to leader 2
flag 50274 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 11327 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 94865 term 9 leader 2 nextIndex[0]: 42  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 32461 term 9 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 9 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41} {1804706466249231494 9 42}]
------------------------------------------------------
flag 44112 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 12683 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 745 term 9 leader 2 nextIndex[0]: 42  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 31577 term 9 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41} {1804706466249231494 9 42}]
------------------------------------------------------
flag 26066 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 656 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
client write log 3182466457665269669 (index 43) to leader 2
flag 75222 term 9 leader 2 nextIndex[0]: 42  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 70152 term 9 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41} {1804706466249231494 9 42} {3182466457665269669 9 43}]
------------------------------------------------------
flag 67227 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 46903 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 16001 term 9 leader 2 nextIndex[0]: 42  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 59745 term 9 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41} {1804706466249231494 9 42} {3182466457665269669 9 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 42->41
------------------------------------------------------
term 9 server 2 not vote for server 1, 任期不够新
term 9 server 1 get outdate rpc reply from server 2
!!!!!!connect server 0
client write log 8319053267457082469 (index 44) to leader 2
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 44188 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 9 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64117 term 9 leader 2 nextIndex[0]: 42  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 40375 term 9 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41} {1804706466249231494 9 42} {3182466457665269669 9 43} {8319053267457082469 9 44}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41} {1804706466249231494 9 42} {3182466457665269669 9 43} {8319053267457082469 9 44}]
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95423 term 9 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 52285 term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41} {1804706466249231494 9 42} {3182466457665269669 9 43} {8319053267457082469 9 44}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41} {1804706466249231494 9 42} {3182466457665269669 9 43} {8319053267457082469 9 44}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9642 term 9 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 17976 term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41} {1804706466249231494 9 42} {3182466457665269669 9 43} {8319053267457082469 9 44}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41} {1804706466249231494 9 42} {3182466457665269669 9 43} {8319053267457082469 9 44}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72733 term 9 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 59854 term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41} {1804706466249231494 9 42} {3182466457665269669 9 43} {8319053267457082469 9 44}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41} {1804706466249231494 9 42} {3182466457665269669 9 43} {8319053267457082469 9 44}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63629 term 9 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 98425 term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41} {1804706466249231494 9 42} {3182466457665269669 9 43} {8319053267457082469 9 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41} {1804706466249231494 9 42} {3182466457665269669 9 43} {8319053267457082469 9 44}]
------------------------------------------------------
flag 50543 term 9 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 20420 term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41} {1804706466249231494 9 42} {3182466457665269669 9 43} {8319053267457082469 9 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41} {1804706466249231494 9 42} {3182466457665269669 9 43} {8319053267457082469 9 44}]
------------------------------------------------------
term 9 server 0 not vote for server 1, 任期不够新
term 9 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49218 term 9 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 66792 term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41} {1804706466249231494 9 42} {3182466457665269669 9 43} {8319053267457082469 9 44}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41} {1804706466249231494 9 42} {3182466457665269669 9 43} {8319053267457082469 9 44}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3496454962374154730 (index 45) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 45->44
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 44
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 89353 term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41} {1804706466249231494 9 42} {3182466457665269669 9 43} {8319053267457082469 9 44} {3496454962374154730 9 45}]
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 44
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 78493 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41} {1804706466249231494 9 42} {3182466457665269669 9 43} {8319053267457082469 9 44} {3496454962374154730 9 45}]
------------------------------------------------------
client write log 108105423087005059 (index 46) to leader 2
client write log 4611910615521778379 (index 47) to leader 2
client write log 8414719707378204332 (index 48) to leader 2
client write log 4222242620546055482 (index 49) to leader 2
client write log 3317599189211990451 (index 50) to leader 2
client write log 5533697058247311750 (index 51) to leader 2
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 44
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 80293 term 9 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 39} {5299295576979668920 6 40} {5299295576979668920 8 41} {1804706466249231494 9 42} {3182466457665269669 9 43} {8319053267457082469 9 44} {3496454962374154730 9 45} {108105423087005059 9 46} {4611910615521778379 9 47} {8414719707378204332 9 48} {4222242620546055482 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=51
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 44
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 66350 term 9 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 9 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=51
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5493191131942774741 (index 52) to leader 2
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 44
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 61390 term 9 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 9 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 10 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 1 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
term 11 server 0 vote for server 2
term 11 server 2 get outdate rpc reply from server 0
flag 87701 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 970 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 53->52
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 45  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 78865 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 0 InstallSnapshot success
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
term 11 server 0 not vote for server 2, 任期不够新
term 11 server 2 get outdate rpc reply from server 0
flag 14078 term 11 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 11 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 89268 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
flag 53303 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 55527 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
flag 29559 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 41935 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40469 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 94640 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58525 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 509 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
flag 20451 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 84038 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
flag 4399 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 43298 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18671 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 54590 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72210 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 62195 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
flag 90297 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 76995 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64219 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 15161 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
flag 39964 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 89215 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27683 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 3523 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
flag 55180 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 14225 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
flag 76380 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 62071 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
term 11 server 2 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 2
term 11 server 1 not vote for server 0, 任期不够新
term 11 server 0 get outdate rpc reply from server 1
flag 41984 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 5925 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72568 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 23761 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52}]
------------------------------------------------------
client write log 5493191131942774741 (index 53) to leader 2
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38682 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 1504 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52} {5493191131942774741 11 53}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52} {5493191131942774741 11 53}]
------------------------------------------------------
flag 20309 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 6334 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52} {5493191131942774741 11 53}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52} {5493191131942774741 11 53}]
------------------------------------------------------
flag 12879 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 12450 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52} {5493191131942774741 11 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52} {5493191131942774741 11 53}]
------------------------------------------------------
flag 89964 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 94494 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52} {5493191131942774741 11 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52} {5493191131942774741 11 53}]
------------------------------------------------------
flag 45447 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 60738 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52} {5493191131942774741 11 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52} {5493191131942774741 11 53}]
------------------------------------------------------
flag 77138 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 18377 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52} {5493191131942774741 11 53}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52} {5493191131942774741 11 53}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13904 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 78262 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52} {5493191131942774741 11 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52} {5493191131942774741 11 53}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 407830338285196993 (index 54) to leader 2
flag 92836 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 39445 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52} {5493191131942774741 11 53} {407830338285196993 11 54}]
------------------------------------------------------
flag 26782 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 18957 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52} {5493191131942774741 11 53} {407830338285196993 11 54}]
------------------------------------------------------
client write log 6880916002276413351 (index 55) to leader 2
client write log 6098796530585538086 (index 56) to leader 2
client write log 5716671581628588522 (index 57) to leader 2
client write log 5440988060757713553 (index 58) to leader 2
client write log 2894041863312080007 (index 59) to leader 2
client write log 6924554036518511231 (index 60) to leader 2
client write log 9129907635924265468 (index 61) to leader 2
client write log 5994014591003568678 (index 62) to leader 2
client write log 8938134931929172014 (index 63) to leader 2
client write log 4180976559516701044 (index 64) to leader 2
client write log 3360339713269517217 (index 65) to leader 2
client write log 8779373088532720609 (index 66) to leader 2
flag 6820 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 66741 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 49} {3317599189211990451 9 50} {5533697058247311750 9 51} {5493191131942774741 9 52} {5493191131942774741 11 53} {407830338285196993 11 54} {6880916002276413351 11 55} {6098796530585538086 11 56} {5716671581628588522 11 57} {5440988060757713553 11 58} {2894041863312080007 11 59} {6924554036518511231 11 60} {9129907635924265468 11 61} {5994014591003568678 11 62} {8938134931929172014 11 63} {4180976559516701044 11 64} {3360339713269517217 11 65} {8779373088532720609 11 66}]
------------------------------------------------------
term 11 Server2 start snapshot! index=59
term 11 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=66
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 6678 term 11 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 11 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {6924554036518511231 11 60} {9129907635924265468 11 61} {5994014591003568678 11 62} {8938134931929172014 11 63} {4180976559516701044 11 64} {3360339713269517217 11 65} {8779373088532720609 11 66}]
------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=66
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7496394024092192119 (index 67) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 70153 term 11 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 11 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
term 12 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {6924554036518511231 11 60} {9129907635924265468 11 61} {5994014591003568678 11 62} {8938134931929172014 11 63} {4180976559516701044 11 64} {3360339713269517217 11 65} {8779373088532720609 11 66} {7496394024092192119 11 67}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 1 vote for server 2
term 13 server 0 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 2 get outdate rpc reply from server 0
flag 46391 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 68018 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {6924554036518511231 11 60} {9129907635924265468 11 61} {5994014591003568678 11 62} {8938134931929172014 11 63} {4180976559516701044 11 64} {3360339713269517217 11 65} {8779373088532720609 11 66} {7496394024092192119 11 67}]
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 68->67
------------------------------------------------------
term 13 server 2 not vote for server 0, 任期不够新
term 13 server 0 get outdate rpc reply from server 2
term 13 leader 2 nextIndex[0]: 54  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 50334 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {6924554036518511231 11 60} {9129907635924265468 11 61} {5994014591003568678 11 62} {8938134931929172014 11 63} {4180976559516701044 11 64} {3360339713269517217 11 65} {8779373088532720609 11 66} {7496394024092192119 11 67}]
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 11 rf.commitIndex 59 rf.lastApplied 59
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67960 term 13 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 13 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 54042 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {6924554036518511231 11 60} {9129907635924265468 11 61} {5994014591003568678 11 62} {8938134931929172014 11 63} {4180976559516701044 11 64} {3360339713269517217 11 65} {8779373088532720609 11 66} {7496394024092192119 11 67}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {6924554036518511231 11 60} {9129907635924265468 11 61} {5994014591003568678 11 62} {8938134931929172014 11 63} {4180976559516701044 11 64} {3360339713269517217 11 65} {8779373088532720609 11 66} {7496394024092192119 11 67}]
------------------------------------------------------
flag 45374 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 22010 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {6924554036518511231 11 60} {9129907635924265468 11 61} {5994014591003568678 11 62} {8938134931929172014 11 63} {4180976559516701044 11 64} {3360339713269517217 11 65} {8779373088532720609 11 66} {7496394024092192119 11 67}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {6924554036518511231 11 60} {9129907635924265468 11 61} {5994014591003568678 11 62} {8938134931929172014 11 63} {4180976559516701044 11 64} {3360339713269517217 11 65} {8779373088532720609 11 66} {7496394024092192119 11 67}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71396 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 25130 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {6924554036518511231 11 60} {9129907635924265468 11 61} {5994014591003568678 11 62} {8938134931929172014 11 63} {4180976559516701044 11 64} {3360339713269517217 11 65} {8779373088532720609 11 66} {7496394024092192119 11 67}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {6924554036518511231 11 60} {9129907635924265468 11 61} {5994014591003568678 11 62} {8938134931929172014 11 63} {4180976559516701044 11 64} {3360339713269517217 11 65} {8779373088532720609 11 66} {7496394024092192119 11 67}]
------------------------------------------------------
flag 14011 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 56634 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {6924554036518511231 11 60} {9129907635924265468 11 61} {5994014591003568678 11 62} {8938134931929172014 11 63} {4180976559516701044 11 64} {3360339713269517217 11 65} {8779373088532720609 11 66} {7496394024092192119 11 67}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {6924554036518511231 11 60} {9129907635924265468 11 61} {5994014591003568678 11 62} {8938134931929172014 11 63} {4180976559516701044 11 64} {3360339713269517217 11 65} {8779373088532720609 11 66} {7496394024092192119 11 67}]
------------------------------------------------------
flag 19772 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 69226 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {6924554036518511231 11 60} {9129907635924265468 11 61} {5994014591003568678 11 62} {8938134931929172014 11 63} {4180976559516701044 11 64} {3360339713269517217 11 65} {8779373088532720609 11 66} {7496394024092192119 11 67}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {6924554036518511231 11 60} {9129907635924265468 11 61} {5994014591003568678 11 62} {8938134931929172014 11 63} {4180976559516701044 11 64} {3360339713269517217 11 65} {8779373088532720609 11 66} {7496394024092192119 11 67}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87461 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 7197 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {6924554036518511231 11 60} {9129907635924265468 11 61} {5994014591003568678 11 62} {8938134931929172014 11 63} {4180976559516701044 11 64} {3360339713269517217 11 65} {8779373088532720609 11 66} {7496394024092192119 11 67}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {6924554036518511231 11 60} {9129907635924265468 11 61} {5994014591003568678 11 62} {8938134931929172014 11 63} {4180976559516701044 11 64} {3360339713269517217 11 65} {8779373088532720609 11 66} {7496394024092192119 11 67}]
------------------------------------------------------
!!!!!!diconnect server 2
term 13 server 0 not vote for server 1, 任期不够新
term 13 server 1 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44318 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 5948 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 55935 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 42858 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53750 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 11611 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 14 server 1 vote for server 0
term 14 server 0 get vote from server 1
term 14 server 0 become leader
------------------------------------------------------
client write log 4838633260313746963 (index 68) to leader 0
flag 31836 term 14 leader 0 nextIndex[1]: 68  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 84308 term 14 leader 0 nextIndex[2]: 68  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {6924554036518511231 11 60} {9129907635924265468 11 61} {5994014591003568678 11 62} {8938134931929172014 11 63} {4180976559516701044 11 64} {3360339713269517217 11 65} {8779373088532720609 11 66} {7496394024092192119 11 67} {4838633260313746963 14 68}]
------------------------------------------------------
flag 8205 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 81455 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 56952 term 14 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 63787 term 14 leader 0 nextIndex[2]: 68  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {6924554036518511231 11 60} {9129907635924265468 11 61} {5994014591003568678 11 62} {8938134931929172014 11 63} {4180976559516701044 11 64} {3360339713269517217 11 65} {8779373088532720609 11 66} {7496394024092192119 11 67} {4838633260313746963 14 68}]
------------------------------------------------------
client write log 7951102971012720177 (index 69) to leader 0
client write log 8562612659197241390 (index 70) to leader 0
client write log 833150524923805594 (index 71) to leader 0
client write log 1840060944971270994 (index 72) to leader 0
client write log 154234509613701886 (index 73) to leader 0
client write log 9157691704920932789 (index 74) to leader 0
flag 63655 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 66965 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 32613 term 14 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 97554 term 14 leader 0 nextIndex[2]: 68  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 59} {6924554036518511231 11 60} {9129907635924265468 11 61} {5994014591003568678 11 62} {8938134931929172014 11 63} {4180976559516701044 11 64} {3360339713269517217 11 65} {8779373088532720609 11 66} {7496394024092192119 11 67} {4838633260313746963 14 68} {7951102971012720177 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
term 14 Server0 start snapshot! index=69
term 14 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=74
-------------------------------------------------------------
flag 62240 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 66617 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 82080 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 68  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
term 14 Server1 start snapshot! index=69
term 14 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=74
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4633427057120136318 (index 68) to leader 2
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34020 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 89939 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 14 server 1 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 14 server 0 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31772 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 68  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 2 InstallSnapshot success
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 14 rf.commitIndex 69 rf.lastApplied 69
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
flag 6868 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 37124 term 14 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12302 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 81288 term 14 leader 0 nextIndex[2]: 75  matchIndex[2]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9263 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 53628 term 14 leader 0 nextIndex[2]: 75  matchIndex[2]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 75->74
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20016 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 74
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 2 InstallSnapshot fail
rf.commitIndex 74 args.LastIncludedIndex 69
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
flag 39968 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 91262 term 14 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
flag 3140 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 34410 term 14 leader 0 nextIndex[2]: 75  matchIndex[2]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
flag 88554 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 6577 term 14 leader 0 nextIndex[2]: 75  matchIndex[2]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36323 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 77772 term 14 leader 0 nextIndex[2]: 75  matchIndex[2]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
flag 73314 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 7219 term 14 leader 0 nextIndex[2]: 75  matchIndex[2]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
flag 23327 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 11051 term 14 leader 0 nextIndex[2]: 75  matchIndex[2]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18061 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 71380 term 14 leader 0 nextIndex[2]: 75  matchIndex[2]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
flag 60397 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 43356 term 14 leader 0 nextIndex[2]: 75  matchIndex[2]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
flag 11675 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 30122 term 14 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53510 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 64952 term 14 leader 0 nextIndex[2]: 75  matchIndex[2]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
flag 16911 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 31607 term 14 leader 0 nextIndex[2]: 75  matchIndex[2]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9207 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 11149 term 14 leader 0 nextIndex[2]: 75  matchIndex[2]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50675 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 51653 term 14 leader 0 nextIndex[2]: 75  matchIndex[2]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
term 14 server 2 not vote for server 0, 任期不够新
term 14 server 0 get outdate rpc reply from server 2
flag 74217 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 70969 term 14 leader 0 nextIndex[2]: 75  matchIndex[2]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
flag 24175 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 54297 term 14 leader 0 nextIndex[2]: 75  matchIndex[2]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74}]
------------------------------------------------------
client write log 4633427057120136318 (index 75) to leader 0
flag 38675 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 80258 term 14 leader 0 nextIndex[2]: 75  matchIndex[2]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74} {4633427057120136318 14 75}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74} {4633427057120136318 14 75}]
------------------------------------------------------
flag 12218 term 14 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
flag 3208 term 14 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 14 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74} {4633427057120136318 14 75}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74} {4633427057120136318 14 75}]
------------------------------------------------------
flag 71800 term 14 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
flag 10737 term 14 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 14 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74} {4633427057120136318 14 75}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74} {4633427057120136318 14 75}]
------------------------------------------------------
flag 20604 term 14 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
flag 54291 term 14 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 14 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74} {4633427057120136318 14 75}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74} {4633427057120136318 14 75}]
------------------------------------------------------
flag 98408 term 14 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
flag 51469 term 14 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 14 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74} {4633427057120136318 14 75}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74} {4633427057120136318 14 75}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52377 term 14 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
flag 50056 term 14 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 14 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:75 
term 14 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74} {4633427057120136318 14 75}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74} {4633427057120136318 14 75}]
------------------------------------------------------
flag 28722 term 14 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
flag 86130 term 14 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 14 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74} {4633427057120136318 14 75}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74} {4633427057120136318 14 75}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6126072523755240241 (index 76) to leader 0
flag 81365 term 14 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
flag 55433 term 14 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 14 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74} {4633427057120136318 14 75} {6126072523755240241 14 76}]
------------------------------------------------------
flag 96073 term 14 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 17124 term 14 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 14 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74} {4633427057120136318 14 75} {6126072523755240241 14 76}]
------------------------------------------------------
client write log 806813777275111925 (index 77) to leader 0
client write log 8687221359437403992 (index 78) to leader 0
client write log 6744519508287961175 (index 79) to leader 0
client write log 4882654432631664292 (index 80) to leader 0
client write log 4480780195375985736 (index 81) to leader 0
client write log 3801197447368736906 (index 82) to leader 0
client write log 1058626689870802837 (index 83) to leader 0
client write log 7463128626382554526 (index 84) to leader 0
client write log 2379765329131136858 (index 85) to leader 0
client write log 2538357218652065446 (index 86) to leader 0
client write log 4176213559845112659 (index 87) to leader 0
client write log 98235722231226204 (index 88) to leader 0
client write log 3679360879059055810 (index 89) to leader 0
client write log 521323066324707093 (index 90) to leader 0
flag 1923 term 14 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 60118 term 14 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 14 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 69} {8562612659197241390 14 70} {833150524923805594 14 71} {1840060944971270994 14 72} {154234509613701886 14 73} {9157691704920932789 14 74} {4633427057120136318 14 75} {6126072523755240241 14 76} {806813777275111925 14 77} {8687221359437403992 14 78} {6744519508287961175 14 79} {4882654432631664292 14 80} {4480780195375985736 14 81} {3801197447368736906 14 82} {1058626689870802837 14 83} {7463128626382554526 14 84} {2379765329131136858 14 85} {2538357218652065446 14 86} {4176213559845112659 14 87} {98235722231226204 14 88} {3679360879059055810 14 89} {521323066324707093 14 90}]
------------------------------------------------------
term 14 Server0 start snapshot! index=79
term 14 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=90
-------------------------------------------------------------
term 14 Server0 start snapshot! index=89
term 14 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 45913 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {521323066324707093 14 90}]
------------------------------------------------------
term 14 Server2 start snapshot! index=79
term 14 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=90
-------------------------------------------------------------
term 14 Server2 start snapshot! index=89
term 14 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5781410951863043253 (index 91) to leader 0
term 14 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 7402 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {521323066324707093 14 90} {5781410951863043253 14 91}]
------------------------------------------------------
term 15 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 server 0 not vote for server 1, 日志不够新
term 16 server 2 vote for server 0
term 16 server 1 vote for server 0
term 16 server 0 get vote from server 2
term 16 server 0 become leader
------------------------------------------------------
term 16 server 0 get outdate rpc reply from server 1
flag 5082 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 75588 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 92->91
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {521323066324707093 14 90} {5781410951863043253 14 91}]
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 76  matchIndex[1]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 80980 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 InstallSnapshot success
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {521323066324707093 14 90} {5781410951863043253 14 91}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31236 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 42503 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {521323066324707093 14 90} {5781410951863043253 14 91}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {521323066324707093 14 90} {5781410951863043253 14 91}]
------------------------------------------------------
flag 59384 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 59774 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {521323066324707093 14 90} {5781410951863043253 14 91}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {521323066324707093 14 90} {5781410951863043253 14 91}]
------------------------------------------------------
term 16 server 1 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 1
flag 3974 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 55745 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {521323066324707093 14 90} {5781410951863043253 14 91}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {521323066324707093 14 90} {5781410951863043253 14 91}]
------------------------------------------------------
flag 62413 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 44658 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {521323066324707093 14 90} {5781410951863043253 14 91}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {521323066324707093 14 90} {5781410951863043253 14 91}]
------------------------------------------------------
flag 39059 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 40579 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {521323066324707093 14 90} {5781410951863043253 14 91}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {521323066324707093 14 90} {5781410951863043253 14 91}]
------------------------------------------------------
flag 12637 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 62496 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {521323066324707093 14 90} {5781410951863043253 14 91}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {521323066324707093 14 90} {5781410951863043253 14 91}]
------------------------------------------------------
flag 13879 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 79908 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
!!!!!!diconnect server 1
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
client write log 4603027137194540027 (index 92) to leader 0
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {521323066324707093 14 90} {5781410951863043253 14 91} {4603027137194540027 16 92}]
------------------------------------------------------
flag 19621 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 80664 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {521323066324707093 14 90} {5781410951863043253 14 91} {4603027137194540027 16 92}]
------------------------------------------------------
flag 2543 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 97631 term 16 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {521323066324707093 14 90} {5781410951863043253 14 91} {4603027137194540027 16 92}]
------------------------------------------------------
client write log 667902398330844214 (index 93) to leader 0
client write log 6674366927227482914 (index 94) to leader 0
client write log 3744424302216981113 (index 95) to leader 0
client write log 5510269601233129314 (index 96) to leader 0
client write log 4628276173046886813 (index 97) to leader 0
client write log 7824628816059692648 (index 98) to leader 0
client write log 5582457575446596298 (index 99) to leader 0
client write log 8264022475640102789 (index 100) to leader 0
client write log 949570824950950286 (index 101) to leader 0
client write log 4230245731186113801 (index 102) to leader 0
client write log 8790386818159342889 (index 103) to leader 0
client write log 4124928642881293760 (index 104) to leader 0
client write log 2191599950786199721 (index 105) to leader 0
client write log 6416258791593988189 (index 106) to leader 0
client write log 7921122393024472702 (index 107) to leader 0
flag 65034 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 22967 term 16 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 14 89} {521323066324707093 14 90} {5781410951863043253 14 91} {4603027137194540027 16 92} {667902398330844214 16 93} {6674366927227482914 16 94} {3744424302216981113 16 95} {5510269601233129314 16 96} {4628276173046886813 16 97} {7824628816059692648 16 98} {5582457575446596298 16 99} {8264022475640102789 16 100} {949570824950950286 16 101} {4230245731186113801 16 102} {8790386818159342889 16 103} {4124928642881293760 16 104} {2191599950786199721 16 105} {6416258791593988189 16 106} {7921122393024472702 16 107}]
------------------------------------------------------
term 16 Server0 start snapshot! index=99
term 16 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=107
-------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 31633 term 16 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {8264022475640102789 16 100} {949570824950950286 16 101} {4230245731186113801 16 102} {8790386818159342889 16 103} {4124928642881293760 16 104} {2191599950786199721 16 105} {6416258791593988189 16 106} {7921122393024472702 16 107}]
------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=107
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1003069556054682769 (index 108) to leader 0
term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 68917 term 16 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 17 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8264022475640102789 16 100} {949570824950950286 16 101} {4230245731186113801 16 102} {8790386818159342889 16 103} {4124928642881293760 16 104} {2191599950786199721 16 105} {6416258791593988189 16 106} {7921122393024472702 16 107} {1003069556054682769 16 108}]
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 server 1 vote for server 0
term 18 server 0 get vote from server 1
term 18 server 0 become leader
------------------------------------------------------
term 18 server 2 vote for server 0
term 18 server 0 get outdate rpc reply from server 2
flag 30965 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 45223 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8264022475640102789 16 100} {949570824950950286 16 101} {4230245731186113801 16 102} {8790386818159342889 16 103} {4124928642881293760 16 104} {2191599950786199721 16 105} {6416258791593988189 16 106} {7921122393024472702 16 107} {1003069556054682769 16 108}]
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 109->108
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 92  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 13716 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 1 InstallSnapshot success
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8264022475640102789 16 100} {949570824950950286 16 101} {4230245731186113801 16 102} {8790386818159342889 16 103} {4124928642881293760 16 104} {2191599950786199721 16 105} {6416258791593988189 16 106} {7921122393024472702 16 107} {1003069556054682769 16 108}]
------------------------------------------------------
flag 22979 term 18 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 18 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 17127 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8264022475640102789 16 100} {949570824950950286 16 101} {4230245731186113801 16 102} {8790386818159342889 16 103} {4124928642881293760 16 104} {2191599950786199721 16 105} {6416258791593988189 16 106} {7921122393024472702 16 107} {1003069556054682769 16 108}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8264022475640102789 16 100} {949570824950950286 16 101} {4230245731186113801 16 102} {8790386818159342889 16 103} {4124928642881293760 16 104} {2191599950786199721 16 105} {6416258791593988189 16 106} {7921122393024472702 16 107} {1003069556054682769 16 108}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34832 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 65190 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8264022475640102789 16 100} {949570824950950286 16 101} {4230245731186113801 16 102} {8790386818159342889 16 103} {4124928642881293760 16 104} {2191599950786199721 16 105} {6416258791593988189 16 106} {7921122393024472702 16 107} {1003069556054682769 16 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8264022475640102789 16 100} {949570824950950286 16 101} {4230245731186113801 16 102} {8790386818159342889 16 103} {4124928642881293760 16 104} {2191599950786199721 16 105} {6416258791593988189 16 106} {7921122393024472702 16 107} {1003069556054682769 16 108}]
------------------------------------------------------
flag 75075 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 46814 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8264022475640102789 16 100} {949570824950950286 16 101} {4230245731186113801 16 102} {8790386818159342889 16 103} {4124928642881293760 16 104} {2191599950786199721 16 105} {6416258791593988189 16 106} {7921122393024472702 16 107} {1003069556054682769 16 108}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8264022475640102789 16 100} {949570824950950286 16 101} {4230245731186113801 16 102} {8790386818159342889 16 103} {4124928642881293760 16 104} {2191599950786199721 16 105} {6416258791593988189 16 106} {7921122393024472702 16 107} {1003069556054682769 16 108}]
------------------------------------------------------
flag 94682 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 2170 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8264022475640102789 16 100} {949570824950950286 16 101} {4230245731186113801 16 102} {8790386818159342889 16 103} {4124928642881293760 16 104} {2191599950786199721 16 105} {6416258791593988189 16 106} {7921122393024472702 16 107} {1003069556054682769 16 108}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8264022475640102789 16 100} {949570824950950286 16 101} {4230245731186113801 16 102} {8790386818159342889 16 103} {4124928642881293760 16 104} {2191599950786199721 16 105} {6416258791593988189 16 106} {7921122393024472702 16 107} {1003069556054682769 16 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 2
flag 63962 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 1536 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8264022475640102789 16 100} {949570824950950286 16 101} {4230245731186113801 16 102} {8790386818159342889 16 103} {4124928642881293760 16 104} {2191599950786199721 16 105} {6416258791593988189 16 106} {7921122393024472702 16 107} {1003069556054682769 16 108}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8264022475640102789 16 100} {949570824950950286 16 101} {4230245731186113801 16 102} {8790386818159342889 16 103} {4124928642881293760 16 104} {2191599950786199721 16 105} {6416258791593988189 16 106} {7921122393024472702 16 107} {1003069556054682769 16 108}]
------------------------------------------------------
flag 42514 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 23807 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8264022475640102789 16 100} {949570824950950286 16 101} {4230245731186113801 16 102} {8790386818159342889 16 103} {4124928642881293760 16 104} {2191599950786199721 16 105} {6416258791593988189 16 106} {7921122393024472702 16 107} {1003069556054682769 16 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8264022475640102789 16 100} {949570824950950286 16 101} {4230245731186113801 16 102} {8790386818159342889 16 103} {4124928642881293760 16 104} {2191599950786199721 16 105} {6416258791593988189 16 106} {7921122393024472702 16 107} {1003069556054682769 16 108}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 34367 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 68676 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65784 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 31052 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 26943 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 81124 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 19 server 1 vote for server 2
term 19 server 2 get vote from server 1
term 19 server 2 become leader
------------------------------------------------------
flag 27698 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 36030 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {8264022475640102789 16 100} {949570824950950286 16 101} {4230245731186113801 16 102} {8790386818159342889 16 103} {4124928642881293760 16 104} {2191599950786199721 16 105} {6416258791593988189 16 106} {7921122393024472702 16 107} {1003069556054682769 16 108}]
------------------------------------------------------
client write log 4135989133038733136 (index 109) to leader 2
flag 10189 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 3894 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 37427 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 58325 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 16 99} {8264022475640102789 16 100} {949570824950950286 16 101} {4230245731186113801 16 102} {8790386818159342889 16 103} {4124928642881293760 16 104} {2191599950786199721 16 105} {6416258791593988189 16 106} {7921122393024472702 16 107} {1003069556054682769 16 108} {4135989133038733136 19 109}]
------------------------------------------------------
term 19 Server2 start snapshot! index=109
term 19 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
flag 30408 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 7746 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 40913 term 19 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 Server1 start snapshot! index=109
term 19 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
client write log 8793344802178551589 (index 110) to leader 2
flag 49119 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 50869 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 82932 term 19 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {8793344802178551589 19 110}]
------------------------------------------------------
flag 29468 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 38424 term 18 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 109->108
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 36369 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {8793344802178551589 19 110}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6724071104217562730 (index 111) to leader 2
flag 35406 term 18 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 leader 0 nextIndex[2]: 0  matchIndex[2]: 108
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 19 server 1 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 19 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 29952 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
term 19 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {8793344802178551589 19 110} {6724071104217562730 19 111}]
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 19 rf.commitIndex 109 rf.lastApplied 109
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5436 term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 94240 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {8793344802178551589 19 110} {6724071104217562730 19 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {8793344802178551589 19 110} {6724071104217562730 19 111}]
------------------------------------------------------
flag 95244 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 76727 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {8793344802178551589 19 110} {6724071104217562730 19 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {8793344802178551589 19 110} {6724071104217562730 19 111}]
------------------------------------------------------
flag 34896 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 80052 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {8793344802178551589 19 110} {6724071104217562730 19 111}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {8793344802178551589 19 110} {6724071104217562730 19 111}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 112->111
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 111
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 17636 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 0 InstallSnapshot fail
rf.commitIndex 111 args.LastIncludedIndex 109
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {8793344802178551589 19 110} {6724071104217562730 19 111}]
------------------------------------------------------
flag 55976 term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 11273 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {8793344802178551589 19 110} {6724071104217562730 19 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {8793344802178551589 19 110} {6724071104217562730 19 111}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83804 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 98506 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {8793344802178551589 19 110} {6724071104217562730 19 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {8793344802178551589 19 110} {6724071104217562730 19 111}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62260 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 35046 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {8793344802178551589 19 110} {6724071104217562730 19 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {8793344802178551589 19 110} {6724071104217562730 19 111}]
------------------------------------------------------
term 19 server 0 not vote for server 1, 任期不够新
term 19 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4617720859448381764 (index 112) to leader 2
flag 96901 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 31895 term 19 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {8793344802178551589 19 110} {6724071104217562730 19 111} {4617720859448381764 19 112}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1572 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 60867 term 19 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 19 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {8793344802178551589 19 110} {6724071104217562730 19 111} {4617720859448381764 19 112}]
------------------------------------------------------
client write log 4107128452249385744 (index 113) to leader 2
client write log 7979183019209006465 (index 114) to leader 2
client write log 2863955779794736392 (index 115) to leader 2
client write log 1155222947664114780 (index 116) to leader 2
client write log 4991789500709062736 (index 117) to leader 2
client write log 8952523285553519350 (index 118) to leader 2
client write log 5073540809153970014 (index 119) to leader 2
client write log 9196572547544406038 (index 120) to leader 2
client write log 8926998051395960812 (index 121) to leader 2
client write log 1023493829512723465 (index 122) to leader 2
client write log 7998282841115396552 (index 123) to leader 2
client write log 3633220456877204045 (index 124) to leader 2
client write log 5105243471277713398 (index 125) to leader 2
term 19 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
flag 19772 term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 60421 term 19 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 19 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 109} {8793344802178551589 19 110} {6724071104217562730 19 111} {4617720859448381764 19 112} {4107128452249385744 19 113} {7979183019209006465 19 114} {2863955779794736392 19 115} {1155222947664114780 19 116} {4991789500709062736 19 117} {8952523285553519350 19 118} {5073540809153970014 19 119} {9196572547544406038 19 120} {8926998051395960812 19 121} {1023493829512723465 19 122} {7998282841115396552 19 123} {3633220456877204045 19 124} {5105243471277713398 19 125}]
------------------------------------------------------
term 19 Server2 start snapshot! index=119
term 19 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=125
-------------------------------------------------------------
term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 97494 term 19 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {9196572547544406038 19 120} {8926998051395960812 19 121} {1023493829512723465 19 122} {7998282841115396552 19 123} {3633220456877204045 19 124} {5105243471277713398 19 125}]
------------------------------------------------------
term 19 Server1 start snapshot! index=119
term 19 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=125
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5875810067505917214 (index 126) to leader 2
term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 66100 term 19 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {9196572547544406038 19 120} {8926998051395960812 19 121} {1023493829512723465 19 122} {7998282841115396552 19 123} {3633220456877204045 19 124} {5105243471277713398 19 125} {5875810067505917214 19 126}]
------------------------------------------------------
term 20 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 1 vote for server 2
term 21 server 2 get vote from server 1
term 21 server 2 become leader
------------------------------------------------------
term 21 server 0 vote for server 2
term 21 server 2 get outdate rpc reply from server 0
flag 1516 term 21 leader 2 nextIndex[0]: 127  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 40240 term 21 leader 2 nextIndex[1]: 127  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 127->126
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {9196572547544406038 19 120} {8926998051395960812 19 121} {1023493829512723465 19 122} {7998282841115396552 19 123} {3633220456877204045 19 124} {5105243471277713398 19 125} {5875810067505917214 19 126}]
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 112  matchIndex[0]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 84877 term 21 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {9196572547544406038 19 120} {8926998051395960812 19 121} {1023493829512723465 19 122} {7998282841115396552 19 123} {3633220456877204045 19 124} {5105243471277713398 19 125} {5875810067505917214 19 126}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
term 21 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 120 matchIndex[0] 119 
------------------------------------------------------------------------
term 21 server 2 not vote for server 1, 任期不够新
term 21 server 1 get outdate rpc reply from server 2
flag 94797 term 21 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 62051 term 21 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {9196572547544406038 19 120} {8926998051395960812 19 121} {1023493829512723465 19 122} {7998282841115396552 19 123} {3633220456877204045 19 124} {5105243471277713398 19 125} {5875810067505917214 19 126}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {9196572547544406038 19 120} {8926998051395960812 19 121} {1023493829512723465 19 122} {7998282841115396552 19 123} {3633220456877204045 19 124} {5105243471277713398 19 125} {5875810067505917214 19 126}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19387 term 21 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 21 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 90110 term 21 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {9196572547544406038 19 120} {8926998051395960812 19 121} {1023493829512723465 19 122} {7998282841115396552 19 123} {3633220456877204045 19 124} {5105243471277713398 19 125} {5875810067505917214 19 126}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {9196572547544406038 19 120} {8926998051395960812 19 121} {1023493829512723465 19 122} {7998282841115396552 19 123} {3633220456877204045 19 124} {5105243471277713398 19 125} {5875810067505917214 19 126}]
------------------------------------------------------
flag 14179 term 21 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 21 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 34995 term 21 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {9196572547544406038 19 120} {8926998051395960812 19 121} {1023493829512723465 19 122} {7998282841115396552 19 123} {3633220456877204045 19 124} {5105243471277713398 19 125} {5875810067505917214 19 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {9196572547544406038 19 120} {8926998051395960812 19 121} {1023493829512723465 19 122} {7998282841115396552 19 123} {3633220456877204045 19 124} {5105243471277713398 19 125} {5875810067505917214 19 126}]
------------------------------------------------------
flag 61104 term 21 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 21 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 24879 term 21 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {9196572547544406038 19 120} {8926998051395960812 19 121} {1023493829512723465 19 122} {7998282841115396552 19 123} {3633220456877204045 19 124} {5105243471277713398 19 125} {5875810067505917214 19 126}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {9196572547544406038 19 120} {8926998051395960812 19 121} {1023493829512723465 19 122} {7998282841115396552 19 123} {3633220456877204045 19 124} {5105243471277713398 19 125} {5875810067505917214 19 126}]
------------------------------------------------------
flag 55558 term 21 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 21 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 71839 term 21 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {9196572547544406038 19 120} {8926998051395960812 19 121} {1023493829512723465 19 122} {7998282841115396552 19 123} {3633220456877204045 19 124} {5105243471277713398 19 125} {5875810067505917214 19 126}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {9196572547544406038 19 120} {8926998051395960812 19 121} {1023493829512723465 19 122} {7998282841115396552 19 123} {3633220456877204045 19 124} {5105243471277713398 19 125} {5875810067505917214 19 126}]
------------------------------------------------------
flag 96831 term 21 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 21 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 94995 term 21 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {9196572547544406038 19 120} {8926998051395960812 19 121} {1023493829512723465 19 122} {7998282841115396552 19 123} {3633220456877204045 19 124} {5105243471277713398 19 125} {5875810067505917214 19 126}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {9196572547544406038 19 120} {8926998051395960812 19 121} {1023493829512723465 19 122} {7998282841115396552 19 123} {3633220456877204045 19 124} {5105243471277713398 19 125} {5875810067505917214 19 126}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 979172896407222720 (index 127) to leader 2
flag 47799 term 21 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 21 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 78044 term 21 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 19 119} {9196572547544406038 19 120} {8926998051395960812 19 121} {1023493829512723465 19 122} {7998282841115396552 19 123} {3633220456877204045 19 124} {5105243471277713398 19 125} {5875810067505917214 19 126} {979172896407222720 21 127}]
------------------------------------------------------
flag 66021 term 21 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 21 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 127 
------------------------------------------------------
flag 24584 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 19 119} {9196572547544406038 19 120} {8926998051395960812 19 121} {1023493829512723465 19 122} {7998282841115396552 19 123} {3633220456877204045 19 124} {5105243471277713398 19 125} {5875810067505917214 19 126} {979172896407222720 21 127}]
------------------------------------------------------
client write log 5166377070030783756 (index 128) to leader 2
client write log 4769797447692447664 (index 129) to leader 2
client write log 8669513687421517145 (index 130) to leader 2
client write log 4444786383975616156 (index 131) to leader 2
client write log 6169226149006218820 (index 132) to leader 2
client write log 2366340501828307815 (index 133) to leader 2
client write log 1455158852906377594 (index 134) to leader 2
client write log 1371664539272376134 (index 135) to leader 2
client write log 3255107710613678863 (index 136) to leader 2
client write log 1551902549245366979 (index 137) to leader 2
flag 58742 term 21 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 21 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 127 
------------------------------------------------------
flag 26354 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 19 119} {9196572547544406038 19 120} {8926998051395960812 19 121} {1023493829512723465 19 122} {7998282841115396552 19 123} {3633220456877204045 19 124} {5105243471277713398 19 125} {5875810067505917214 19 126} {979172896407222720 21 127} {5166377070030783756 21 128} {4769797447692447664 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137}]
------------------------------------------------------
term 21 Server2 start snapshot! index=129
term 21 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=137
-------------------------------------------------------------
term 21 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 72910 term 21 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137}]
------------------------------------------------------
term 21 Server1 start snapshot! index=129
term 21 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=137
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7197118024503737911 (index 138) to leader 2
term 21 server 2 not vote for server 0, 日志不够新
term 21 server 1 not vote for server 0, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 0 vote for server 2
term 23 server 2 get vote from server 0
term 23 server 2 become leader
------------------------------------------------------
term 23 server 1 vote for server 2
term 23 server 2 get outdate rpc reply from server 1
flag 93726 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 98340 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 139->138
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 139->138
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 127  matchIndex[0]: 0
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 86987 term 23 leader 2 nextIndex[1]: 138  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 InstallSnapshot success
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 21 rf.commitIndex 129 rf.lastApplied 129
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
flag 8043 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 70912 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
flag 47057 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 17117 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10027 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 45523 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
flag 19680 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 78036 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
term 23 server 2 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 2
flag 92635 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 48511 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95154 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 14754 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
flag 64342 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 82672 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84765 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 24470 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
flag 2127 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 95699 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
flag 30379 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 75930 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
flag 3739 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 39432 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61603 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 7403 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
flag 41242 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 88630 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
flag 18188 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 84997 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
flag 10219 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 1361 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70391 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 50467 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
flag 62789 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 30765 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
flag 53113 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 21302 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138}]
------------------------------------------------------
client write log 7197118024503737911 (index 139) to leader 2
flag 32680 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 92324 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138} {7197118024503737911 23 139}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 129} {8669513687421517145 21 130} {4444786383975616156 21 131} {6169226149006218820 21 132} {2366340501828307815 21 133} {1455158852906377594 21 134} {1371664539272376134 21 135} {3255107710613678863 21 136} {1551902549245366979 21 137} {7197118024503737911 21 138} {7197118024503737911 23 139}]
------------------------------------------------------
term 23 Server2 start snapshot! index=139
term 23 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
flag 18439 term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 18575 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 23 Server1 start snapshot! index=139
term 23 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
term 23 Server0 start snapshot! index=139
term 23 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
flag 66447 term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 53949 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
flag 41709 term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 9017 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
flag 29961 term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 89472 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
flag 24889 term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 81875 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 52064 term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 28057 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95019 term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 33102 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 140->139
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 leader 2 nextIndex[0]: 0  matchIndex[0]: 139
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 98460 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 vote for server 0
term 24 server 0 get vote from server 1
term 24 server 0 become leader
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 0  matchIndex[0]: 139
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 55748 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 87317 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 81864 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
client write log 695479143890868451 (index 140) to leader 0
term 23 leader 2 nextIndex[0]: 0  matchIndex[0]: 139
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 44728 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 92069 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 95951 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {695479143890868451 24 140}]
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 0  matchIndex[0]: 139
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 93393 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 46890 term 24 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 92797 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {695479143890868451 24 140}]
------------------------------------------------------
client write log 7489863100204410562 (index 141) to leader 0
client write log 7099849655794398679 (index 142) to leader 0
client write log 6815120402302530121 (index 143) to leader 0
client write log 312064486068015187 (index 144) to leader 0
client write log 2671213613878053836 (index 145) to leader 0
client write log 440975525593771400 (index 146) to leader 0
client write log 1122256576032208408 (index 147) to leader 0
client write log 8855378278048500836 (index 148) to leader 0
client write log 1394839828296975187 (index 149) to leader 0
client write log 3536686402562971667 (index 150) to leader 0
client write log 4295712252332746852 (index 151) to leader 0
term 23 leader 2 nextIndex[0]: 0  matchIndex[0]: 139
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 13286 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 90140 term 24 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 28746 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 23 139} {695479143890868451 24 140} {7489863100204410562 24 141} {7099849655794398679 24 142} {6815120402302530121 24 143} {312064486068015187 24 144} {2671213613878053836 24 145} {440975525593771400 24 146} {1122256576032208408 24 147} {8855378278048500836 24 148} {1394839828296975187 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
term 24 Server0 start snapshot! index=149
term 24 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=151
-------------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
flag 79196 term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 48397 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 96106 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
term 24 Server1 start snapshot! index=149
term 24 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=151
-------------------------------------------------------------
!!!!!!connect server 2
client write log 9128038811695080823 (index 140) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87875 term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 88674 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
term 24 server 0 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64495 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 2 InstallSnapshot success
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 24 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 24 rf.commitIndex 149 rf.lastApplied 149
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
flag 5505 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 88215 term 24 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66933 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 80359 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
flag 26466 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 70267 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19321 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 94237 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 24 server 1 not vote for server 0, 任期不够新
term 24 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45077 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 68368 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
flag 57861 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 96803 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
flag 8965 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 36927 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
term 24 server 2 not vote for server 0, 任期不够新
term 24 server 0 get outdate rpc reply from server 2
flag 69052 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 74244 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
flag 95766 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 94127 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
flag 96962 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 42453 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77905 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 74021 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 152->151
------------------------------------------------------
flag 60671 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 151
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 2 InstallSnapshot fail
rf.commitIndex 151 args.LastIncludedIndex 149
------------------------------------------------------
term 24 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
flag 2102 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 9328 term 24 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
flag 80762 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 86819 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22317 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 61024 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
flag 95529 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 37753 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52098 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 59527 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
flag 98203 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 80572 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
flag 35952 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 88782 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151}]
------------------------------------------------------
client write log 9128038811695080823 (index 152) to leader 0
flag 2978 term 24 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 95228 term 24 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 24 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
term 24 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151} {9128038811695080823 24 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151} {9128038811695080823 24 152}]
------------------------------------------------------
flag 90802 term 24 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 24 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 42367 term 24 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151} {9128038811695080823 24 152}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151} {9128038811695080823 24 152}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51303 term 24 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 24 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 50652 term 24 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151} {9128038811695080823 24 152}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151} {9128038811695080823 24 152}]
------------------------------------------------------
flag 74953 term 24 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 24 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 54436 term 24 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151} {9128038811695080823 24 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151} {9128038811695080823 24 152}]
------------------------------------------------------
flag 37375 term 24 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 24 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 35929 term 24 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151} {9128038811695080823 24 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151} {9128038811695080823 24 152}]
------------------------------------------------------
flag 59517 term 24 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 24 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 43098 term 24 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151} {9128038811695080823 24 152}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151} {9128038811695080823 24 152}]
------------------------------------------------------
term 24 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
flag 99695 term 24 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 24 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 36724 term 24 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151} {9128038811695080823 24 152}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151} {9128038811695080823 24 152}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4507498809587523581 (index 153) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80965 term 24 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 24 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 22236 term 24 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151} {9128038811695080823 24 152} {4507498809587523581 24 153}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69557 term 24 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 24 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
flag 2140 term 24 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 24 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151} {9128038811695080823 24 152} {4507498809587523581 24 153}]
------------------------------------------------------
client write log 6692800388025318165 (index 154) to leader 0
client write log 1271844755245903735 (index 155) to leader 0
client write log 3572495806186180251 (index 156) to leader 0
client write log 3726996859107255850 (index 157) to leader 0
client write log 1756489263973284987 (index 158) to leader 0
client write log 6793397928504626039 (index 159) to leader 0
client write log 2855038540542258999 (index 160) to leader 0
client write log 5033535592679228632 (index 161) to leader 0
flag 26636 term 24 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 24 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
flag 36977 term 24 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 24 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 149} {3536686402562971667 24 150} {4295712252332746852 24 151} {9128038811695080823 24 152} {4507498809587523581 24 153} {6692800388025318165 24 154} {1271844755245903735 24 155} {3572495806186180251 24 156} {3726996859107255850 24 157} {1756489263973284987 24 158} {6793397928504626039 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161}]
------------------------------------------------------
term 24 Server0 start snapshot! index=159
term 24 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=161
-------------------------------------------------------------
term 24 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 23443 term 24 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 24 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161}]
------------------------------------------------------
term 24 Server2 start snapshot! index=159
term 24 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=161
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4075104103300100433 (index 162) to leader 0
term 24 server 2 not vote for server 1, 日志不够新
term 24 server 0 not vote for server 1, 日志不够新
term 26 server 2 vote for server 0
term 26 server 1 vote for server 0
term 26 server 0 get vote from server 1
term 26 server 0 become leader
------------------------------------------------------
term 26 server 0 get outdate rpc reply from server 2
flag 92863 term 26 leader 0 nextIndex[1]: 163  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
flag 86532 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 163->162
------------------------------------------------------
term 26 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 163->162
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 34052 term 26 leader 0 nextIndex[2]: 162  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
term 26 server 1 InstallSnapshot success
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 24 rf.commitIndex 159 rf.lastApplied 159
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30301 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
flag 71436 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
flag 56538 term 26 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
flag 71609 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
flag 41593 term 26 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
flag 24732 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
flag 16425 term 26 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
flag 49187 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
flag 4479 term 26 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
flag 90002 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
flag 28707 term 26 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
flag 74977 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
flag 52342 term 26 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
flag 13522 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
flag 67408 term 26 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
flag 57007 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
flag 60421 term 26 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
flag 71488 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61258 term 26 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
flag 34801 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
flag 53553 term 26 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
flag 22040 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
flag 7626 term 26 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
flag 49411 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13250 term 26 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
flag 84463 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73385 term 26 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
flag 92146 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
flag 94184 term 26 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
flag 75678 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
flag 21706 term 26 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
flag 70219 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 2 not vote for server 0, 任期不够新
term 26 server 0 get outdate rpc reply from server 2
flag 13145 term 26 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
flag 71954 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
flag 83464 term 26 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
flag 85749 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162}]
------------------------------------------------------
term 26 server 0 not vote for server 2, 任期不够新
term 26 server 2 get outdate rpc reply from server 0
client write log 4075104103300100433 (index 163) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65887 term 26 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
flag 51472 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162} {4075104103300100433 26 163}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162} {4075104103300100433 26 163}]
------------------------------------------------------
flag 50669 term 26 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 26 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
flag 31862 term 26 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 26 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162} {4075104103300100433 26 163}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162} {4075104103300100433 26 163}]
------------------------------------------------------
flag 39329 term 26 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 26 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
flag 19684 term 26 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 26 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162} {4075104103300100433 26 163}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162} {4075104103300100433 26 163}]
------------------------------------------------------
flag 81131 term 26 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 26 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
flag 52620 term 26 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 26 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162} {4075104103300100433 26 163}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162} {4075104103300100433 26 163}]
------------------------------------------------------
flag 62276 term 26 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 26 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
flag 83253 term 26 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 26 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162} {4075104103300100433 26 163}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162} {4075104103300100433 26 163}]
------------------------------------------------------
flag 78162 term 26 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 26 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
flag 48757 term 26 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 26 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162} {4075104103300100433 26 163}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162} {4075104103300100433 26 163}]
------------------------------------------------------
flag 35759 term 26 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 26 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
flag 48254 term 26 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 26 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
term 26 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162} {4075104103300100433 26 163}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162} {4075104103300100433 26 163}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8325011738052358083 (index 164) to leader 0
flag 21002 term 26 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 26 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
flag 51783 term 26 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 26 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 163 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162} {4075104103300100433 26 163} {8325011738052358083 26 164}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38387 term 26 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 26 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 67328 term 26 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162} {4075104103300100433 26 163} {8325011738052358083 26 164}]
------------------------------------------------------
client write log 6873124158354924975 (index 165) to leader 0
client write log 527322954317604706 (index 166) to leader 0
client write log 7255610254566932865 (index 167) to leader 0
client write log 1839780754587071832 (index 168) to leader 0
client write log 88008532783848150 (index 169) to leader 0
client write log 6310689188546771258 (index 170) to leader 0
client write log 5427897459111070700 (index 171) to leader 0
client write log 5377895781604491667 (index 172) to leader 0
client write log 7269461084632843813 (index 173) to leader 0
client write log 7587109000957794963 (index 174) to leader 0
client write log 4338788031027078102 (index 175) to leader 0
client write log 8321008757975041771 (index 176) to leader 0
client write log 774194851661813035 (index 177) to leader 0
client write log 5607700427738556209 (index 178) to leader 0
client write log 2329431979467720649 (index 179) to leader 0
flag 26554 term 26 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 26 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 89359 term 26 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 24 159} {2855038540542258999 24 160} {5033535592679228632 24 161} {4075104103300100433 24 162} {4075104103300100433 26 163} {8325011738052358083 26 164} {6873124158354924975 26 165} {527322954317604706 26 166} {7255610254566932865 26 167} {1839780754587071832 26 168} {88008532783848150 26 169} {6310689188546771258 26 170} {5427897459111070700 26 171} {5377895781604491667 26 172} {7269461084632843813 26 173} {7587109000957794963 26 174} {4338788031027078102 26 175} {8321008757975041771 26 176} {774194851661813035 26 177} {5607700427738556209 26 178} {2329431979467720649 26 179}]
------------------------------------------------------
term 26 Server0 start snapshot! index=169
term 26 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=179
-------------------------------------------------------------
term 26 Server0 start snapshot! index=179
term 26 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
term 26 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 29588 term 26 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 26 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 26 179}]
------------------------------------------------------
term 26 Server2 start snapshot! index=169
term 26 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=179
-------------------------------------------------------------
term 26 Server2 start snapshot! index=179
term 26 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6139141942104523755 (index 180) to leader 0
term 26 server 2 not vote for server 1, 日志不够新
term 26 server 0 not vote for server 1, 日志不够新
term 28 server 2 vote for server 0
term 28 server 1 vote for server 0
term 28 server 0 get vote from server 1
term 28 server 0 become leader
------------------------------------------------------
term 28 server 0 get outdate rpc reply from server 2
flag 62240 term 28 leader 0 nextIndex[1]: 181  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 66968 term 28 leader 0 nextIndex[2]: 181  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 181->180
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 181->180
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 65489 term 28 leader 0 nextIndex[2]: 180  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 1 InstallSnapshot success
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 26 rf.commitIndex 179 rf.lastApplied 179
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
flag 20488 term 28 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 27959 term 28 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
flag 81354 term 28 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 19645 term 28 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
term 28 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
flag 7231 term 28 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 94985 term 28 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
flag 85600 term 28 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 63944 term 28 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
term 28 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
flag 42281 term 28 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 80744 term 28 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
flag 52047 term 28 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 13495 term 28 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
flag 32135 term 28 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 63818 term 28 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
flag 59548 term 28 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 89032 term 28 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
flag 67733 term 28 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 85277 term 28 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
flag 19739 term 28 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 83513 term 28 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
flag 54318 term 28 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 74665 term 28 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
flag 7400 term 28 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 74879 term 28 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15146 term 28 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 41040 term 28 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
flag 83993 term 28 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 67983 term 28 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75422 term 28 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 36909 term 28 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
flag 17665 term 28 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 3452 term 28 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
flag 60893 term 28 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 16987 term 28 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=179
leader log:
[{snapshot 26 179} {6139141942104523755 26 180}]
------------------------------------------------------
client write log 6139141942104523755 (index 181) to leader 0
flag 85856 term 28 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
flag 43094 term 28 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 28 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 179 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181}]
------------------------------------------------------
flag 8328 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 71076 term 28 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181}]
------------------------------------------------------
flag 60662 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 39794 term 28 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78837 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 20047 term 28 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181}]
------------------------------------------------------
flag 34586 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 42892 term 28 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181}]
------------------------------------------------------
flag 1212 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 76964 term 28 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85078 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 99430 term 28 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 93787 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 37879 term 28 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 64034 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 46942 term 28 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73141 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 42677 term 28 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 45017 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 31708 term 28 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 vote for server 2
term 29 server 2 get vote from server 1
term 29 server 2 become leader
------------------------------------------------------
flag 66473 term 29 leader 2 nextIndex[0]: 182  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 74411 term 29 leader 2 nextIndex[1]: 182  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181}]
------------------------------------------------------
client write log 4312406538268409706 (index 182) to leader 2
flag 20434 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 76566 term 28 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42863 term 29 leader 2 nextIndex[0]: 182  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 96644 term 29 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 29 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181} {4312406538268409706 29 182}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 182->181
------------------------------------------------------
flag 22695 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 28 leader 0 nextIndex[2]: 0  matchIndex[2]: 181
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 9612 term 29 leader 2 nextIndex[0]: 182  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 55364 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181} {4312406538268409706 29 182}]
------------------------------------------------------
client write log 6652497167326697795 (index 183) to leader 2
flag 76681 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 28 leader 0 nextIndex[2]: 0  matchIndex[2]: 181
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 53445 term 29 leader 2 nextIndex[0]: 182  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 89612 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181} {4312406538268409706 29 182} {6652497167326697795 29 183}]
------------------------------------------------------
flag 87235 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 28 leader 0 nextIndex[2]: 0  matchIndex[2]: 181
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 50682 term 29 leader 2 nextIndex[0]: 182  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 183 
------------------------------------------------------
flag 65796 term 29 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181} {4312406538268409706 29 182} {6652497167326697795 29 183}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2658168605389375648 (index 184) to leader 2
flag 65050 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 28 leader 0 nextIndex[2]: 0  matchIndex[2]: 181
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
term 29 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 server 1 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28450 term 29 leader 2 nextIndex[0]: 182  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 183 
------------------------------------------------------
flag 59205 term 29 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 29 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181} {4312406538268409706 29 182} {6652497167326697795 29 183} {2658168605389375648 29 184}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181} {4312406538268409706 29 182} {6652497167326697795 29 183} {2658168605389375648 29 184}]
------------------------------------------------------
term 29 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47593 term 29 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 19056 term 29 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181} {4312406538268409706 29 182} {6652497167326697795 29 183} {2658168605389375648 29 184}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181} {4312406538268409706 29 182} {6652497167326697795 29 183} {2658168605389375648 29 184}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37868 term 29 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 61172 term 29 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181} {4312406538268409706 29 182} {6652497167326697795 29 183} {2658168605389375648 29 184}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181} {4312406538268409706 29 182} {6652497167326697795 29 183} {2658168605389375648 29 184}]
------------------------------------------------------
flag 90180 term 29 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 67975 term 29 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181} {4312406538268409706 29 182} {6652497167326697795 29 183} {2658168605389375648 29 184}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181} {4312406538268409706 29 182} {6652497167326697795 29 183} {2658168605389375648 29 184}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27641 term 29 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 43342 term 29 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181} {4312406538268409706 29 182} {6652497167326697795 29 183} {2658168605389375648 29 184}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181} {4312406538268409706 29 182} {6652497167326697795 29 183} {2658168605389375648 29 184}]
------------------------------------------------------
flag 19002 term 29 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 50335 term 29 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181} {4312406538268409706 29 182} {6652497167326697795 29 183} {2658168605389375648 29 184}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181} {4312406538268409706 29 182} {6652497167326697795 29 183} {2658168605389375648 29 184}]
------------------------------------------------------
flag 53020 term 29 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 16089 term 29 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181} {4312406538268409706 29 182} {6652497167326697795 29 183} {2658168605389375648 29 184}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181} {4312406538268409706 29 182} {6652497167326697795 29 183} {2658168605389375648 29 184}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2228249393532170164 (index 185) to leader 2
flag 93203 term 29 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 88699 term 29 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181} {4312406538268409706 29 182} {6652497167326697795 29 183} {2658168605389375648 29 184} {2228249393532170164 29 185}]
------------------------------------------------------
flag 49539 term 29 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 2334 term 29 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181} {4312406538268409706 29 182} {6652497167326697795 29 183} {2658168605389375648 29 184} {2228249393532170164 29 185}]
------------------------------------------------------
client write log 6305825837908612563 (index 186) to leader 2
client write log 3643255336863114240 (index 187) to leader 2
client write log 4090161218961080534 (index 188) to leader 2
client write log 972102387748160277 (index 189) to leader 2
client write log 6540432359448589335 (index 190) to leader 2
client write log 7019863526871973352 (index 191) to leader 2
client write log 8350903182586843903 (index 192) to leader 2
client write log 3524980608379064794 (index 193) to leader 2
client write log 4619551311731774658 (index 194) to leader 2
client write log 2974119570372194909 (index 195) to leader 2
client write log 5595405422950615351 (index 196) to leader 2
client write log 3006916023327286331 (index 197) to leader 2
client write log 9139937444091761205 (index 198) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4682 term 29 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 96017 term 29 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 26 179} {6139141942104523755 26 180} {6139141942104523755 28 181} {4312406538268409706 29 182} {6652497167326697795 29 183} {2658168605389375648 29 184} {2228249393532170164 29 185} {6305825837908612563 29 186} {3643255336863114240 29 187} {4090161218961080534 29 188} {972102387748160277 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198}]
------------------------------------------------------
term 29 Server2 start snapshot! index=189
term 29 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=198
-------------------------------------------------------------
term 29 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
flag 49019 term 29 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198}]
------------------------------------------------------
term 29 Server1 start snapshot! index=189
term 29 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=198
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7845540160546095307 (index 199) to leader 2
term 29 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
flag 40952 term 29 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 30 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 1 vote for server 2
term 31 server 2 get vote from server 1
term 31 server 0 vote for server 2
term 31 server 2 become leader
------------------------------------------------------
term 31 server 2 get outdate rpc reply from server 0
flag 69556 term 31 leader 2 nextIndex[0]: 200  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 44571 term 31 leader 2 nextIndex[1]: 200  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 200->199
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 0
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
flag 13327 term 31 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
term 31 server 0 InstallSnapshot success
------------------------------------------------------
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 29 rf.commitIndex 189 rf.lastApplied 189
flag 1754 term 31 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 31 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 76727 term 31 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
flag 71902 term 31 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 81128 term 31 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77205 term 31 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 78823 term 31 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22718 term 31 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 34963 term 31 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
flag 88912 term 31 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 34731 term 31 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
term 31 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64509 term 31 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 71344 term 31 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
flag 70023 term 31 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 40928 term 31 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
flag 87841 term 31 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 74348 term 31 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28049 term 31 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 83226 term 31 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
flag 54241 term 31 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 36778 term 31 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
flag 24157 term 31 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 26175 term 31 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6454 term 31 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 80726 term 31 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
flag 99300 term 31 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 7288 term 31 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
flag 95345 term 31 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 82292 term 31 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
flag 51430 term 31 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 66445 term 31 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
flag 38045 term 31 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 92412 term 31 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199}]
------------------------------------------------------
flag 72521 term 31 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 36433 term 31 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
client write log 7845540160546095307 (index 200) to leader 2
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199} {7845540160546095307 31 200}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199} {7845540160546095307 31 200}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21003 term 31 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 38004 term 31 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199} {7845540160546095307 31 200}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 189} {6540432359448589335 29 190} {7019863526871973352 29 191} {8350903182586843903 29 192} {3524980608379064794 29 193} {4619551311731774658 29 194} {2974119570372194909 29 195} {5595405422950615351 29 196} {3006916023327286331 29 197} {9139937444091761205 29 198} {7845540160546095307 29 199} {7845540160546095307 31 200}]
------------------------------------------------------
term 31 Server2 start snapshot! index=199
term 31 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=200
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22785 term 31 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 31 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
flag 15702 term 31 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {7845540160546095307 31 200}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {7845540160546095307 31 200}]
------------------------------------------------------
term 31 Server0 start snapshot! index=199
term 31 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=200
-------------------------------------------------------------
term 31 Server1 start snapshot! index=199
term 31 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=200
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4607 term 31 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 31 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
flag 67034 term 31 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {7845540160546095307 31 200}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {7845540160546095307 31 200}]
------------------------------------------------------
flag 35175 term 31 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 31 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
flag 23209 term 31 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
term 31 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {7845540160546095307 31 200}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {7845540160546095307 31 200}]
------------------------------------------------------
flag 78383 term 31 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 31 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
flag 86480 term 31 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {7845540160546095307 31 200}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {7845540160546095307 31 200}]
------------------------------------------------------
flag 21887 term 31 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 31 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
flag 15407 term 31 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {7845540160546095307 31 200}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {7845540160546095307 31 200}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1659866138467146418 (index 201) to leader 2
flag 93909 term 31 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 31 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
flag 55782 term 31 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {7845540160546095307 31 200} {1659866138467146418 31 201}]
------------------------------------------------------
flag 87423 term 31 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 31 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 87933 term 31 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {7845540160546095307 31 200} {1659866138467146418 31 201}]
------------------------------------------------------
client write log 2694469768907964264 (index 202) to leader 2
client write log 4287018267602370932 (index 203) to leader 2
client write log 4971689555305677387 (index 204) to leader 2
client write log 9033216076780416387 (index 205) to leader 2
client write log 1086500352956058103 (index 206) to leader 2
client write log 2678201561121948670 (index 207) to leader 2
client write log 1187546579329378812 (index 208) to leader 2
client write log 6034944775494755701 (index 209) to leader 2
flag 21483 term 31 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 31 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 18251 term 31 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 29 199} {7845540160546095307 31 200} {1659866138467146418 31 201} {2694469768907964264 31 202} {4287018267602370932 31 203} {4971689555305677387 31 204} {9033216076780416387 31 205} {1086500352956058103 31 206} {2678201561121948670 31 207} {1187546579329378812 31 208} {6034944775494755701 31 209}]
------------------------------------------------------
term 31 Server2 start snapshot! index=209
term 31 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
term 31 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 66405 term 31 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 31 209}]
------------------------------------------------------
term 31 Server1 start snapshot! index=209
term 31 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
!!!!!!connect server 0
client write log 9140898465560289151 (index 210) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 2 not vote for server 0, 日志不够新
term 31 server 1 not vote for server 0, 日志不够新
term 33 server 1 vote for server 2
term 33 server 0 vote for server 2
term 33 server 2 get vote from server 1
term 33 server 2 become leader
------------------------------------------------------
term 33 server 2 get outdate rpc reply from server 0
flag 81325 term 33 leader 2 nextIndex[0]: 211  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
flag 56130 term 33 leader 2 nextIndex[1]: 211  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 211->210
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 211->210
------------------------------------------------------
term 33 leader 2 nextIndex[0]: 201  matchIndex[0]: 0
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 92599 term 33 leader 2 nextIndex[1]: 210  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 33 server 0 InstallSnapshot success
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 31 rf.commitIndex 209 rf.lastApplied 209
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
term 33 server 0 not vote for server 2, 任期不够新
term 33 server 2 get outdate rpc reply from server 0
flag 15458 term 33 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 33 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
flag 28769 term 33 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
flag 21008 term 33 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
flag 94056 term 33 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
flag 19467 term 33 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
flag 53388 term 33 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
flag 50853 term 33 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
flag 73889 term 33 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
flag 50517 term 33 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
flag 62669 term 33 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
flag 82771 term 33 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
flag 33259 term 33 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
flag 79659 term 33 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
flag 5198 term 33 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71335 term 33 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
flag 45168 term 33 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65349 term 33 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
flag 20557 term 33 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91872 term 33 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
flag 31296 term 33 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37406 term 33 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
flag 42695 term 33 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24160 term 33 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
flag 62981 term 33 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4861 term 33 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
flag 99018 term 33 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58924 term 33 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
flag 12610 term 33 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
flag 12962 term 33 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
flag 49063 term 33 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86931 term 33 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
flag 14595 term 33 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65997 term 33 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
flag 52287 term 33 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 31 209} {9140898465560289151 31 210}]
------------------------------------------------------
client write log 9140898465560289151 (index 211) to leader 2
flag 50839 term 33 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
flag 14360 term 33 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 33 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211}]
------------------------------------------------------
flag 37889 term 33 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 32673 term 33 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211}]
------------------------------------------------------
flag 38727 term 33 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 2394 term 33 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75946 term 33 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 33168 term 33 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211}]
------------------------------------------------------
flag 5023 term 33 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 51084 term 33 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211}]
------------------------------------------------------
flag 74192 term 33 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 52567 term 33 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211}]
------------------------------------------------------
!!!!!!diconnect server 2
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45883 term 33 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 18974 term 33 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 38793 term 33 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 45238 term 33 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 19242 term 33 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 14348 term 33 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 34 server 1 vote for server 0
term 34 server 0 get vote from server 1
term 34 server 0 become leader
------------------------------------------------------
client write log 3753348821650086818 (index 212) to leader 0
flag 86217 term 34 leader 0 nextIndex[1]: 212  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 28981 term 34 leader 0 nextIndex[2]: 212  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212}]
------------------------------------------------------
flag 4882 term 33 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 58700 term 33 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 56175 term 34 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
flag 61837 term 34 leader 0 nextIndex[2]: 212  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212}]
------------------------------------------------------
flag 79660 term 33 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 76396 term 33 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
client write log 3716746681874678311 (index 213) to leader 0
client write log 3261528822966976537 (index 214) to leader 0
client write log 837914389201899568 (index 215) to leader 0
client write log 4159746383487534562 (index 216) to leader 0
client write log 8588176784031868696 (index 217) to leader 0
client write log 6716358482854168815 (index 218) to leader 0
flag 17725 term 34 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 34 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
flag 83716 term 34 leader 0 nextIndex[2]: 212  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
flag 82835 term 33 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 4358 term 33 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 36779 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 35367 term 34 leader 0 nextIndex[2]: 212  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
flag 705 term 33 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 22726 term 33 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
!!!!!!connect server 2
client write log 34405827736700055 (index 212) to leader 2
flag 82091 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 78198 term 34 leader 0 nextIndex[2]: 212  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
flag 7545 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 13528 term 34 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
flag 60929 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 80234 term 34 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
flag 13637 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 5306 term 34 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
flag 43718 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 22410 term 34 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 219->218
------------------------------------------------------
term 34 server 1 not vote for server 0, 任期不够新
term 34 server 0 get outdate rpc reply from server 1
flag 13671 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 0  matchIndex[2]: 218
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
term 34 server 2 InstallSnapshot fail
rf.commitIndex 218 args.LastIncludedIndex 209
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
flag 51012 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 56588 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
term 34 server 2 not vote for server 0, 任期不够新
term 34 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17086 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 50248 term 34 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
flag 1438 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 82378 term 34 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
flag 74641 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 90914 term 34 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
flag 50076 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 37158 term 34 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
flag 92906 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 43939 term 34 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
flag 28898 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 73248 term 34 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 219->218
------------------------------------------------------
flag 94948 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 0  matchIndex[2]: 218
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
term 34 server 2 InstallSnapshot fail
rf.commitIndex 218 args.LastIncludedIndex 209
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
flag 42521 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 29726 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
flag 10590 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 96127 term 34 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
flag 61292 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 88654 term 34 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
flag 47118 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 83949 term 34 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64576 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 76473 term 34 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86195 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 18985 term 34 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218}]
------------------------------------------------------
client write log 34405827736700055 (index 219) to leader 0
flag 2708 term 34 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 25956 term 34 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 34 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218} {34405827736700055 34 219}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 209} {9140898465560289151 31 210} {9140898465560289151 33 211} {3753348821650086818 34 212} {3716746681874678311 34 213} {3261528822966976537 34 214} {837914389201899568 34 215} {4159746383487534562 34 216} {8588176784031868696 34 217} {6716358482854168815 34 218} {34405827736700055 34 219}]
------------------------------------------------------
term 34 Server0 start snapshot! index=219
term 34 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 89168 term 34 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 71295 term 34 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
term 34 Server2 start snapshot! index=219
term 34 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
term 34 Server1 start snapshot! index=219
term 34 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 65525 term 34 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 21486 term 34 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56149 term 34 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 39103 term 34 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
flag 52912 term 34 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 2149 term 34 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94168 term 34 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 25850 term 34 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 219}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7890197530375901369 (index 220) to leader 0
flag 94448 term 34 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
flag 74624 term 34 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 219 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {7890197530375901369 34 220}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47755 term 34 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 3851 term 34 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 34 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {7890197530375901369 34 220}]
------------------------------------------------------
client write log 2173581527273545396 (index 221) to leader 0
client write log 4526447092520688648 (index 222) to leader 0
client write log 1129373817018135033 (index 223) to leader 0
client write log 1099057264265573440 (index 224) to leader 0
client write log 2569886843332584059 (index 225) to leader 0
client write log 5787612043188414648 (index 226) to leader 0
client write log 366367964217456267 (index 227) to leader 0
client write log 2871533056525505529 (index 228) to leader 0
client write log 5582118599806653185 (index 229) to leader 0
client write log 1912018532027087874 (index 230) to leader 0
client write log 7078750979785470606 (index 231) to leader 0
client write log 2952990376071943321 (index 232) to leader 0
flag 59933 term 34 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 4491 term 34 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 34 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 34 219} {7890197530375901369 34 220} {2173581527273545396 34 221} {4526447092520688648 34 222} {1129373817018135033 34 223} {1099057264265573440 34 224} {2569886843332584059 34 225} {5787612043188414648 34 226} {366367964217456267 34 227} {2871533056525505529 34 228} {5582118599806653185 34 229} {1912018532027087874 34 230} {7078750979785470606 34 231} {2952990376071943321 34 232}]
------------------------------------------------------
term 34 Server0 start snapshot! index=229
term 34 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=232
-------------------------------------------------------------
term 34 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 91237 term 34 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 34 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {1912018532027087874 34 230} {7078750979785470606 34 231} {2952990376071943321 34 232}]
------------------------------------------------------
term 34 Server2 start snapshot! index=229
term 34 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=232
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3882468235504367067 (index 233) to leader 0
term 34 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 445 term 34 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 34 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
term 35 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {1912018532027087874 34 230} {7078750979785470606 34 231} {2952990376071943321 34 232} {3882468235504367067 34 233}]
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 2 vote for server 0
term 36 server 0 get vote from server 2
term 36 server 0 become leader
------------------------------------------------------
term 36 server 1 vote for server 0
term 36 server 0 get outdate rpc reply from server 1
flag 67564 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 41749 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {1912018532027087874 34 230} {7078750979785470606 34 231} {2952990376071943321 34 232} {3882468235504367067 34 233}]
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 234->233
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 0
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 92368 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 36 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {1912018532027087874 34 230} {7078750979785470606 34 231} {2952990376071943321 34 232} {3882468235504367067 34 233}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 34 rf.commitIndex 229 rf.lastApplied 229
flag 98082 term 36 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 36 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 43312 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {1912018532027087874 34 230} {7078750979785470606 34 231} {2952990376071943321 34 232} {3882468235504367067 34 233}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {1912018532027087874 34 230} {7078750979785470606 34 231} {2952990376071943321 34 232} {3882468235504367067 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97396 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 72476 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {1912018532027087874 34 230} {7078750979785470606 34 231} {2952990376071943321 34 232} {3882468235504367067 34 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {1912018532027087874 34 230} {7078750979785470606 34 231} {2952990376071943321 34 232} {3882468235504367067 34 233}]
------------------------------------------------------
flag 9530 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 74053 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
term 36 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {1912018532027087874 34 230} {7078750979785470606 34 231} {2952990376071943321 34 232} {3882468235504367067 34 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {1912018532027087874 34 230} {7078750979785470606 34 231} {2952990376071943321 34 232} {3882468235504367067 34 233}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 0 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 0
flag 9644 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 23087 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {1912018532027087874 34 230} {7078750979785470606 34 231} {2952990376071943321 34 232} {3882468235504367067 34 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {1912018532027087874 34 230} {7078750979785470606 34 231} {2952990376071943321 34 232} {3882468235504367067 34 233}]
------------------------------------------------------
flag 95168 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 15705 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {1912018532027087874 34 230} {7078750979785470606 34 231} {2952990376071943321 34 232} {3882468235504367067 34 233}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {1912018532027087874 34 230} {7078750979785470606 34 231} {2952990376071943321 34 232} {3882468235504367067 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8984 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 31249 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {1912018532027087874 34 230} {7078750979785470606 34 231} {2952990376071943321 34 232} {3882468235504367067 34 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {1912018532027087874 34 230} {7078750979785470606 34 231} {2952990376071943321 34 232} {3882468235504367067 34 233}]
------------------------------------------------------
!!!!!!diconnect server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1462686994223544923 (index 234) to leader 0
flag 30868 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 65524 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {1912018532027087874 34 230} {7078750979785470606 34 231} {2952990376071943321 34 232} {3882468235504367067 34 233} {1462686994223544923 36 234}]
------------------------------------------------------
flag 16859 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 54114 term 36 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {1912018532027087874 34 230} {7078750979785470606 34 231} {2952990376071943321 34 232} {3882468235504367067 34 233} {1462686994223544923 36 234}]
------------------------------------------------------
client write log 582242522560037079 (index 235) to leader 0
client write log 7191888190081251666 (index 236) to leader 0
client write log 2759267975775049769 (index 237) to leader 0
client write log 5414133584083847510 (index 238) to leader 0
client write log 6914487159690075906 (index 239) to leader 0
client write log 5663377859355981590 (index 240) to leader 0
client write log 8530269041801107867 (index 241) to leader 0
flag 15164 term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 51076 term 36 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 36 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 34 229} {1912018532027087874 34 230} {7078750979785470606 34 231} {2952990376071943321 34 232} {3882468235504367067 34 233} {1462686994223544923 36 234} {582242522560037079 36 235} {7191888190081251666 36 236} {2759267975775049769 36 237} {5414133584083847510 36 238} {6914487159690075906 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241}]
------------------------------------------------------
term 36 Server0 start snapshot! index=239
term 36 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=241
-------------------------------------------------------------
term 36 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
flag 14376 term 36 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 36 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241}]
------------------------------------------------------
term 36 Server2 start snapshot! index=239
term 36 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=241
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5385096896109945834 (index 242) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 2 not vote for server 1, 日志不够新
term 36 server 0 not vote for server 1, 日志不够新
term 38 server 2 vote for server 0
term 38 server 1 vote for server 0
term 38 server 0 get vote from server 2
term 38 server 0 become leader
------------------------------------------------------
term 38 server 0 get outdate rpc reply from server 1
flag 63164 term 38 leader 0 nextIndex[1]: 243  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 85525 term 38 leader 0 nextIndex[2]: 243  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 243->242
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 243->242
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 234  matchIndex[1]: 0
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
flag 93757 term 38 leader 0 nextIndex[2]: 242  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 38 server 1 InstallSnapshot success
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 36 rf.commitIndex 239 rf.lastApplied 239
flag 20963 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 81228 term 38 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
flag 25155 term 38 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 29999 term 38 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
flag 64955 term 38 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 5731 term 38 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
flag 71188 term 38 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 87564 term 38 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
flag 46985 term 38 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 52959 term 38 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
flag 29320 term 38 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 75301 term 38 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1383 term 38 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 78869 term 38 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
flag 16125 term 38 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 89915 term 38 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26432 term 38 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 35382 term 38 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
flag 9621 term 38 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 51449 term 38 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
term 38 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83247 term 38 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 82358 term 38 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
term 38 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
flag 49652 term 38 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 18563 term 38 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
flag 72130 term 38 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 18870 term 38 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18614 term 38 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 81820 term 38 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81891 term 38 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 58348 term 38 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9792 term 38 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 23307 term 38 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
term 38 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81125 term 38 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 34114 term 38 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78062 term 38 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 59631 term 38 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242}]
------------------------------------------------------
client write log 5385096896109945834 (index 243) to leader 0
term 38 server 2 not vote for server 0, 任期不够新
term 38 server 0 get outdate rpc reply from server 2
flag 96738 term 38 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 9628 term 38 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242} {5385096896109945834 38 243}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242} {5385096896109945834 38 243}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21372 term 38 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 38 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 42164 term 38 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 38 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242} {5385096896109945834 38 243}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242} {5385096896109945834 38 243}]
------------------------------------------------------
flag 68152 term 38 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 38 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 25030 term 38 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 38 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242} {5385096896109945834 38 243}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242} {5385096896109945834 38 243}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95680 term 38 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 38 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 72546 term 38 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 38 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242} {5385096896109945834 38 243}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242} {5385096896109945834 38 243}]
------------------------------------------------------
flag 66823 term 38 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 38 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 82233 term 38 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 38 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242} {5385096896109945834 38 243}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242} {5385096896109945834 38 243}]
------------------------------------------------------
flag 19020 term 38 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 38 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 79601 term 38 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 38 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242} {5385096896109945834 38 243}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242} {5385096896109945834 38 243}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
flag 83285 term 38 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 38 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 923 term 38 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 38 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 87011 term 38 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 38 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 77767 term 38 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 38 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 11322 term 38 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 38 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 93461 term 38 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 38 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 244->243
------------------------------------------------------
term 39 server 2 vote for server 1
term 39 server 1 get vote from server 2
term 39 server 1 become leader
------------------------------------------------------
flag 9852 term 39 leader 1 nextIndex[0]: 244  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 49001 term 39 leader 1 nextIndex[2]: 244  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242} {5385096896109945834 38 243}]
------------------------------------------------------
flag 70701 term 38 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 38 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
term 38 leader 0 nextIndex[2]: 0  matchIndex[2]: 243
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
client write log 4002508746104506812 (index 244) to leader 1
flag 9395 term 38 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 38 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 43054 term 39 leader 1 nextIndex[0]: 244  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 94647 term 39 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 39 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
term 38 leader 0 nextIndex[2]: 0  matchIndex[2]: 243
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242} {5385096896109945834 38 243} {4002508746104506812 39 244}]
------------------------------------------------------
flag 78427 term 39 leader 1 nextIndex[0]: 244  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 244 
------------------------------------------------------
flag 58772 term 39 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 39 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 55500 term 38 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 38 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
term 38 leader 0 nextIndex[2]: 0  matchIndex[2]: 243
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242} {5385096896109945834 38 243} {4002508746104506812 39 244}]
------------------------------------------------------
client write log 3678609210835085403 (index 245) to leader 1
client write log 5948597960237056648 (index 246) to leader 1
client write log 1525907718358113728 (index 247) to leader 1
client write log 1255050791317133965 (index 248) to leader 1
client write log 6197299981858748315 (index 249) to leader 1
client write log 1712993072698508635 (index 250) to leader 1
client write log 3839968785454080885 (index 251) to leader 1
client write log 225327199808236827 (index 252) to leader 1
client write log 5035679661892764330 (index 253) to leader 1
client write log 6289868167335753337 (index 254) to leader 1
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 244->243
------------------------------------------------------
flag 97719 term 39 leader 1 nextIndex[0]: 244  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 244 
------------------------------------------------------
flag 36148 term 39 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 39 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 243
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 0 nextIndex[2]: 0  matchIndex[2]: 243
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 239} {5663377859355981590 36 240} {8530269041801107867 36 241} {5385096896109945834 36 242} {5385096896109945834 38 243} {4002508746104506812 39 244} {3678609210835085403 39 245} {5948597960237056648 39 246} {1525907718358113728 39 247} {1255050791317133965 39 248} {6197299981858748315 39 249} {1712993072698508635 39 250} {3839968785454080885 39 251} {225327199808236827 39 252} {5035679661892764330 39 253} {6289868167335753337 39 254}]
------------------------------------------------------
term 39 Server1 start snapshot! index=249
term 39 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=254
-------------------------------------------------------------
term 39 leader 1 nextIndex[0]: 244  matchIndex[0]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 80819 term 39 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 243
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 0 nextIndex[2]: 0  matchIndex[2]: 243
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {1712993072698508635 39 250} {3839968785454080885 39 251} {225327199808236827 39 252} {5035679661892764330 39 253} {6289868167335753337 39 254}]
------------------------------------------------------
term 39 Server2 start snapshot! index=249
term 39 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=254
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8171583867583254844 (index 255) to leader 1
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 243
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 0 nextIndex[2]: 0  matchIndex[2]: 243
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 39 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 leader 1 nextIndex[0]: 244  matchIndex[0]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 15420 term 39 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 server 0 InstallSnapshot success
------------------------------------------------------
term 39 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 39 rf.commitIndex 249 rf.lastApplied 249
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1712993072698508635 39 250} {3839968785454080885 39 251} {225327199808236827 39 252} {5035679661892764330 39 253} {6289868167335753337 39 254} {8171583867583254844 39 255}]
------------------------------------------------------
term 39 server 2 not vote for server 0, 日志不够新
flag 99931 term 39 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 5613 term 39 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 not vote for server 0, 日志不够新
term 40 server 0 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 server 2 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 2 vote for server 1
term 41 server 1 get vote from server 2
term 41 server 1 become leader
------------------------------------------------------
term 41 server 0 vote for server 1
term 41 server 1 get outdate rpc reply from server 0
flag 14419 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 54507 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 41 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1712993072698508635 39 250} {3839968785454080885 39 251} {225327199808236827 39 252} {5035679661892764330 39 253} {6289868167335753337 39 254} {8171583867583254844 39 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 256->255
------------------------------------------------------
flag 32156 term 41 leader 1 nextIndex[0]: 250  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 37611 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1712993072698508635 39 250} {3839968785454080885 39 251} {225327199808236827 39 252} {5035679661892764330 39 253} {6289868167335753337 39 254} {8171583867583254844 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1712993072698508635 39 250} {3839968785454080885 39 251} {225327199808236827 39 252} {5035679661892764330 39 253} {6289868167335753337 39 254} {8171583867583254844 39 255}]
------------------------------------------------------
flag 6730 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 96621 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1712993072698508635 39 250} {3839968785454080885 39 251} {225327199808236827 39 252} {5035679661892764330 39 253} {6289868167335753337 39 254} {8171583867583254844 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1712993072698508635 39 250} {3839968785454080885 39 251} {225327199808236827 39 252} {5035679661892764330 39 253} {6289868167335753337 39 254} {8171583867583254844 39 255}]
------------------------------------------------------
flag 25297 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 27816 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1712993072698508635 39 250} {3839968785454080885 39 251} {225327199808236827 39 252} {5035679661892764330 39 253} {6289868167335753337 39 254} {8171583867583254844 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1712993072698508635 39 250} {3839968785454080885 39 251} {225327199808236827 39 252} {5035679661892764330 39 253} {6289868167335753337 39 254} {8171583867583254844 39 255}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2934 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 86453 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1712993072698508635 39 250} {3839968785454080885 39 251} {225327199808236827 39 252} {5035679661892764330 39 253} {6289868167335753337 39 254} {8171583867583254844 39 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1712993072698508635 39 250} {3839968785454080885 39 251} {225327199808236827 39 252} {5035679661892764330 39 253} {6289868167335753337 39 254} {8171583867583254844 39 255}]
------------------------------------------------------
term 41 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38628 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 60787 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1712993072698508635 39 250} {3839968785454080885 39 251} {225327199808236827 39 252} {5035679661892764330 39 253} {6289868167335753337 39 254} {8171583867583254844 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1712993072698508635 39 250} {3839968785454080885 39 251} {225327199808236827 39 252} {5035679661892764330 39 253} {6289868167335753337 39 254} {8171583867583254844 39 255}]
------------------------------------------------------
flag 20476 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 80936 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1712993072698508635 39 250} {3839968785454080885 39 251} {225327199808236827 39 252} {5035679661892764330 39 253} {6289868167335753337 39 254} {8171583867583254844 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1712993072698508635 39 250} {3839968785454080885 39 251} {225327199808236827 39 252} {5035679661892764330 39 253} {6289868167335753337 39 254} {8171583867583254844 39 255}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16579 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 24785 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1712993072698508635 39 250} {3839968785454080885 39 251} {225327199808236827 39 252} {5035679661892764330 39 253} {6289868167335753337 39 254} {8171583867583254844 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {1712993072698508635 39 250} {3839968785454080885 39 251} {225327199808236827 39 252} {5035679661892764330 39 253} {6289868167335753337 39 254} {8171583867583254844 39 255}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 240282491223559746 (index 256) to leader 1
flag 436 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 40292 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {1712993072698508635 39 250} {3839968785454080885 39 251} {225327199808236827 39 252} {5035679661892764330 39 253} {6289868167335753337 39 254} {8171583867583254844 39 255} {240282491223559746 41 256}]
------------------------------------------------------
flag 52162 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 77046 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {1712993072698508635 39 250} {3839968785454080885 39 251} {225327199808236827 39 252} {5035679661892764330 39 253} {6289868167335753337 39 254} {8171583867583254844 39 255} {240282491223559746 41 256}]
------------------------------------------------------
client write log 8173838731583853419 (index 257) to leader 1
client write log 7845821861472115908 (index 258) to leader 1
client write log 4151021634820159398 (index 259) to leader 1
client write log 5880194201273842191 (index 260) to leader 1
client write log 6108639224375492600 (index 261) to leader 1
client write log 7292482912660868265 (index 262) to leader 1
client write log 6577265708988067169 (index 263) to leader 1
flag 89271 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 31696 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 249} {1712993072698508635 39 250} {3839968785454080885 39 251} {225327199808236827 39 252} {5035679661892764330 39 253} {6289868167335753337 39 254} {8171583867583254844 39 255} {240282491223559746 41 256} {8173838731583853419 41 257} {7845821861472115908 41 258} {4151021634820159398 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263}]
------------------------------------------------------
term 41 Server1 start snapshot! index=259
term 41 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=263
-------------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96953 term 41 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 41 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263}]
------------------------------------------------------
term 41 Server0 start snapshot! index=259
term 41 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=263
-------------------------------------------------------------
!!!!!!connect server 2
client write log 252322626721385177 (index 264) to leader 1
term 41 server 0 not vote for server 2, 日志不够新
flag 4482 term 41 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 41 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
term 42 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 server 0 AppendEntries false 领导者任期过期 args.Term 41
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 vote for server 1
term 43 server 1 get vote from server 2
term 43 server 1 become leader
------------------------------------------------------
term 43 server 0 vote for server 1
term 43 server 1 get outdate rpc reply from server 0
flag 4681 term 43 leader 1 nextIndex[0]: 265  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 86282 term 43 leader 1 nextIndex[2]: 265  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 265->264
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 265->264
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29061 term 43 leader 1 nextIndex[0]: 264  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 256  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 41 rf.commitIndex 259 rf.lastApplied 259
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
flag 13488 term 43 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 46403 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
flag 83276 term 43 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 70010 term 43 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
term 43 server 2 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 2
flag 34123 term 43 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 52600 term 43 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20031 term 43 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 4643 term 43 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
flag 4880 term 43 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 39722 term 43 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
flag 85343 term 43 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 89078 term 43 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
flag 90073 term 43 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 60319 term 43 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
flag 31908 term 43 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 63912 term 43 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
flag 45688 term 43 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 95090 term 43 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
flag 73800 term 43 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 20087 term 43 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
flag 50754 term 43 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 21167 term 43 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
flag 14951 term 43 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 36291 term 43 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22298 term 43 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 52889 term 43 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
flag 58695 term 43 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 55210 term 43 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
term 43 server 1 not vote for server 2, 任期不够新
term 43 server 2 get outdate rpc reply from server 1
flag 4249 term 43 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 66727 term 43 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53510 term 43 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 25544 term 43 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
flag 88659 term 43 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 37338 term 43 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264}]
------------------------------------------------------
client write log 252322626721385177 (index 265) to leader 1
term 43 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44234 term 43 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 85356 term 43 leader 1 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264} {252322626721385177 43 265}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264} {252322626721385177 43 265}]
------------------------------------------------------
flag 3229 term 43 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
flag 38936 term 43 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264} {252322626721385177 43 265}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264} {252322626721385177 43 265}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86531 term 43 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
flag 13306 term 43 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264} {252322626721385177 43 265}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264} {252322626721385177 43 265}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32002 term 43 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
flag 70851 term 43 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
term 43 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264} {252322626721385177 43 265}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264} {252322626721385177 43 265}]
------------------------------------------------------
flag 22969 term 43 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
flag 33231 term 43 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264} {252322626721385177 43 265}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264} {252322626721385177 43 265}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56504 term 43 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
flag 30846 term 43 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264} {252322626721385177 43 265}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264} {252322626721385177 43 265}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29571 term 43 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
flag 97076 term 43 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264} {252322626721385177 43 265}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264} {252322626721385177 43 265}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4641177418287645563 (index 266) to leader 1
flag 99253 term 43 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
flag 67263 term 43 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264} {252322626721385177 43 265} {4641177418287645563 43 266}]
------------------------------------------------------
flag 55490 term 43 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 43 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 11284 term 43 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264} {252322626721385177 43 265} {4641177418287645563 43 266}]
------------------------------------------------------
client write log 5619665877014989245 (index 267) to leader 1
client write log 2747851223814949654 (index 268) to leader 1
client write log 3087403803838944694 (index 269) to leader 1
client write log 731950913442483897 (index 270) to leader 1
client write log 6052791310527612843 (index 271) to leader 1
client write log 1988626838892032336 (index 272) to leader 1
client write log 1202054016127872290 (index 273) to leader 1
client write log 2827344781309627163 (index 274) to leader 1
flag 61989 term 43 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 43 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 11232 term 43 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 259} {5880194201273842191 41 260} {6108639224375492600 41 261} {7292482912660868265 41 262} {6577265708988067169 41 263} {252322626721385177 41 264} {252322626721385177 43 265} {4641177418287645563 43 266} {5619665877014989245 43 267} {2747851223814949654 43 268} {3087403803838944694 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274}]
------------------------------------------------------
term 43 Server1 start snapshot! index=269
term 43 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=274
-------------------------------------------------------------
flag 44273 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274}]
------------------------------------------------------
term 43 Server0 start snapshot! index=269
term 43 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=274
-------------------------------------------------------------
!!!!!!connect server 2
term 43 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 8304852732555239624 (index 275) to leader 1
term 43 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 1 not vote for server 2, 日志不够新
term 43 server 0 not vote for server 2, 日志不够新
term 45 server 2 vote for server 1
term 45 server 1 get vote from server 2
term 45 server 1 become leader
------------------------------------------------------
term 45 server 0 vote for server 1
term 45 server 1 get outdate rpc reply from server 0
flag 11214 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 24681 term 45 leader 1 nextIndex[2]: 276  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 276->275
------------------------------------------------------
term 45 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 276->275
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54654 term 45 leader 1 nextIndex[0]: 275  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 266  matchIndex[2]: 0
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
term 45 server 2 InstallSnapshot success
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 43 rf.commitIndex 269 rf.lastApplied 269
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58176 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 62863 term 45 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68478 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 79203 term 45 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
flag 1834 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 35465 term 45 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
flag 80110 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 83570 term 45 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
term 45 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62675 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 9920 term 45 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
flag 34705 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 91412 term 45 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62526 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 94773 term 45 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
flag 88022 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 8520 term 45 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69503 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 84725 term 45 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
term 45 server 0 not vote for server 1, 任期不够新
term 45 server 1 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27207 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 23246 term 45 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
flag 77743 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 39005 term 45 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
flag 10069 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 76041 term 45 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
flag 74895 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 41437 term 45 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
flag 3546 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 29241 term 45 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43066 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 29994 term 45 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
flag 61731 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 6554 term 45 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
flag 98662 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 81292 term 45 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275}]
------------------------------------------------------
flag 61034 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 32154 term 45 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
client write log 8304852732555239624 (index 276) to leader 1
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275} {8304852732555239624 45 276}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275} {8304852732555239624 45 276}]
------------------------------------------------------
flag 15561 term 45 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 46819 term 45 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 45 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275} {8304852732555239624 45 276}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275} {8304852732555239624 45 276}]
------------------------------------------------------
flag 76151 term 45 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 94377 term 45 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275} {8304852732555239624 45 276}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275} {8304852732555239624 45 276}]
------------------------------------------------------
term 45 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81723 term 45 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 26443 term 45 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275} {8304852732555239624 45 276}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275} {8304852732555239624 45 276}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3682 term 45 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 32661 term 45 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275} {8304852732555239624 45 276}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275} {8304852732555239624 45 276}]
------------------------------------------------------
flag 64582 term 45 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 51107 term 45 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275} {8304852732555239624 45 276}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275} {8304852732555239624 45 276}]
------------------------------------------------------
flag 33226 term 45 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 9130 term 45 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275} {8304852732555239624 45 276}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275} {8304852732555239624 45 276}]
------------------------------------------------------
flag 56217 term 45 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 529 term 45 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275} {8304852732555239624 45 276}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275} {8304852732555239624 45 276}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 37953 term 45 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 55591 term 45 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 52591 term 45 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 77078 term 45 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 277->276
------------------------------------------------------
term 45 leader 1 nextIndex[0]: 0  matchIndex[0]: 276
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 71973 term 45 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 46 server 0 vote for server 2
term 46 server 2 get vote from server 0
term 46 server 2 become leader
------------------------------------------------------
flag 71380 term 46 leader 2 nextIndex[0]: 277  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 41972 term 46 leader 2 nextIndex[1]: 277  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275} {8304852732555239624 45 276}]
------------------------------------------------------
client write log 2173837256219495056 (index 277) to leader 2
term 45 leader 1 nextIndex[0]: 0  matchIndex[0]: 276
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 7476 term 45 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 67689 term 46 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 46 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 63842 term 46 leader 2 nextIndex[1]: 277  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275} {8304852732555239624 45 276} {2173837256219495056 46 277}]
------------------------------------------------------
term 45 leader 1 nextIndex[0]: 0  matchIndex[0]: 276
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 80488 term 45 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 98651 term 46 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 46 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 20420 term 46 leader 2 nextIndex[1]: 277  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275} {8304852732555239624 45 276} {2173837256219495056 46 277}]
------------------------------------------------------
client write log 8523279836987499024 (index 278) to leader 2
client write log 5889855606623348108 (index 279) to leader 2
client write log 8738956347666823744 (index 280) to leader 2
client write log 5438041318847602039 (index 281) to leader 2
client write log 5112371898708732257 (index 282) to leader 2
client write log 4970710359608102756 (index 283) to leader 2
client write log 4539635878877255930 (index 284) to leader 2
client write log 1241342457378596852 (index 285) to leader 2
client write log 7832671866721420720 (index 286) to leader 2
client write log 712002562034832031 (index 287) to leader 2
client write log 2622859015818119700 (index 288) to leader 2
client write log 7746354240509068353 (index 289) to leader 2
client write log 1048382740464573780 (index 290) to leader 2
term 45 leader 1 nextIndex[0]: 0  matchIndex[0]: 276
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 82530 term 45 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 30961 term 46 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 46 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 24650 term 46 leader 2 nextIndex[1]: 277  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 43 269} {731950913442483897 43 270} {6052791310527612843 43 271} {1988626838892032336 43 272} {1202054016127872290 43 273} {2827344781309627163 43 274} {8304852732555239624 43 275} {8304852732555239624 45 276} {2173837256219495056 46 277} {8523279836987499024 46 278} {5889855606623348108 46 279} {8738956347666823744 46 280} {5438041318847602039 46 281} {5112371898708732257 46 282} {4970710359608102756 46 283} {4539635878877255930 46 284} {1241342457378596852 46 285} {7832671866721420720 46 286} {712002562034832031 46 287} {2622859015818119700 46 288} {7746354240509068353 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
term 46 Server2 start snapshot! index=279
term 46 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=290
-------------------------------------------------------------
term 46 Server2 start snapshot! index=289
term 46 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=290
-------------------------------------------------------------
term 45 leader 1 nextIndex[0]: 0  matchIndex[0]: 276
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 31809 term 45 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 43538 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 277  matchIndex[1]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
term 46 Server0 start snapshot! index=279
term 46 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=290
-------------------------------------------------------------
term 46 Server0 start snapshot! index=289
term 46 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=290
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4511483970997655143 (index 277) to leader 1
term 45 leader 1 nextIndex[0]: 0  matchIndex[0]: 276
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 43791 term 45 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 46 server 2 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 46 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5009 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 277  matchIndex[1]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 1 InstallSnapshot success
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 46 rf.commitIndex 289 rf.lastApplied 289
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
flag 42895 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 3225 term 46 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78959 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 36788 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 291->290
------------------------------------------------------
flag 1719 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 290
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 1 InstallSnapshot fail
rf.commitIndex 290 args.LastIncludedIndex 289
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
flag 82520 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 76602 term 46 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
flag 51465 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 1515 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87755 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 60888 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
flag 12704 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 54395 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
flag 81782 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 96774 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19955 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 63581 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
term 46 server 1 not vote for server 2, 日志不够新
term 46 server 2 get outdate rpc reply from server 1
flag 1111 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 37133 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
flag 35880 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 2862 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
flag 77445 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 39471 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
flag 55623 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 2837 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18760 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 91027 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
flag 71140 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 83078 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69803 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 50550 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 291->290
------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62685 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 290
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 1 InstallSnapshot fail
rf.commitIndex 290 args.LastIncludedIndex 289
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
flag 43905 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 5518 term 46 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
flag 25297 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 57072 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {1048382740464573780 46 290}]
------------------------------------------------------
client write log 4511483970997655143 (index 291) to leader 2
flag 36569 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 48492 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {1048382740464573780 46 290} {4511483970997655143 46 291}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {1048382740464573780 46 290} {4511483970997655143 46 291}]
------------------------------------------------------
flag 96998 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 41284 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {1048382740464573780 46 290} {4511483970997655143 46 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {1048382740464573780 46 290} {4511483970997655143 46 291}]
------------------------------------------------------
flag 36154 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 12528 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {1048382740464573780 46 290} {4511483970997655143 46 291}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {1048382740464573780 46 290} {4511483970997655143 46 291}]
------------------------------------------------------
flag 62860 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 62154 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {1048382740464573780 46 290} {4511483970997655143 46 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {1048382740464573780 46 290} {4511483970997655143 46 291}]
------------------------------------------------------
flag 31301 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 83026 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {1048382740464573780 46 290} {4511483970997655143 46 291}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {1048382740464573780 46 290} {4511483970997655143 46 291}]
------------------------------------------------------
flag 35926 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 21394 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {1048382740464573780 46 290} {4511483970997655143 46 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {1048382740464573780 46 290} {4511483970997655143 46 291}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1863374400887279785 (index 292) to leader 2
flag 84548 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 37863 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1048382740464573780 46 290} {4511483970997655143 46 291} {1863374400887279785 46 292}]
------------------------------------------------------
flag 30288 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 96415 term 46 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 46 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1048382740464573780 46 290} {4511483970997655143 46 291} {1863374400887279785 46 292}]
------------------------------------------------------
client write log 3554928153637801670 (index 293) to leader 2
client write log 7139905687593026038 (index 294) to leader 2
client write log 1500357816136849835 (index 295) to leader 2
client write log 5167986332455974350 (index 296) to leader 2
client write log 1760801810556825549 (index 297) to leader 2
client write log 5435549341799825037 (index 298) to leader 2
client write log 6129665042724386632 (index 299) to leader 2
client write log 6547827588411498958 (index 300) to leader 2
client write log 1107436981395600869 (index 301) to leader 2
client write log 8024723207105883959 (index 302) to leader 2
client write log 5167536188382463745 (index 303) to leader 2
client write log 5110154604862262080 (index 304) to leader 2
client write log 4307061916323216179 (index 305) to leader 2
client write log 7266894401336545100 (index 306) to leader 2
flag 35081 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 43868 term 46 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 46 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 46 289} {1048382740464573780 46 290} {4511483970997655143 46 291} {1863374400887279785 46 292} {3554928153637801670 46 293} {7139905687593026038 46 294} {1500357816136849835 46 295} {5167986332455974350 46 296} {1760801810556825549 46 297} {5435549341799825037 46 298} {6129665042724386632 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306}]
------------------------------------------------------
term 46 Server2 start snapshot! index=299
term 46 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=306
-------------------------------------------------------------
term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
flag 81401 term 46 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 46 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306}]
------------------------------------------------------
term 46 Server1 start snapshot! index=299
term 46 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=306
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7027310831264804489 (index 307) to leader 2
term 46 server 2 not vote for server 0, 日志不够新
term 46 server 1 not vote for server 0, 日志不够新
term 48 server 1 vote for server 2
term 48 server 2 get vote from server 1
term 48 server 2 become leader
------------------------------------------------------
term 48 server 0 vote for server 2
term 48 server 2 get outdate rpc reply from server 0
flag 59350 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 65795 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 308->307
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 308->307
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 292  matchIndex[0]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
flag 39123 term 48 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
term 48 server 0 InstallSnapshot success
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 46 rf.commitIndex 299 rf.lastApplied 299
flag 23577 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 79139 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
flag 46104 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 19985 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
flag 72036 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 76730 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76063 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 11082 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
flag 41629 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 3841 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
flag 92404 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 65105 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
flag 51231 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 59217 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
flag 51836 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 70794 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
flag 99585 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 47192 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55153 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 57591 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
term 48 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25374 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 26854 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
flag 18607 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 39328 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:306 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
flag 13017 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 33594 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
flag 36931 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 29430 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65072 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 68251 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97892 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 91999 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
flag 98650 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 14863 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307}]
------------------------------------------------------
client write log 7027310831264804489 (index 308) to leader 2
flag 1523 term 48 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
flag 51819 term 48 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 48 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 46 leaderCommit: 306 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307} {7027310831264804489 48 308}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307} {7027310831264804489 48 308}]
------------------------------------------------------
flag 10419 term 48 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 48 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 64439 term 48 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 48 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
term 48 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307} {7027310831264804489 48 308}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307} {7027310831264804489 48 308}]
------------------------------------------------------
flag 33669 term 48 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 48 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 86044 term 48 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 48 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307} {7027310831264804489 48 308}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307} {7027310831264804489 48 308}]
------------------------------------------------------
flag 16075 term 48 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 48 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 88255 term 48 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 48 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307} {7027310831264804489 48 308}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307} {7027310831264804489 48 308}]
------------------------------------------------------
flag 28450 term 48 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 48 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 84732 term 48 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 48 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307} {7027310831264804489 48 308}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307} {7027310831264804489 48 308}]
------------------------------------------------------
flag 86763 term 48 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 48 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 70660 term 48 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 48 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307} {7027310831264804489 48 308}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307} {7027310831264804489 48 308}]
------------------------------------------------------
flag 98684 term 48 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 48 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 71831 term 48 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 48 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307} {7027310831264804489 48 308}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307} {7027310831264804489 48 308}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8852055583016999772 (index 309) to leader 2
flag 29422 term 48 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 48 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 74927 term 48 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 48 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 46 299} {6547827588411498958 46 300} {1107436981395600869 46 301} {8024723207105883959 46 302} {5167536188382463745 46 303} {5110154604862262080 46 304} {4307061916323216179 46 305} {7266894401336545100 46 306} {7027310831264804489 46 307} {7027310831264804489 48 308} {8852055583016999772 48 309}]
------------------------------------------------------
term 48 Server2 start snapshot! index=309
term 48 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
flag 49311 term 48 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 48 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 309}]
------------------------------------------------------
term 48 Server1 start snapshot! index=309
term 48 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
client write log 7560643065559378984 (index 310) to leader 2
client write log 9129010805046144406 (index 311) to leader 2
client write log 2296730504754710327 (index 312) to leader 2
client write log 5312380313498317074 (index 313) to leader 2
client write log 8518526438079389931 (index 314) to leader 2
client write log 26747690661673322 (index 315) to leader 2
client write log 4299708216618298052 (index 316) to leader 2
client write log 7550741435575387473 (index 317) to leader 2
term 48 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
flag 66156 term 48 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 48 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 309 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317}]
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
flag 44591 term 48 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 48 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 0
client write log 1553067862148498854 (index 318) to leader 2
term 48 server 2 not vote for server 0, 日志不够新
term 48 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 0 vote for server 2
term 50 server 2 get vote from server 0
term 50 server 2 become leader
------------------------------------------------------
term 50 server 1 vote for server 2
term 50 server 2 get outdate rpc reply from server 1
flag 19413 term 50 leader 2 nextIndex[0]: 319  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
flag 36285 term 50 leader 2 nextIndex[1]: 319  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 319->318
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 319->318
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 309  matchIndex[0]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
flag 50057 term 50 leader 2 nextIndex[1]: 318  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
term 50 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 48 rf.commitIndex 309 rf.lastApplied 309
term 50 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
flag 49539 term 50 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
flag 21798 term 50 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
flag 36831 term 50 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
flag 307 term 50 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82805 term 50 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
flag 86182 term 50 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
term 50 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28783 term 50 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
flag 71921 term 50 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98338 term 50 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
flag 40736 term 50 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87423 term 50 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
flag 16341 term 50 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16320 term 50 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
flag 91043 term 50 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97142 term 50 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
flag 76351 term 50 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
flag 2377 term 50 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
flag 22589 term 50 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
flag 41481 term 50 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
flag 70196 term 50 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
flag 11208 term 50 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
flag 49506 term 50 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
flag 21920 term 50 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
flag 78863 term 50 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
flag 56056 term 50 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
flag 5695 term 50 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66756 term 50 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
flag 3920 term 50 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
flag 19326 term 50 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
flag 95650 term 50 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
flag 11008 term 50 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
flag 82978 term 50 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
flag 33427 term 50 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
flag 49114 term 50 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=317
leader log:
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318}]
------------------------------------------------------
client write log 1553067862148498854 (index 319) to leader 2
flag 67132 term 50 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
flag 77196 term 50 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 50 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 48 leaderCommit: 317 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318} {1553067862148498854 50 319}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 48 309} {7560643065559378984 48 310} {9129010805046144406 48 311} {2296730504754710327 48 312} {5312380313498317074 48 313} {8518526438079389931 48 314} {26747690661673322 48 315} {4299708216618298052 48 316} {7550741435575387473 48 317} {1553067862148498854 48 318} {1553067862148498854 50 319}]
------------------------------------------------------
term 50 Server2 start snapshot! index=319
term 50 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81165 term 50 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 97210 term 50 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 50 319}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 50 319}]
------------------------------------------------------
term 50 Server0 start snapshot! index=319
term 50 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
term 50 Server1 start snapshot! index=319
term 50 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
flag 37139 term 50 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 745 term 50 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 50 319}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 50 319}]
------------------------------------------------------
flag 23244 term 50 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 10737 term 50 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 50 319}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 50 319}]
------------------------------------------------------
flag 22366 term 50 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 46776 term 50 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 50 319}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 50 319}]
------------------------------------------------------
flag 61522 term 50 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 30206 term 50 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 50 319}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 50 319}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 32692 term 50 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 47538 term 50 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 54431 term 50 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 83839 term 50 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 26523 term 50 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 39207 term 50 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 51 server 1 vote for server 0
term 51 server 0 get vote from server 1
term 51 server 0 become leader
------------------------------------------------------
flag 46385 term 51 leader 0 nextIndex[1]: 320  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 99439 term 51 leader 0 nextIndex[2]: 320  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 50 319}]
------------------------------------------------------
client write log 5892133352863977819 (index 320) to leader 0
flag 7630 term 50 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 94820 term 50 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 320->319
------------------------------------------------------
flag 76702 term 51 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 1240 term 51 leader 0 nextIndex[2]: 320  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 50 319} {5892133352863977819 51 320}]
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 0  matchIndex[0]: 319
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 60631 term 50 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 84664 term 51 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 51 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 51 leaderCommit: 320 
------------------------------------------------------
flag 60050 term 51 leader 0 nextIndex[2]: 320  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 320 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 50 319} {5892133352863977819 51 320}]
------------------------------------------------------
client write log 6962959304786270743 (index 321) to leader 0
client write log 7232833019097194637 (index 322) to leader 0
client write log 4115090746715321182 (index 323) to leader 0
client write log 8707074002633047551 (index 324) to leader 0
client write log 6829779722506914425 (index 325) to leader 0
client write log 8321842179901677086 (index 326) to leader 0
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 0  matchIndex[0]: 319
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 29243 term 50 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 46689 term 51 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 51 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 51 leaderCommit: 320 
------------------------------------------------------
flag 5599 term 51 leader 0 nextIndex[2]: 320  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 320 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 0  matchIndex[0]: 319
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 44258 term 50 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 75637 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 46425 term 51 leader 0 nextIndex[2]: 320  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
!!!!!!connect server 2
client write log 7209850160193425893 (index 320) to leader 2
term 50 leader 2 nextIndex[0]: 0  matchIndex[0]: 319
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 85303 term 50 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 51 server 1 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 51 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61891 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 24986 term 51 leader 0 nextIndex[2]: 320  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88025 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 36676 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
flag 11150 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 12814 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
flag 59193 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 57983 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
flag 8178 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 71522 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 327->326
------------------------------------------------------
flag 44842 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 0  matchIndex[2]: 326
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
term 51 server 2 InstallSnapshot fail
rf.commitIndex 326 args.LastIncludedIndex 319
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
flag 38144 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 32023 term 51 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
term 51 server 2 not vote for server 0, 日志不够新
term 51 server 0 get outdate rpc reply from server 2
flag 21794 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 59425 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10982 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 6965 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
flag 23991 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 2004 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
flag 8510 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 68300 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
flag 30037 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 91957 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
flag 13124 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 72626 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
flag 8879 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 61503 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
flag 66009 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 42070 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70866 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 45914 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
flag 50219 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 90861 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
flag 983 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 24917 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
flag 32035 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 19621 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33087 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 87869 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326}]
------------------------------------------------------
client write log 7209850160193425893 (index 327) to leader 0
flag 32219 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 48494 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326} {7209850160193425893 51 327}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326} {7209850160193425893 51 327}]
------------------------------------------------------
flag 96939 term 51 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 97346 term 51 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326} {7209850160193425893 51 327}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326} {7209850160193425893 51 327}]
------------------------------------------------------
flag 7185 term 51 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 77928 term 51 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326} {7209850160193425893 51 327}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326} {7209850160193425893 51 327}]
------------------------------------------------------
flag 26575 term 51 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 12483 term 51 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326} {7209850160193425893 51 327}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326} {7209850160193425893 51 327}]
------------------------------------------------------
flag 5194 term 51 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 60120 term 51 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326} {7209850160193425893 51 327}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326} {7209850160193425893 51 327}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 93112 term 51 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 72069 term 51 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326} {7209850160193425893 51 327}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326} {7209850160193425893 51 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 328->327
------------------------------------------------------
flag 43199 term 51 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 0  matchIndex[2]: 327
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
term 51 server 2 InstallSnapshot fail
rf.commitIndex 327 args.LastIncludedIndex 319
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326} {7209850160193425893 51 327}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4182573257798684070 (index 328) to leader 0
flag 94322 term 51 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 5526 term 51 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 327 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326} {7209850160193425893 51 327} {4182573257798684070 51 328}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 329->328
------------------------------------------------------
flag 18778 term 51 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 0  matchIndex[2]: 328
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
term 51 server 2 InstallSnapshot fail
rf.commitIndex 327 args.LastIncludedIndex 319
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
flag 70582 term 51 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 77767 term 51 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 328 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326} {7209850160193425893 51 327} {4182573257798684070 51 328}]
------------------------------------------------------
client write log 7951408614407392251 (index 329) to leader 0
client write log 7545257398226569241 (index 330) to leader 0
client write log 7623389270422128509 (index 331) to leader 0
client write log 895720023712792860 (index 332) to leader 0
client write log 3199267420141501473 (index 333) to leader 0
client write log 7031193849968413021 (index 334) to leader 0
client write log 7575072568290139553 (index 335) to leader 0
client write log 1097122439725054718 (index 336) to leader 0
flag 79129 term 51 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 71130 term 51 leader 0 nextIndex[2]: 329  matchIndex[2]: 328
term 51 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 50 319} {5892133352863977819 51 320} {6962959304786270743 51 321} {7232833019097194637 51 322} {4115090746715321182 51 323} {8707074002633047551 51 324} {6829779722506914425 51 325} {8321842179901677086 51 326} {7209850160193425893 51 327} {4182573257798684070 51 328} {7951408614407392251 51 329} {7545257398226569241 51 330} {7623389270422128509 51 331} {895720023712792860 51 332} {3199267420141501473 51 333} {7031193849968413021 51 334} {7575072568290139553 51 335} {1097122439725054718 51 336}]
------------------------------------------------------
term 51 Server0 start snapshot! index=329
term 51 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=336
-------------------------------------------------------------
term 51 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
flag 19099 term 51 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 51 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 336 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 51 329} {7545257398226569241 51 330} {7623389270422128509 51 331} {895720023712792860 51 332} {3199267420141501473 51 333} {7031193849968413021 51 334} {7575072568290139553 51 335} {1097122439725054718 51 336}]
------------------------------------------------------
term 51 Server2 start snapshot! index=329
term 51 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=336
-------------------------------------------------------------
!!!!!!connect server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 924960246033006934 (index 337) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
flag 737 term 51 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 51 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 336 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {7545257398226569241 51 330} {7623389270422128509 51 331} {895720023712792860 51 332} {3199267420141501473 51 333} {7031193849968413021 51 334} {7575072568290139553 51 335} {1097122439725054718 51 336} {924960246033006934 51 337}]
------------------------------------------------------
term 52 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 server 2 vote for server 0
term 53 server 0 get vote from server 2
term 53 server 0 become leader
------------------------------------------------------
term 53 server 1 vote for server 0
term 53 server 0 get outdate rpc reply from server 1
flag 42663 term 53 leader 0 nextIndex[1]: 338  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 51 leaderCommit: 337 
------------------------------------------------------
flag 382 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 51 leaderCommit: 337 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {7545257398226569241 51 330} {7623389270422128509 51 331} {895720023712792860 51 332} {3199267420141501473 51 333} {7031193849968413021 51 334} {7575072568290139553 51 335} {1097122439725054718 51 336} {924960246033006934 51 337}]
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 338->337
------------------------------------------------------
term 53 server 0 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 0
term 53 leader 0 nextIndex[1]: 328  matchIndex[1]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
flag 82539 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 51 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 InstallSnapshot success
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 51 rf.commitIndex 329 rf.lastApplied 329
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {7545257398226569241 51 330} {7623389270422128509 51 331} {895720023712792860 51 332} {3199267420141501473 51 333} {7031193849968413021 51 334} {7575072568290139553 51 335} {1097122439725054718 51 336} {924960246033006934 51 337}]
------------------------------------------------------
flag 68349 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 337 
------------------------------------------------------
flag 81400 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 51 leaderCommit: 337 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {7545257398226569241 51 330} {7623389270422128509 51 331} {895720023712792860 51 332} {3199267420141501473 51 333} {7031193849968413021 51 334} {7575072568290139553 51 335} {1097122439725054718 51 336} {924960246033006934 51 337}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {7545257398226569241 51 330} {7623389270422128509 51 331} {895720023712792860 51 332} {3199267420141501473 51 333} {7031193849968413021 51 334} {7575072568290139553 51 335} {1097122439725054718 51 336} {924960246033006934 51 337}]
------------------------------------------------------
flag 25277 term 53 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 51 leaderCommit: 337 
------------------------------------------------------
flag 59647 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 51 leaderCommit: 337 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:337 
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {7545257398226569241 51 330} {7623389270422128509 51 331} {895720023712792860 51 332} {3199267420141501473 51 333} {7031193849968413021 51 334} {7575072568290139553 51 335} {1097122439725054718 51 336} {924960246033006934 51 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {7545257398226569241 51 330} {7623389270422128509 51 331} {895720023712792860 51 332} {3199267420141501473 51 333} {7031193849968413021 51 334} {7575072568290139553 51 335} {1097122439725054718 51 336} {924960246033006934 51 337}]
------------------------------------------------------
flag 43169 term 53 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 51 leaderCommit: 337 
------------------------------------------------------
flag 84141 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 51 leaderCommit: 337 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {7545257398226569241 51 330} {7623389270422128509 51 331} {895720023712792860 51 332} {3199267420141501473 51 333} {7031193849968413021 51 334} {7575072568290139553 51 335} {1097122439725054718 51 336} {924960246033006934 51 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {7545257398226569241 51 330} {7623389270422128509 51 331} {895720023712792860 51 332} {3199267420141501473 51 333} {7031193849968413021 51 334} {7575072568290139553 51 335} {1097122439725054718 51 336} {924960246033006934 51 337}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61358 term 53 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 51 leaderCommit: 337 
------------------------------------------------------
flag 33772 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 51 leaderCommit: 337 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {7545257398226569241 51 330} {7623389270422128509 51 331} {895720023712792860 51 332} {3199267420141501473 51 333} {7031193849968413021 51 334} {7575072568290139553 51 335} {1097122439725054718 51 336} {924960246033006934 51 337}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {7545257398226569241 51 330} {7623389270422128509 51 331} {895720023712792860 51 332} {3199267420141501473 51 333} {7031193849968413021 51 334} {7575072568290139553 51 335} {1097122439725054718 51 336} {924960246033006934 51 337}]
------------------------------------------------------
flag 28766 term 53 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 51 leaderCommit: 337 
------------------------------------------------------
flag 26916 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 51 leaderCommit: 337 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {7545257398226569241 51 330} {7623389270422128509 51 331} {895720023712792860 51 332} {3199267420141501473 51 333} {7031193849968413021 51 334} {7575072568290139553 51 335} {1097122439725054718 51 336} {924960246033006934 51 337}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {7545257398226569241 51 330} {7623389270422128509 51 331} {895720023712792860 51 332} {3199267420141501473 51 333} {7031193849968413021 51 334} {7575072568290139553 51 335} {1097122439725054718 51 336} {924960246033006934 51 337}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68344 term 53 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 51 leaderCommit: 337 
------------------------------------------------------
flag 55017 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 51 leaderCommit: 337 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {7545257398226569241 51 330} {7623389270422128509 51 331} {895720023712792860 51 332} {3199267420141501473 51 333} {7031193849968413021 51 334} {7575072568290139553 51 335} {1097122439725054718 51 336} {924960246033006934 51 337}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {7545257398226569241 51 330} {7623389270422128509 51 331} {895720023712792860 51 332} {3199267420141501473 51 333} {7031193849968413021 51 334} {7575072568290139553 51 335} {1097122439725054718 51 336} {924960246033006934 51 337}]
------------------------------------------------------
  ... Passed --  77.2  3 1773  830412  337
--- PASS: TestSnapshotInstall2D (77.17s)
PASS
