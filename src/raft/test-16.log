=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 1 vote for server 0
term 1 server 0 become leader
------------------------------------------------------
term 1 server 0 get outdate rpc reply from server 1
flag 30977 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 546 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 6967971460284555492 (index 1) to leader 0
flag 73541 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 16438 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6967971460284555492 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6967971460284555492 1 1}]
------------------------------------------------------
flag 83753 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 39566 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6967971460284555492 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6967971460284555492 1 1}]
------------------------------------------------------
flag 13799 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 20100 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6967971460284555492 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6967971460284555492 1 1}]
------------------------------------------------------
flag 4165 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 73393 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6967971460284555492 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6967971460284555492 1 1}]
------------------------------------------------------
flag 39490 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 27271 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
[{<nil> 0 0} {6967971460284555492 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6967971460284555492 1 1}]
------------------------------------------------------
flag 65644 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 25993 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6967971460284555492 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6967971460284555492 1 1}]
------------------------------------------------------
flag 19312 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 10967 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6967971460284555492 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6967971460284555492 1 1}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 117224182141720384 (index 2) to leader 0
flag 70033 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 54805 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6967971460284555492 1 1} {117224182141720384 1 2}]
------------------------------------------------------
flag 48882 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 60051 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6967971460284555492 1 1} {117224182141720384 1 2}]
------------------------------------------------------
client write log 1090631314218502780 (index 3) to leader 0
client write log 5891380496229208628 (index 4) to leader 0
client write log 1944564590711848122 (index 5) to leader 0
client write log 6484821849802647056 (index 6) to leader 0
client write log 4745477898027506285 (index 7) to leader 0
client write log 8519548885004896367 (index 8) to leader 0
client write log 1754742502693016529 (index 9) to leader 0
client write log 6471079011249237490 (index 10) to leader 0
client write log 1721686858665163698 (index 11) to leader 0
client write log 1992399848924818049 (index 12) to leader 0
client write log 5516591485143005614 (index 13) to leader 0
client write log 4825973241283064850 (index 14) to leader 0
client write log 5728904593832766826 (index 15) to leader 0
client write log 4780834903464700895 (index 16) to leader 0
flag 70600 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 73859 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{<nil> 0 0} {6967971460284555492 1 1} {117224182141720384 1 2} {1090631314218502780 1 3} {5891380496229208628 1 4} {1944564590711848122 1 5} {6484821849802647056 1 6} {4745477898027506285 1 7} {8519548885004896367 1 8} {1754742502693016529 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=16
-------------------------------------------------------------
term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 12203 term 1 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 1 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=16
-------------------------------------------------------------
!!!!!!connect server 1
client write log 327637024325046354 (index 17) to leader 0
term 1 server 2 not vote for server 1, 日志不够新
term 1 server 0 not vote for server 1, 日志不够新
term 3 server 2 vote for server 0
term 3 server 0 get vote from server 2
term 3 server 0 become leader
------------------------------------------------------
term 3 server 1 vote for server 0
term 3 server 0 get outdate rpc reply from server 1
flag 83306 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 9752 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 18->17
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 18->17
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 2  matchIndex[1]: 0
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 40919 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 InstallSnapshot success
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
term 3 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 85360 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 56365 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
flag 25717 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 62581 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
flag 1581 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 38080 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
flag 91336 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 67415 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
flag 4919 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 80799 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
flag 59157 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 33728 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
flag 63052 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 75131 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4056 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 60752 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
flag 20882 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 10780 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
flag 12995 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 86734 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
flag 16753 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 53948 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
flag 42252 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 53417 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
flag 86874 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 28516 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
flag 44304 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 41833 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12990 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 27050 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
flag 27836 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 6491 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
flag 76473 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 97195 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17}]
------------------------------------------------------
client write log 327637024325046354 (index 18) to leader 0
flag 5679 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 42827 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17} {327637024325046354 3 18}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17} {327637024325046354 3 18}]
------------------------------------------------------
flag 1916 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 39190 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17} {327637024325046354 3 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17} {327637024325046354 3 18}]
------------------------------------------------------
flag 49179 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 98143 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17} {327637024325046354 3 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17} {327637024325046354 3 18}]
------------------------------------------------------
flag 37517 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 34558 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17} {327637024325046354 3 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17} {327637024325046354 3 18}]
------------------------------------------------------
flag 8272 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 8911 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17} {327637024325046354 3 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17} {327637024325046354 3 18}]
------------------------------------------------------
flag 72792 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 75390 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17} {327637024325046354 3 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17} {327637024325046354 3 18}]
------------------------------------------------------
flag 94596 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 86750 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17} {327637024325046354 3 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17} {327637024325046354 3 18}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 42131 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 95487 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 60087 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 78135 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 35791 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 85268 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 21524 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 13784 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 vote for server 2
term 4 server 2 get vote from server 1
term 4 server 2 become leader
------------------------------------------------------
flag 75571 term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 33830 term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17} {327637024325046354 3 18}]
------------------------------------------------------
client write log 9013052673758697023 (index 19) to leader 2
flag 38600 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 7232 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 13608 term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 89611 term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {6471079011249237490 1 10} {1721686858665163698 1 11} {1992399848924818049 1 12} {5516591485143005614 1 13} {4825973241283064850 1 14} {5728904593832766826 1 15} {4780834903464700895 1 16} {327637024325046354 1 17} {327637024325046354 3 18} {9013052673758697023 4 19}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 64432 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 61983 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 11202 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
client write log 5319122146337793548 (index 20) to leader 2
flag 91408 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 75497 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 47986 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5319122146337793548 4 20}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29900 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 42670 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 19->18
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 26009 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {5319122146337793548 4 20}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7081820752821429760 (index 21) to leader 2
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 18
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 73364 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 6673 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5319122146337793548 4 20} {7081820752821429760 4 21}]
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83292 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 57136 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5319122146337793548 4 20} {7081820752821429760 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5319122146337793548 4 20} {7081820752821429760 4 21}]
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96734 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 80142 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5319122146337793548 4 20} {7081820752821429760 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5319122146337793548 4 20} {7081820752821429760 4 21}]
------------------------------------------------------
flag 3900 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 9296 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5319122146337793548 4 20} {7081820752821429760 4 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5319122146337793548 4 20} {7081820752821429760 4 21}]
------------------------------------------------------
flag 57259 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 58639 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5319122146337793548 4 20} {7081820752821429760 4 21}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5319122146337793548 4 20} {7081820752821429760 4 21}]
------------------------------------------------------
flag 20998 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 44327 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5319122146337793548 4 20} {7081820752821429760 4 21}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5319122146337793548 4 20} {7081820752821429760 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92876 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 9868 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5319122146337793548 4 20} {7081820752821429760 4 21}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5319122146337793548 4 20} {7081820752821429760 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32097 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 15004 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5319122146337793548 4 20} {7081820752821429760 4 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5319122146337793548 4 20} {7081820752821429760 4 21}]
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
!!!!!!diconnect server 0
client write log 7541591374355162534 (index 22) to leader 2
flag 39545 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 29388 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {5319122146337793548 4 20} {7081820752821429760 4 21} {7541591374355162534 4 22}]
------------------------------------------------------
flag 19115 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 80476 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {5319122146337793548 4 20} {7081820752821429760 4 21} {7541591374355162534 4 22}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8610534898682708215 (index 23) to leader 2
client write log 8591807013391885214 (index 24) to leader 2
client write log 3897530929223118668 (index 25) to leader 2
client write log 5756933916468095178 (index 26) to leader 2
client write log 985554162816632206 (index 27) to leader 2
client write log 3882335101769967226 (index 28) to leader 2
client write log 164693274116248979 (index 29) to leader 2
client write log 6389493987467587425 (index 30) to leader 2
client write log 8948420452249661831 (index 31) to leader 2
client write log 6246888523265092586 (index 32) to leader 2
client write log 4749388450283301331 (index 33) to leader 2
client write log 7546876706129197890 (index 34) to leader 2
client write log 7668163203239738204 (index 35) to leader 2
client write log 5617410880277636665 (index 36) to leader 2
client write log 8577844893149059180 (index 37) to leader 2
flag 25470 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 23921 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 19} {5319122146337793548 4 20} {7081820752821429760 4 21} {7541591374355162534 4 22} {8610534898682708215 4 23} {8591807013391885214 4 24} {3897530929223118668 4 25} {5756933916468095178 4 26} {985554162816632206 4 27} {3882335101769967226 4 28} {164693274116248979 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=37
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 7477 term 4 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 4 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=37
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2273236319937184499 (index 38) to leader 2
term 4 server 2 not vote for server 0, 日志不够新
term 4 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 0 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 2 get outdate rpc reply from server 0
flag 25466 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 7595 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 39->38
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 39->38
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 22  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 17650 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
term 6 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10194 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 11101 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
flag 93381 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 3051 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
flag 78771 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 51236 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
flag 10863 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 17672 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94431 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 76012 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
term 6 server 0 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 0
flag 89635 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 55512 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
flag 99108 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 75826 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
flag 23803 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 3325 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56750 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 85200 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
term 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5288 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 66278 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53785 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 98061 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
flag 59175 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 29516 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
term 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28953 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 17658 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
update nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
flag 92574 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 26269 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
flag 24769 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 8793 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
flag 63412 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 5569 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
flag 138 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 84915 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38}]
------------------------------------------------------
client write log 2273236319937184499 (index 39) to leader 2
flag 98844 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 15031 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38} {2273236319937184499 6 39}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 29} {6389493987467587425 4 30} {8948420452249661831 4 31} {6246888523265092586 4 32} {4749388450283301331 4 33} {7546876706129197890 4 34} {7668163203239738204 4 35} {5617410880277636665 4 36} {8577844893149059180 4 37} {2273236319937184499 4 38} {2273236319937184499 6 39}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 89218 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 25169 term 6 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 66 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 89913 term 6 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
flag 88210 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 92875 term 6 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9087 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 99057 term 6 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
flag 71447 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 3498 term 6 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
flag 65755 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 96859 term 6 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1100165050775277658 (index 40) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48358 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 70712 term 6 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {1100165050775277658 6 40}]
------------------------------------------------------
flag 1475 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 96818 term 6 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 6 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {1100165050775277658 6 40}]
------------------------------------------------------
client write log 4445651145938761432 (index 41) to leader 2
client write log 4312737084783058125 (index 42) to leader 2
client write log 8478380608659008875 (index 43) to leader 2
client write log 4643913660709322499 (index 44) to leader 2
client write log 5693269234095802542 (index 45) to leader 2
client write log 5431639024179068514 (index 46) to leader 2
client write log 7318490903353175832 (index 47) to leader 2
client write log 5317119115829774310 (index 48) to leader 2
client write log 4361455454423736265 (index 49) to leader 2
client write log 4346428029893632380 (index 50) to leader 2
client write log 1855868408082348442 (index 51) to leader 2
client write log 2958334235682438786 (index 52) to leader 2
client write log 1675437470039790314 (index 53) to leader 2
client write log 9179265102984500144 (index 54) to leader 2
client write log 2380571480559644030 (index 55) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7922 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 37753 term 6 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 6 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 39} {1100165050775277658 6 40} {4445651145938761432 6 41} {4312737084783058125 6 42} {8478380608659008875 6 43} {4643913660709322499 6 44} {5693269234095802542 6 45} {5431639024179068514 6 46} {7318490903353175832 6 47} {5317119115829774310 6 48} {4361455454423736265 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55}]
------------------------------------------------------
term 6 Server2 start snapshot! index=49
term 6 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=55
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 90756 term 6 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 6 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55}]
------------------------------------------------------
term 6 Server1 start snapshot! index=49
term 6 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=55
-------------------------------------------------------------
!!!!!!connect server 0
client write log 414879221558759943 (index 56) to leader 2
term 6 server 2 not vote for server 0, 日志不够新
term 6 server 1 not vote for server 0, 日志不够新
term 8 server 1 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 0 vote for server 2
term 8 server 2 get outdate rpc reply from server 0
flag 38642 term 8 leader 2 nextIndex[0]: 57  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 86023 term 8 leader 2 nextIndex[1]: 57  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 57->56
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 57->56
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 55278 term 8 leader 2 nextIndex[1]: 56  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 6 rf.commitIndex 49 rf.lastApplied 49
flag 62525 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 99873 term 8 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
flag 22926 term 8 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 49805 term 8 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2926 term 8 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 66983 term 8 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87695 term 8 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 11908 term 8 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
flag 77291 term 8 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 29623 term 8 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
flag 71463 term 8 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 56489 term 8 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
flag 71443 term 8 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 80369 term 8 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
flag 38013 term 8 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 53011 term 8 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50265 term 8 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 72044 term 8 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
flag 22912 term 8 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 42484 term 8 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
flag 23783 term 8 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 17591 term 8 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
flag 79850 term 8 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 32428 term 8 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
flag 82802 term 8 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 46679 term 8 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
flag 62121 term 8 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 62303 term 8 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
flag 54843 term 8 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 61992 term 8 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
term 8 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98180 term 8 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 87599 term 8 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2142 term 8 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 64719 term 8 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
term 8 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
flag 47257 term 8 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 68277 term 8 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56}]
------------------------------------------------------
client write log 414879221558759943 (index 57) to leader 2
flag 43493 term 8 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 73004 term 8 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 8 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56} {414879221558759943 8 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56} {414879221558759943 8 57}]
------------------------------------------------------
flag 33621 term 8 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 79628 term 8 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56} {414879221558759943 8 57}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56} {414879221558759943 8 57}]
------------------------------------------------------
flag 62205 term 8 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 27505 term 8 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56} {414879221558759943 8 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56} {414879221558759943 8 57}]
------------------------------------------------------
flag 75036 term 8 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 73638 term 8 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56} {414879221558759943 8 57}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56} {414879221558759943 8 57}]
------------------------------------------------------
flag 66182 term 8 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 16319 term 8 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56} {414879221558759943 8 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56} {414879221558759943 8 57}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74321 term 8 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 75677 term 8 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56} {414879221558759943 8 57}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56} {414879221558759943 8 57}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 35338 term 8 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 67696 term 8 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 71926 term 8 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 50220 term 8 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 65338 term 8 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 60707 term 8 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 85230 term 8 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 50374 term 8 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 9 server 0 vote for server 1
term 9 server 1 get vote from server 0
term 9 server 1 become leader
------------------------------------------------------
flag 28105 term 9 leader 1 nextIndex[0]: 58  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 38276 term 9 leader 1 nextIndex[2]: 58  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56} {414879221558759943 8 57}]
------------------------------------------------------
client write log 1660362496994585305 (index 58) to leader 1
flag 85791 term 8 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 18797 term 8 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 42446 term 9 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 32436 term 9 leader 1 nextIndex[2]: 58  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56} {414879221558759943 8 57} {1660362496994585305 9 58}]
------------------------------------------------------
flag 43375 term 8 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 76551 term 8 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 58->57
------------------------------------------------------
flag 67242 term 9 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 70485 term 9 leader 1 nextIndex[2]: 58  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 58 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56} {414879221558759943 8 57} {1660362496994585305 9 58}]
------------------------------------------------------
client write log 7083079391207452032 (index 59) to leader 1
term 8 leader 2 nextIndex[0]: 0  matchIndex[0]: 57
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 93638 term 8 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 6581 term 9 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 3339 term 9 leader 1 nextIndex[2]: 58  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 58 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 6 49} {4346428029893632380 6 50} {1855868408082348442 6 51} {2958334235682438786 6 52} {1675437470039790314 6 53} {9179265102984500144 6 54} {2380571480559644030 6 55} {414879221558759943 6 56} {414879221558759943 8 57} {1660362496994585305 9 58} {7083079391207452032 9 59}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 0  matchIndex[0]: 57
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 37369 term 8 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 56593 term 9 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 58  matchIndex[2]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7656866922583792164 (index 60) to leader 1
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
flag 12669 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 85049 term 8 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 9 server 1 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15002 term 9 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 58  matchIndex[2]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot success
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 9 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7656866922583792164 9 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2731 term 9 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 39289 term 9 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 9 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7656866922583792164 9 60}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7656866922583792164 9 60}]
------------------------------------------------------
term 9 server 2 not vote for server 1, 日志不够新
term 9 server 1 get outdate rpc reply from server 2
flag 71454 term 9 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 73423 term 9 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7656866922583792164 9 60}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7656866922583792164 9 60}]
------------------------------------------------------
flag 63681 term 9 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 14947 term 9 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7656866922583792164 9 60}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7656866922583792164 9 60}]
------------------------------------------------------
flag 34456 term 9 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 6915 term 9 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7656866922583792164 9 60}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7656866922583792164 9 60}]
------------------------------------------------------
flag 97902 term 9 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 62797 term 9 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7656866922583792164 9 60}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7656866922583792164 9 60}]
------------------------------------------------------
flag 32862 term 9 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 80288 term 9 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7656866922583792164 9 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7656866922583792164 9 60}]
------------------------------------------------------
flag 73335 term 9 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 43515 term 9 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:60 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
------------------------------------------------------
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7656866922583792164 9 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7656866922583792164 9 60}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7346603798469975430 (index 61) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67163 term 9 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 53069 term 9 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60394 term 9 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 47044 term 9 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61}]
------------------------------------------------------
client write log 9094933419632662097 (index 62) to leader 1
client write log 5902292332385531505 (index 63) to leader 1
client write log 8731902404588192409 (index 64) to leader 1
client write log 6922497265802825947 (index 65) to leader 1
client write log 8028453907964413575 (index 66) to leader 1
client write log 2022836919152709709 (index 67) to leader 1
flag 53988 term 9 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 9 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 29283 term 9 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67}]
------------------------------------------------------
flag 1105 term 9 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 9 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 96638 term 9 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67}]
------------------------------------------------------
!!!!!!connect server 2
client write log 2512950403026211389 (index 68) to leader 1
flag 81006 term 9 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 9 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 1696 term 9 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 10 server 2 AppendEntries false 领导者任期过期 args.Term 9
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 server 1 not vote for server 2, 日志不够新
term 9 server 0 not vote for server 2, 日志不够新
term 12 server 2 vote for server 0
term 12 server 1 vote for server 0
term 12 server 0 get vote from server 2
term 12 server 0 become leader
------------------------------------------------------
term 12 server 0 get outdate rpc reply from server 1
flag 43544 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 0
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 75752 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 0
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 12 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 69->68
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
flag 58949 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 38250 term 12 leader 0 nextIndex[2]: 61  matchIndex[2]: 0
term 12 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
flag 36743 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 51307 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9537 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 61280 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
term 12 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50022 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 26912 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87327 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 12885 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11165 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 66159 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84255 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 26103 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
flag 67990 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 72757 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
term 12 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88384 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 92618 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
flag 11626 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 68644 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
flag 93175 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 46157 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
flag 10129 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 64988 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4373 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 62496 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
flag 85100 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 33609 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
flag 31258 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 22657 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68}]
------------------------------------------------------
client write log 2512950403026211389 (index 69) to leader 0
flag 25023 term 12 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 14195 term 12 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 12 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68} {2512950403026211389 12 69}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 59} {7656866922583792164 9 60} {7346603798469975430 9 61} {9094933419632662097 9 62} {5902292332385531505 9 63} {8731902404588192409 9 64} {6922497265802825947 9 65} {8028453907964413575 9 66} {2022836919152709709 9 67} {2512950403026211389 9 68} {2512950403026211389 12 69}]
------------------------------------------------------
term 12 Server0 start snapshot! index=69
term 12 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
flag 25313 term 12 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 69 
------------------------------------------------------
flag 39870 term 12 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 12 69}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 12 69}]
------------------------------------------------------
term 12 Server2 start snapshot! index=69
term 12 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 12 Server1 start snapshot! index=69
term 12 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
flag 69367 term 12 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 69 
------------------------------------------------------
flag 21056 term 12 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 12 69}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 12 69}]
------------------------------------------------------
flag 95635 term 12 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 69 
------------------------------------------------------
flag 74693 term 12 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 12 69}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 12 69}]
------------------------------------------------------
flag 14414 term 12 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 69 
------------------------------------------------------
flag 5114 term 12 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 12 69}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 12 69}]
------------------------------------------------------
flag 27410 term 12 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 69 
------------------------------------------------------
flag 58192 term 12 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 12 69}]
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 12 69}]
------------------------------------------------------
flag 68157 term 12 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 69 
------------------------------------------------------
flag 48871 term 12 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 69 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
[{snapshot 12 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 12 69}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3842165026972974745 (index 70) to leader 0
flag 13326 term 12 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 69 
------------------------------------------------------
flag 57480 term 12 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 69 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 12 69} {3842165026972974745 12 70}]
------------------------------------------------------
flag 74619 term 12 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 70 
------------------------------------------------------
flag 65735 term 12 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 12 leaderCommit: 70 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 12 69} {3842165026972974745 12 70}]
------------------------------------------------------
client write log 235649137198052922 (index 71) to leader 0
client write log 2381502572602519362 (index 72) to leader 0
client write log 8359787075312711407 (index 73) to leader 0
client write log 1610119391845029037 (index 74) to leader 0
client write log 2982418476807898772 (index 75) to leader 0
client write log 7323202254760899593 (index 76) to leader 0
client write log 1756430394513068446 (index 77) to leader 0
client write log 1377277651869489610 (index 78) to leader 0
client write log 7452280489106599651 (index 79) to leader 0
client write log 5059768317739198650 (index 80) to leader 0
client write log 3210474835773586785 (index 81) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83804 term 12 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 12 leaderCommit: 70 
------------------------------------------------------
flag 72321 term 12 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 12 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 12 leaderCommit: 70 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 69} {3842165026972974745 12 70} {235649137198052922 12 71} {2381502572602519362 12 72} {8359787075312711407 12 73} {1610119391845029037 12 74} {2982418476807898772 12 75} {7323202254760899593 12 76} {1756430394513068446 12 77} {1377277651869489610 12 78} {7452280489106599651 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81}]
------------------------------------------------------
term 12 Server0 start snapshot! index=79
term 12 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=81
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 68441 term 12 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 12 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81}]
------------------------------------------------------
term 12 Server2 start snapshot! index=79
term 12 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=81
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2511774053564057111 (index 82) to leader 0
term 12 server 0 not vote for server 2, 任期不够新
term 12 server 2 get outdate rpc reply from server 0
term 12 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 12 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 92853 term 12 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 12 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 12 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 2 vote for server 0
term 14 server 0 get vote from server 2
term 14 server 0 become leader
------------------------------------------------------
term 14 server 1 vote for server 0
term 14 server 0 get outdate rpc reply from server 1
flag 61485 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
flag 22146 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
term 14 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 83->82
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 70  matchIndex[1]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 68525 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 14 server 1 InstallSnapshot success
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 12 rf.commitIndex 79 rf.lastApplied 79
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
flag 48456 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
flag 4451 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42911 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
flag 57981 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
flag 32627 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
flag 25045 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
term 14 server 2 not vote for server 1, 任期不够新
term 14 server 1 get outdate rpc reply from server 2
flag 31482 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
flag 93045 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
flag 36761 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
flag 20474 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
flag 11640 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
flag 32986 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2090 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
flag 25213 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
flag 29171 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
flag 56376 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
flag 19195 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
flag 80351 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
flag 54750 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
flag 32148 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
flag 20845 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
flag 49264 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
flag 19705 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
flag 95141 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
flag 72975 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
flag 9664 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
flag 10199 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
flag 23564 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
flag 77612 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
flag 70955 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
flag 14032 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
flag 98263 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
flag 26303 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
flag 92169 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82}]
------------------------------------------------------
client write log 2511774053564057111 (index 83) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11629 term 14 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
flag 66236 term 14 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 12 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83}]
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69807 term 14 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 42459 term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83}]
------------------------------------------------------
flag 74923 term 14 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 80383 term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83}]
------------------------------------------------------
flag 98164 term 14 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 22425 term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13532 term 14 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 66107 term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83}]
------------------------------------------------------
flag 78007 term 14 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 88263 term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83}]
------------------------------------------------------
flag 24778 term 14 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 14290 term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 36286 term 14 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 53045 term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31003 term 14 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 67026 term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 81602 term 14 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 63806 term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 15 server 1 vote for server 2
term 15 server 2 get vote from server 1
term 15 server 2 become leader
------------------------------------------------------
flag 46821 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 29718 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83}]
------------------------------------------------------
flag 9501 term 14 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 85796 term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
client write log 1302666966686303698 (index 84) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76931 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 15659 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83} {1302666966686303698 15 84}]
------------------------------------------------------
flag 34790 term 14 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 52306 term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 82558 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 99420 term 15 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83} {1302666966686303698 15 84}]
------------------------------------------------------
client write log 151916229187349029 (index 85) to leader 2
flag 35838 term 14 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 82678 term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 34645 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 47956 term 15 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83} {1302666966686303698 15 84} {151916229187349029 15 85}]
------------------------------------------------------
term 15 server 1 not vote for server 2, 任期不够新
term 15 server 2 get outdate rpc reply from server 1
flag 4969 term 14 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 29102 term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 9816 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 96045 term 15 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 15 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83} {1302666966686303698 15 84} {151916229187349029 15 85}]
------------------------------------------------------
flag 64611 term 14 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 43525 term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
!!!!!!connect server 0
client write log 8203405089646260835 (index 86) to leader 2
flag 14113 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 2471 term 15 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 15 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83} {1302666966686303698 15 84} {151916229187349029 15 85} {8203405089646260835 15 86}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83} {1302666966686303698 15 84} {151916229187349029 15 85} {8203405089646260835 15 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9625 term 15 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 78225 term 15 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83} {1302666966686303698 15 84} {151916229187349029 15 85} {8203405089646260835 15 86}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83} {1302666966686303698 15 84} {151916229187349029 15 85} {8203405089646260835 15 86}]
------------------------------------------------------
flag 59666 term 15 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 16188 term 15 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83} {1302666966686303698 15 84} {151916229187349029 15 85} {8203405089646260835 15 86}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83} {1302666966686303698 15 84} {151916229187349029 15 85} {8203405089646260835 15 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28303 term 15 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 2262 term 15 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83} {1302666966686303698 15 84} {151916229187349029 15 85} {8203405089646260835 15 86}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83} {1302666966686303698 15 84} {151916229187349029 15 85} {8203405089646260835 15 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99881 term 15 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 97929 term 15 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83} {1302666966686303698 15 84} {151916229187349029 15 85} {8203405089646260835 15 86}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83} {1302666966686303698 15 84} {151916229187349029 15 85} {8203405089646260835 15 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28782 term 15 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 86480 term 15 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83} {1302666966686303698 15 84} {151916229187349029 15 85} {8203405089646260835 15 86}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83} {1302666966686303698 15 84} {151916229187349029 15 85} {8203405089646260835 15 86}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 513427062982264759 (index 87) to leader 2
flag 37237 term 15 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 81967 term 15 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83} {1302666966686303698 15 84} {151916229187349029 15 85} {8203405089646260835 15 86} {513427062982264759 15 87}]
------------------------------------------------------
flag 99165 term 15 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 15 leaderCommit: 87 
------------------------------------------------------
flag 40484 term 15 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 15 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 87 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83} {1302666966686303698 15 84} {151916229187349029 15 85} {8203405089646260835 15 86} {513427062982264759 15 87}]
------------------------------------------------------
client write log 8083006320857977933 (index 88) to leader 2
client write log 370302001905408869 (index 89) to leader 2
client write log 8336652436222937750 (index 90) to leader 2
client write log 8332960167427005780 (index 91) to leader 2
client write log 1362800122483758563 (index 92) to leader 2
client write log 8239557972636676466 (index 93) to leader 2
client write log 6774036232821974080 (index 94) to leader 2
client write log 4002496494464496703 (index 95) to leader 2
client write log 2588035560276728045 (index 96) to leader 2
client write log 3900336636139753197 (index 97) to leader 2
client write log 7522104206464539498 (index 98) to leader 2
flag 72131 term 15 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 15 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 15 leaderCommit: 87 
------------------------------------------------------
flag 2851 term 15 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 15 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 87 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 12 79} {5059768317739198650 12 80} {3210474835773586785 12 81} {2511774053564057111 12 82} {2511774053564057111 14 83} {1302666966686303698 15 84} {151916229187349029 15 85} {8203405089646260835 15 86} {513427062982264759 15 87} {8083006320857977933 15 88} {370302001905408869 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98}]
------------------------------------------------------
term 15 Server2 start snapshot! index=89
term 15 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=98
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 87->86
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 0  matchIndex[0]: 86
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
flag 89333 term 15 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 15 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98}]
------------------------------------------------------
term 15 Server1 start snapshot! index=89
term 15 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=98
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3210501647323776261 (index 99) to leader 2
term 15 server 0 not vote for server 2, 日志不够新
term 15 server 2 get outdate rpc reply from server 0
term 15 server 2 not vote for server 0, 日志不够新
term 15 server 1 not vote for server 0, 日志不够新
term 17 server 1 vote for server 2
term 17 server 2 get vote from server 1
term 17 server 2 become leader
------------------------------------------------------
term 17 server 0 vote for server 2
term 17 server 2 get outdate rpc reply from server 0
flag 42049 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 31529 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 17 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 100->99
------------------------------------------------------
term 17 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 100->99
------------------------------------------------------
term 17 leader 2 nextIndex[0]: 87  matchIndex[0]: 0
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 15
------------------------------------------------------
flag 80515 term 17 leader 2 nextIndex[1]: 99  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 17 server 0 InstallSnapshot success
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 15 rf.commitIndex 89 rf.lastApplied 89
term 17 server 0 not vote for server 1, 任期不够新
term 17 server 1 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99350 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 49632 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96938 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 44612 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
flag 36809 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 89267 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
flag 2775 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 17692 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95597 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 23310 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2897 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 49612 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
flag 40445 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 57722 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
flag 1612 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 38943 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
flag 32989 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 97787 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
flag 62165 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 72411 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
flag 88712 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 84291 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
flag 49604 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 54520 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23885 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 54568 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46655 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 22639 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8707 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 17772 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
flag 37254 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 64185 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
flag 80832 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 92387 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99}]
------------------------------------------------------
client write log 3210501647323776261 (index 100) to leader 2
flag 54592 term 17 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 86388 term 17 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 17 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99} {3210501647323776261 17 100}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 89} {8336652436222937750 15 90} {8332960167427005780 15 91} {1362800122483758563 15 92} {8239557972636676466 15 93} {6774036232821974080 15 94} {4002496494464496703 15 95} {2588035560276728045 15 96} {3900336636139753197 15 97} {7522104206464539498 15 98} {3210501647323776261 15 99} {3210501647323776261 17 100}]
------------------------------------------------------
term 17 Server2 start snapshot! index=99
term 17 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
flag 6039 term 17 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
flag 81462 term 17 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {3210501647323776261 17 100}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {3210501647323776261 17 100}]
------------------------------------------------------
term 17 Server0 start snapshot! index=99
term 17 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
term 17 Server1 start snapshot! index=99
term 17 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
flag 85854 term 17 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
flag 44107 term 17 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {3210501647323776261 17 100}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {3210501647323776261 17 100}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85478 term 17 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
flag 16826 term 17 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {3210501647323776261 17 100}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {3210501647323776261 17 100}]
------------------------------------------------------
flag 83473 term 17 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
flag 81911 term 17 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {3210501647323776261 17 100}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {3210501647323776261 17 100}]
------------------------------------------------------
flag 36195 term 17 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
flag 48011 term 17 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {3210501647323776261 17 100}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {3210501647323776261 17 100}]
------------------------------------------------------
flag 11074 term 17 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
flag 76381 term 17 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {3210501647323776261 17 100}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 15 99} {3210501647323776261 17 100}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8476300071801324688 (index 101) to leader 2
flag 68285 term 17 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
flag 62984 term 17 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 100 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3210501647323776261 17 100} {8476300071801324688 17 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13653 term 17 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 49953 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3210501647323776261 17 100} {8476300071801324688 17 101}]
------------------------------------------------------
client write log 5417158273562604449 (index 102) to leader 2
client write log 2363206143730668547 (index 103) to leader 2
client write log 6981064638803581862 (index 104) to leader 2
client write log 4454784252266793343 (index 105) to leader 2
client write log 4210132789289539621 (index 106) to leader 2
client write log 6299695078703283324 (index 107) to leader 2
client write log 7807588755593554255 (index 108) to leader 2
client write log 8192542449066036295 (index 109) to leader 2
client write log 7411584724604774282 (index 110) to leader 2
client write log 7159528548412162101 (index 111) to leader 2
client write log 7655136626350495201 (index 112) to leader 2
client write log 1756373249228587467 (index 113) to leader 2
client write log 2093735032906079359 (index 114) to leader 2
client write log 251572277740696040 (index 115) to leader 2
client write log 4014397732095359323 (index 116) to leader 2
term 17 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42816 term 17 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 17 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
flag 52793 term 17 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 17 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 17 leaderCommit: 101 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 15 99} {3210501647323776261 17 100} {8476300071801324688 17 101} {5417158273562604449 17 102} {2363206143730668547 17 103} {6981064638803581862 17 104} {4454784252266793343 17 105} {4210132789289539621 17 106} {6299695078703283324 17 107} {7807588755593554255 17 108} {8192542449066036295 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116}]
------------------------------------------------------
term 17 Server2 start snapshot! index=109
term 17 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=116
-------------------------------------------------------------
term 17 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 75126 term 17 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 17 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 101->100
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116}]
------------------------------------------------------
term 17 Server1 start snapshot! index=109
term 17 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=116
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6788472828075024184 (index 117) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 leader 2 nextIndex[0]: 0  matchIndex[0]: 100
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 6250 term 17 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 17 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 18 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 1 vote for server 2
term 19 server 2 get vote from server 1
term 19 server 2 become leader
------------------------------------------------------
term 19 server 0 vote for server 2
term 19 server 2 get outdate rpc reply from server 0
flag 48240 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 87625 term 19 leader 2 nextIndex[1]: 118  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
term 19 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 118->117
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 101  matchIndex[0]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 43677 term 19 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
term 19 server 0 InstallSnapshot success
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 17 rf.commitIndex 109 rf.lastApplied 109
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59269 term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 81538 term 19 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
flag 83867 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 22438 term 19 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27618 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 5574 term 19 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
flag 39709 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 31489 term 19 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
flag 5488 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 69559 term 19 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78162 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 83712 term 19 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
flag 96192 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 58608 term 19 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36368 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 68873 term 19 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67137 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 55654 term 19 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
flag 71206 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 16672 term 19 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
flag 64242 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 42792 term 19 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
flag 70295 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 89594 term 19 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
flag 48899 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 10753 term 19 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
flag 37832 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 9390 term 19 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
flag 99504 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 39560 term 19 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95454 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 10688 term 19 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117}]
------------------------------------------------------
flag 7448 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 74507 term 19 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
client write log 6788472828075024184 (index 118) to leader 2
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117} {6788472828075024184 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117} {6788472828075024184 19 118}]
------------------------------------------------------
flag 5101 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
flag 97301 term 19 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 17 leaderCommit: 116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117} {6788472828075024184 19 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117} {6788472828075024184 19 118}]
------------------------------------------------------
flag 53341 term 19 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 81644 term 19 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117} {6788472828075024184 19 118}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117} {6788472828075024184 19 118}]
------------------------------------------------------
flag 94318 term 19 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 63295 term 19 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117} {6788472828075024184 19 118}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117} {6788472828075024184 19 118}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4734 term 19 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 71454 term 19 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117} {6788472828075024184 19 118}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117} {6788472828075024184 19 118}]
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10166 term 19 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 48284 term 19 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117} {6788472828075024184 19 118}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117} {6788472828075024184 19 118}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10247 term 19 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 88387 term 19 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117} {6788472828075024184 19 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117} {6788472828075024184 19 118}]
------------------------------------------------------
flag 34896 term 19 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 66388 term 19 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117} {6788472828075024184 19 118}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117} {6788472828075024184 19 118}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 89661 term 19 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 71031 term 19 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 8764 term 19 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 62479 term 19 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 19020 term 19 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 61160 term 19 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 20 server 0 vote for server 1
term 20 server 1 get vote from server 0
term 20 server 1 become leader
------------------------------------------------------
flag 94791 term 19 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 32280 term 19 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 72105 term 20 leader 1 nextIndex[0]: 119  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 27557 term 20 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117} {6788472828075024184 19 118}]
------------------------------------------------------
client write log 6178102750640687279 (index 119) to leader 1
term 20 server 1 not vote for server 0, 任期不够新
term 20 server 0 get outdate rpc reply from server 1
flag 62463 term 19 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 17518 term 19 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 90299 term 20 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 3048 term 20 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 17 109} {7411584724604774282 17 110} {7159528548412162101 17 111} {7655136626350495201 17 112} {1756373249228587467 17 113} {2093735032906079359 17 114} {251572277740696040 17 115} {4014397732095359323 17 116} {6788472828075024184 17 117} {6788472828075024184 19 118} {6178102750640687279 20 119}]
------------------------------------------------------
term 20 Server1 start snapshot! index=119
term 20 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
flag 88460 term 19 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 63321 term 19 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 5909 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 20 119}]
------------------------------------------------------
term 20 Server0 start snapshot! index=119
term 20 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
client write log 2708862994097179500 (index 120) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 119->118
------------------------------------------------------
flag 92677 term 19 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 118
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 56961 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {2708862994097179500 20 120}]
------------------------------------------------------
flag 62123 term 19 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 118
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
flag 40621 term 20 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 20 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {2708862994097179500 20 120}]
------------------------------------------------------
!!!!!!connect server 2
client write log 7410766666300033699 (index 121) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 119->118
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 118
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 118
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
term 20 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 20 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47185 term 20 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 20 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 2 InstallSnapshot success
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 20 rf.commitIndex 119 rf.lastApplied 119
term 20 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 1 not vote for server 2, 日志不够新
term 20 server 0 not vote for server 2, 日志不够新
term 22 server 0 vote for server 1
term 22 server 1 get vote from server 0
term 22 server 1 become leader
------------------------------------------------------
term 22 server 2 vote for server 1
term 22 server 1 get outdate rpc reply from server 2
flag 25477 term 22 leader 1 nextIndex[0]: 122  matchIndex[0]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 69383 term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 22 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 122->121
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2021 term 22 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 58375 term 22 leader 1 nextIndex[2]: 120  matchIndex[2]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99668 term 22 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 72108 term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121}]
------------------------------------------------------
flag 2078 term 22 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 74066 term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121}]
------------------------------------------------------
flag 53792 term 22 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 76864 term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121}]
------------------------------------------------------
flag 31266 term 22 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 27362 term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121}]
------------------------------------------------------
flag 43476 term 22 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 17741 term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121}]
------------------------------------------------------
term 22 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72634 term 22 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 65300 term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
term 22 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6480939398523685603 (index 122) to leader 1
flag 36996 term 22 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 66596 term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122}]
------------------------------------------------------
flag 88115 term 22 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 22 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 22 leaderCommit: 122 
------------------------------------------------------
flag 58296 term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 122 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122}]
------------------------------------------------------
client write log 502449473568865589 (index 123) to leader 1
client write log 5897372985254989438 (index 124) to leader 1
client write log 4555446329542702374 (index 125) to leader 1
client write log 5549256097830396403 (index 126) to leader 1
client write log 3931599323472079916 (index 127) to leader 1
client write log 3183792777705383713 (index 128) to leader 1
flag 51978 term 22 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 22 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 22 leaderCommit: 122 
------------------------------------------------------
flag 91774 term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 122 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128}]
------------------------------------------------------
term 23 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36156 term 22 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 55545 term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1561179517560300275 (index 129) to leader 1
term 23 server 2 not vote for server 0, 任期不够新
term 22 server 0 get outdate rpc reply from server 2
flag 65211 term 22 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 22 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 60864 term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
term 23 server 2 AppendEntries false 领导者任期过期 args.Term 22
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 23 Server1 start snapshot! index=129
term 23 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
term 23 server 2 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 1 not vote for server 2, 日志不够新
term 22 server 0 not vote for server 2, 日志不够新
term 25 server 2 vote for server 0
term 25 server 0 get vote from server 2
term 25 server 1 vote for server 0
term 25 server 0 become leader
------------------------------------------------------
term 25 server 0 get outdate rpc reply from server 1
flag 23358 term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 84788 term 25 leader 0 nextIndex[2]: 130  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 25 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 130->129
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
flag 96907 term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 87105 term 25 leader 0 nextIndex[2]: 122  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91876 term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 67037 term 25 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
flag 22436 term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 94210 term 25 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
flag 80785 term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 19217 term 25 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
flag 34421 term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 59397 term 25 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
flag 55967 term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 37226 term 25 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
flag 53229 term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 3797 term 25 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42375 term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 43323 term 25 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 0 not vote for server 2, 任期不够新
term 25 server 2 get outdate rpc reply from server 0
flag 54338 term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 24886 term 25 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
flag 90218 term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 79009 term 25 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
term 25 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
flag 88658 term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 53635 term 25 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
flag 47659 term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 79625 term 25 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
flag 10047 term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 92796 term 25 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
flag 44685 term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 76425 term 25 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129}]
------------------------------------------------------
client write log 1561179517560300275 (index 130) to leader 0
flag 35088 term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
flag 88362 term 25 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 128 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129} {1561179517560300275 25 130}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 20 119} {2708862994097179500 20 120} {7410766666300033699 20 121} {6480939398523685603 22 122} {502449473568865589 22 123} {5897372985254989438 22 124} {4555446329542702374 22 125} {5549256097830396403 22 126} {3931599323472079916 22 127} {3183792777705383713 22 128} {1561179517560300275 22 129} {1561179517560300275 25 130}]
------------------------------------------------------
term 25 Server0 start snapshot! index=129
term 25 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79238 term 25 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 25 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 25 leaderCommit: 130 
------------------------------------------------------
flag 18957 term 25 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 25 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 25 leaderCommit: 130 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {1561179517560300275 25 130}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {1561179517560300275 25 130}]
------------------------------------------------------
term 25 Server2 start snapshot! index=129
term 25 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
flag 25949 term 25 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 25 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 25 leaderCommit: 130 
------------------------------------------------------
flag 62920 term 25 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 25 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 25 leaderCommit: 130 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {1561179517560300275 25 130}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {1561179517560300275 25 130}]
------------------------------------------------------
flag 46130 term 25 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 25 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 25 leaderCommit: 130 
------------------------------------------------------
flag 13407 term 25 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 25 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 25 leaderCommit: 130 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {1561179517560300275 25 130}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {1561179517560300275 25 130}]
------------------------------------------------------
flag 78759 term 25 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 25 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 25 leaderCommit: 130 
------------------------------------------------------
flag 81570 term 25 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 25 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 25 leaderCommit: 130 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {1561179517560300275 25 130}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {1561179517560300275 25 130}]
------------------------------------------------------
flag 83828 term 25 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 25 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 25 leaderCommit: 130 
------------------------------------------------------
flag 55701 term 25 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 25 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 25 leaderCommit: 130 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {1561179517560300275 25 130}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {1561179517560300275 25 130}]
------------------------------------------------------
flag 26907 term 25 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 25 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 25 leaderCommit: 130 
------------------------------------------------------
flag 15368 term 25 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 25 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 25 leaderCommit: 130 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {1561179517560300275 25 130}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 22 129} {1561179517560300275 25 130}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 159252934097747049 (index 131) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23681 term 25 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 25 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 25 leaderCommit: 130 
------------------------------------------------------
flag 9508 term 25 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 25 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 25 leaderCommit: 130 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {1561179517560300275 25 130} {159252934097747049 25 131}]
------------------------------------------------------
flag 92198 term 25 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 25 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 56186 term 25 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 25 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {1561179517560300275 25 130} {159252934097747049 25 131}]
------------------------------------------------------
client write log 3626474853335266356 (index 132) to leader 0
client write log 2157879069142875239 (index 133) to leader 0
client write log 5983585425391994015 (index 134) to leader 0
client write log 654434740859041544 (index 135) to leader 0
client write log 9118772520285036867 (index 136) to leader 0
client write log 1366017583567827579 (index 137) to leader 0
client write log 6966806441730625607 (index 138) to leader 0
client write log 8267226662937011874 (index 139) to leader 0
client write log 6606067330953751113 (index 140) to leader 0
flag 68280 term 25 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 25 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 16515 term 25 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 25 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 22 129} {1561179517560300275 25 130} {159252934097747049 25 131} {3626474853335266356 25 132} {2157879069142875239 25 133} {5983585425391994015 25 134} {654434740859041544 25 135} {9118772520285036867 25 136} {1366017583567827579 25 137} {6966806441730625607 25 138} {8267226662937011874 25 139} {6606067330953751113 25 140}]
------------------------------------------------------
term 25 Server0 start snapshot! index=139
term 25 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=140
-------------------------------------------------------------
term 25 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
flag 79019 term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 25 139} {6606067330953751113 25 140}]
------------------------------------------------------
term 25 Server2 start snapshot! index=139
term 25 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=140
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 7135746256904239377 (index 141) to leader 0
term 25 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
flag 12326 term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141}]
------------------------------------------------------
term 26 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 27 server 2 vote for server 0
term 27 server 1 vote for server 0
term 27 server 0 get vote from server 2
term 27 server 0 become leader
------------------------------------------------------
term 27 server 0 get outdate rpc reply from server 1
flag 43302 term 27 leader 0 nextIndex[1]: 142  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 39273 term 27 leader 0 nextIndex[2]: 142  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141}]
------------------------------------------------------
term 27 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 142->141
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 0 nextIndex[1]: 131  matchIndex[1]: 0
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
flag 67368 term 27 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141}]
------------------------------------------------------
term 27 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
term 27 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
rf.lastIncludedIndex 139 rf.lastIncludedTerm 25 rf.commitIndex 139 rf.lastApplied 139
flag 62744 term 27 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 27 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 75290 term 27 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141}]
------------------------------------------------------
flag 49422 term 27 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 51419 term 27 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141}]
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36609 term 27 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 85433 term 27 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
term 27 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141}]
------------------------------------------------------
flag 1699 term 27 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 11060 term 27 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
term 27 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37566 term 27 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 57863 term 27 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141}]
------------------------------------------------------
term 27 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61383 term 27 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 83830 term 27 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 55529 term 27 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 41765 term 27 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 79258 term 27 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 47777 term 27 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 12591 term 27 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 6252 term 27 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 13601 term 27 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 85375 term 27 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 28 server 1 vote for server 2
term 28 server 2 get vote from server 1
term 28 server 2 become leader
------------------------------------------------------
client write log 7903270692137160788 (index 142) to leader 2
flag 84018 term 28 leader 2 nextIndex[0]: 142  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 70401 term 28 leader 2 nextIndex[1]: 142  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141} {7903270692137160788 28 142}]
------------------------------------------------------
flag 21182 term 27 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 4741 term 27 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23307 term 28 leader 2 nextIndex[0]: 142  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 35097 term 28 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 28 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 28 leaderCommit: 142 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141} {7903270692137160788 28 142}]
------------------------------------------------------
client write log 9165434009062325067 (index 143) to leader 2
flag 961 term 27 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 68327 term 27 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 3979 term 28 leader 2 nextIndex[0]: 142  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 26563 term 28 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 28 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 28 leaderCommit: 142 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141} {7903270692137160788 28 142} {9165434009062325067 28 143}]
------------------------------------------------------
flag 45045 term 27 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 89570 term 27 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 78385 term 28 leader 2 nextIndex[0]: 142  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 30506 term 28 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 28 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141} {7903270692137160788 28 142} {9165434009062325067 28 143}]
------------------------------------------------------
!!!!!!connect server 0
client write log 9020518105011942429 (index 144) to leader 2
term 28 server 1 not vote for server 2, 任期不够新
term 28 server 2 get outdate rpc reply from server 1
flag 61442 term 27 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 9693 term 27 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 28 server 2 AppendEntries false 领导者任期过期 args.Term 27
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 28 server 1 AppendEntries false 领导者任期过期 args.Term 27
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28475 term 28 leader 2 nextIndex[0]: 142  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 81590 term 28 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 28 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141} {7903270692137160788 28 142} {9165434009062325067 28 143} {9020518105011942429 28 144}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141} {7903270692137160788 28 142} {9165434009062325067 28 143} {9020518105011942429 28 144}]
------------------------------------------------------
flag 93936 term 28 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 28 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 28 leaderCommit: 144 
------------------------------------------------------
flag 95842 term 28 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 28 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 28 leaderCommit: 144 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141} {7903270692137160788 28 142} {9165434009062325067 28 143} {9020518105011942429 28 144}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141} {7903270692137160788 28 142} {9165434009062325067 28 143} {9020518105011942429 28 144}]
------------------------------------------------------
flag 28133 term 28 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 28 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 28 leaderCommit: 144 
------------------------------------------------------
flag 56113 term 28 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 28 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 28 leaderCommit: 144 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141} {7903270692137160788 28 142} {9165434009062325067 28 143} {9020518105011942429 28 144}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141} {7903270692137160788 28 142} {9165434009062325067 28 143} {9020518105011942429 28 144}]
------------------------------------------------------
flag 31931 term 28 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 28 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 28 leaderCommit: 144 
------------------------------------------------------
flag 42633 term 28 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 28 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 28 leaderCommit: 144 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141} {7903270692137160788 28 142} {9165434009062325067 28 143} {9020518105011942429 28 144}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141} {7903270692137160788 28 142} {9165434009062325067 28 143} {9020518105011942429 28 144}]
------------------------------------------------------
flag 43778 term 28 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 28 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 28 leaderCommit: 144 
------------------------------------------------------
flag 61735 term 28 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 28 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 28 leaderCommit: 144 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141} {7903270692137160788 28 142} {9165434009062325067 28 143} {9020518105011942429 28 144}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141} {7903270692137160788 28 142} {9165434009062325067 28 143} {9020518105011942429 28 144}]
------------------------------------------------------
flag 14226 term 28 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 28 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 28 leaderCommit: 144 
------------------------------------------------------
flag 74255 term 28 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 28 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 28 leaderCommit: 144 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
term 28 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141} {7903270692137160788 28 142} {9165434009062325067 28 143} {9020518105011942429 28 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141} {7903270692137160788 28 142} {9165434009062325067 28 143} {9020518105011942429 28 144}]
------------------------------------------------------
term 28 server 0 not vote for server 2, 日志不够新
term 28 server 2 get outdate rpc reply from server 0
!!!!!!diconnect server 0
client write log 1330387057028385366 (index 145) to leader 2
flag 4760 term 28 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 28 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 28 leaderCommit: 144 
------------------------------------------------------
flag 53893 term 28 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 28 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 28 leaderCommit: 144 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141} {7903270692137160788 28 142} {9165434009062325067 28 143} {9020518105011942429 28 144} {1330387057028385366 28 145}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15755 term 28 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 28 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 28 leaderCommit: 145 
------------------------------------------------------
flag 88532 term 28 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 28 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 28 leaderCommit: 145 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141} {7903270692137160788 28 142} {9165434009062325067 28 143} {9020518105011942429 28 144} {1330387057028385366 28 145}]
------------------------------------------------------
client write log 4775304610679907960 (index 146) to leader 2
client write log 3005440284977297542 (index 147) to leader 2
client write log 4021110731771433373 (index 148) to leader 2
client write log 2753138466353673471 (index 149) to leader 2
client write log 8754562020423115146 (index 150) to leader 2
client write log 6481409759784227136 (index 151) to leader 2
client write log 1561788901668818442 (index 152) to leader 2
client write log 886903571147397686 (index 153) to leader 2
client write log 7253864918820765285 (index 154) to leader 2
client write log 5829345633932252126 (index 155) to leader 2
client write log 3308946825715131545 (index 156) to leader 2
client write log 4444438813169585668 (index 157) to leader 2
flag 98756 term 28 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 28 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 28 leaderCommit: 145 
------------------------------------------------------
flag 62843 term 28 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 28 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 28 leaderCommit: 145 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 25 139} {6606067330953751113 25 140} {7135746256904239377 25 141} {7903270692137160788 28 142} {9165434009062325067 28 143} {9020518105011942429 28 144} {1330387057028385366 28 145} {4775304610679907960 28 146} {3005440284977297542 28 147} {4021110731771433373 28 148} {2753138466353673471 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 Server2 start snapshot! index=149
term 28 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=157
-------------------------------------------------------------
term 28 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 28
------------------------------------------------------
flag 34173 term 28 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 28 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157}]
------------------------------------------------------
term 28 Server1 start snapshot! index=149
term 28 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=157
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5696872995320300516 (index 158) to leader 2
term 28 server 2 not vote for server 0, 日志不够新
term 28 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 1 vote for server 2
term 30 server 0 vote for server 2
term 30 server 2 get vote from server 1
term 30 server 2 become leader
------------------------------------------------------
term 30 server 2 get outdate rpc reply from server 0
flag 63753 term 30 leader 2 nextIndex[0]: 159  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 39570 term 30 leader 2 nextIndex[1]: 159  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 30 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 30 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 159->158
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 159->158
------------------------------------------------------
term 30 leader 2 nextIndex[0]: 145  matchIndex[0]: 0
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 28
------------------------------------------------------
flag 959 term 30 leader 2 nextIndex[1]: 158  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
term 30 server 0 InstallSnapshot success
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 28 rf.commitIndex 149 rf.lastApplied 149
flag 86389 term 30 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 30 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 75376 term 30 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37853 term 30 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 97698 term 30 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
flag 70771 term 30 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 85371 term 30 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
term 30 server 2 not vote for server 1, 任期不够新
term 30 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40463 term 30 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 77112 term 30 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82562 term 30 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 11741 term 30 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
flag 57054 term 30 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 10844 term 30 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
flag 86482 term 30 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 81487 term 30 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
flag 71165 term 30 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 97040 term 30 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
flag 88481 term 30 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 1656 term 30 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
flag 36669 term 30 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 53289 term 30 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
flag 40392 term 30 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 35861 term 30 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
flag 78333 term 30 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 55781 term 30 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58338 term 30 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 26379 term 30 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
term 30 server 0 not vote for server 1, 任期不够新
term 30 server 1 get outdate rpc reply from server 0
flag 25800 term 30 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 85162 term 30 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
flag 5875 term 30 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 66884 term 30 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96523 term 30 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 86343 term 30 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
flag 76475 term 30 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 31805 term 30 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158}]
------------------------------------------------------
client write log 5696872995320300516 (index 159) to leader 2
flag 51838 term 30 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 31552 term 30 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 30 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158} {5696872995320300516 30 159}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 149} {8754562020423115146 28 150} {6481409759784227136 28 151} {1561788901668818442 28 152} {886903571147397686 28 153} {7253864918820765285 28 154} {5829345633932252126 28 155} {3308946825715131545 28 156} {4444438813169585668 28 157} {5696872995320300516 28 158} {5696872995320300516 30 159}]
------------------------------------------------------
term 30 Server2 start snapshot! index=159
term 30 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 95218 term 30 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 30 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 30 leaderCommit: 159 
------------------------------------------------------
flag 32510 term 30 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 30 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 30 leaderCommit: 159 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 30 159}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 30 159}]
------------------------------------------------------
term 30 Server0 start snapshot! index=159
term 30 Server1 start snapshot! index=159
term 30 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 30 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 53704 term 30 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 30 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 30 leaderCommit: 159 
------------------------------------------------------
flag 96218 term 30 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 30 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 30 leaderCommit: 159 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 30 159}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 30 159}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96645 term 30 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 30 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 30 leaderCommit: 159 
------------------------------------------------------
flag 47127 term 30 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 30 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 30 leaderCommit: 159 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 30 159}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 30 159}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87917 term 30 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 30 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 30 leaderCommit: 159 
------------------------------------------------------
flag 19725 term 30 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 30 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 30 leaderCommit: 159 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 30 159}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 30 159}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62843 term 30 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 30 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 30 leaderCommit: 159 
------------------------------------------------------
flag 17313 term 30 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 30 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 30 leaderCommit: 159 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 30 159}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 30 159}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6537509558669332492 (index 160) to leader 2
flag 56329 term 30 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 30 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 30 leaderCommit: 159 
------------------------------------------------------
flag 68465 term 30 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 30 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 30 leaderCommit: 159 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 30 159} {6537509558669332492 30 160}]
------------------------------------------------------
flag 7676 term 30 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 30 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 30 leaderCommit: 160 
------------------------------------------------------
flag 16835 term 30 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 30 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 30 leaderCommit: 160 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 30 159} {6537509558669332492 30 160}]
------------------------------------------------------
client write log 7383002786874641102 (index 161) to leader 2
client write log 3269316597140101358 (index 162) to leader 2
client write log 6980497806374834192 (index 163) to leader 2
client write log 7145115994519243323 (index 164) to leader 2
client write log 1111047884308065461 (index 165) to leader 2
client write log 9173190916871180733 (index 166) to leader 2
client write log 423356027452986618 (index 167) to leader 2
client write log 331635505785332831 (index 168) to leader 2
client write log 1346954964090344591 (index 169) to leader 2
client write log 8550151461360709362 (index 170) to leader 2
client write log 3274310750548495664 (index 171) to leader 2
client write log 3710744446459357023 (index 172) to leader 2
client write log 3818278529838052042 (index 173) to leader 2
client write log 7926881552047561164 (index 174) to leader 2
client write log 3993919646506101749 (index 175) to leader 2
flag 46036 term 30 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 30 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 30 leaderCommit: 160 
------------------------------------------------------
flag 27484 term 30 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 30 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 30 leaderCommit: 160 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 30 159} {6537509558669332492 30 160} {7383002786874641102 30 161} {3269316597140101358 30 162} {6980497806374834192 30 163} {7145115994519243323 30 164} {1111047884308065461 30 165} {9173190916871180733 30 166} {423356027452986618 30 167} {331635505785332831 30 168} {1346954964090344591 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175}]
------------------------------------------------------
term 30 Server2 start snapshot! index=169
term 30 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=175
-------------------------------------------------------------
term 30 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
flag 71399 term 30 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175}]
------------------------------------------------------
term 30 Server1 start snapshot! index=169
term 30 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=175
-------------------------------------------------------------
!!!!!!connect server 0
client write log 132068778418791551 (index 176) to leader 2
term 30 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
flag 62347 term 30 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 31 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 1 vote for server 2
term 32 server 2 get vote from server 1
term 32 server 2 become leader
------------------------------------------------------
term 32 server 0 vote for server 2
term 32 server 2 get outdate rpc reply from server 0
flag 95380 term 32 leader 2 nextIndex[0]: 177  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 7645 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 32 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 177->176
------------------------------------------------------
term 32 leader 2 nextIndex[0]: 160  matchIndex[0]: 0
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
flag 95419 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
term 32 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 30 rf.commitIndex 169 rf.lastApplied 169
term 32 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
flag 81265 term 32 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 32 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 98388 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
flag 12469 term 32 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 31670 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58670 term 32 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 48046 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66707 term 32 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 76397 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
flag 94812 term 32 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 22777 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3733 term 32 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 24700 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
flag 37095 term 32 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 35211 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
flag 50048 term 32 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 96112 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92547 term 32 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 28267 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99733 term 32 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 90201 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
flag 86903 term 32 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 62105 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
flag 82373 term 32 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 19440 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
flag 90622 term 32 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 39358 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12744 term 32 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 89043 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
flag 64066 term 32 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 50731 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
flag 84347 term 32 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 83120 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1668 term 32 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 66318 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176}]
------------------------------------------------------
client write log 132068778418791551 (index 177) to leader 2
flag 56032 term 32 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 99042 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176} {132068778418791551 32 177}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176} {132068778418791551 32 177}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27806 term 32 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 73426 term 32 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176} {132068778418791551 32 177}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176} {132068778418791551 32 177}]
------------------------------------------------------
flag 21901 term 32 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 52854 term 32 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176} {132068778418791551 32 177}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176} {132068778418791551 32 177}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50956 term 32 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 39557 term 32 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176} {132068778418791551 32 177}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176} {132068778418791551 32 177}]
------------------------------------------------------
flag 75097 term 32 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 69795 term 32 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176} {132068778418791551 32 177}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176} {132068778418791551 32 177}]
------------------------------------------------------
flag 56324 term 32 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 4689 term 32 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176} {132068778418791551 32 177}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176} {132068778418791551 32 177}]
------------------------------------------------------
flag 59734 term 32 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 64240 term 32 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176} {132068778418791551 32 177}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176} {132068778418791551 32 177}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24784 term 32 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 70277 term 32 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 69481 term 32 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 27652 term 32 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 53134 term 32 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 87283 term 32 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 33 server 0 vote for server 1
term 33 server 1 get vote from server 0
term 33 server 1 become leader
------------------------------------------------------
client write log 4746844962473227542 (index 178) to leader 1
flag 83694 term 33 leader 1 nextIndex[0]: 178  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 43281 term 33 leader 1 nextIndex[2]: 178  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176} {132068778418791551 32 177} {4746844962473227542 33 178}]
------------------------------------------------------
flag 81311 term 32 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 97447 term 32 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7723 term 33 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 33 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 33 leaderCommit: 178 
------------------------------------------------------
flag 64981 term 33 leader 1 nextIndex[2]: 178  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 178 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176} {132068778418791551 32 177} {4746844962473227542 33 178}]
------------------------------------------------------
flag 16234 term 32 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 26014 term 32 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 178->177
------------------------------------------------------
client write log 1073460889116094507 (index 179) to leader 1
flag 28847 term 33 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 33 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 33 leaderCommit: 178 
------------------------------------------------------
flag 83652 term 33 leader 1 nextIndex[2]: 178  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 178 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 169} {8550151461360709362 30 170} {3274310750548495664 30 171} {3710744446459357023 30 172} {3818278529838052042 30 173} {7926881552047561164 30 174} {3993919646506101749 30 175} {132068778418791551 30 176} {132068778418791551 32 177} {4746844962473227542 33 178} {1073460889116094507 33 179}]
------------------------------------------------------
term 33 Server1 start snapshot! index=179
term 33 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 49746 term 32 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 32 leader 2 nextIndex[1]: 0  matchIndex[1]: 177
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
flag 75497 term 33 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 33 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 178  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
flag 80059 term 32 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 32 leader 2 nextIndex[1]: 0  matchIndex[1]: 177
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
term 33 Server0 start snapshot! index=179
term 33 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6657661087633235179 (index 180) to leader 1
flag 51104 term 33 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 33 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 178  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 33 rf.commitIndex 179 rf.lastApplied 179
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {6657661087633235179 33 180}]
------------------------------------------------------
flag 54386 term 33 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 33 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
flag 82998 term 33 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {6657661087633235179 33 180}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {6657661087633235179 33 180}]
------------------------------------------------------
flag 30329 term 33 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 33 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
flag 73760 term 33 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 33 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {6657661087633235179 33 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {6657661087633235179 33 180}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
flag 55667 term 33 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 33 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
flag 68532 term 33 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {6657661087633235179 33 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {6657661087633235179 33 180}]
------------------------------------------------------
term 33 server 2 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 2
flag 48749 term 33 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 33 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
flag 76548 term 33 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 33 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {6657661087633235179 33 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {6657661087633235179 33 180}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76459 term 33 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 33 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
flag 68765 term 33 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 33 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {6657661087633235179 33 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {6657661087633235179 33 180}]
------------------------------------------------------
flag 95149 term 33 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 33 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
flag 33370 term 33 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 33 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {6657661087633235179 33 180}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {6657661087633235179 33 180}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8748011030371309618 (index 181) to leader 1
flag 47250 term 33 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 33 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
flag 24872 term 33 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 33 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 33 179} {6657661087633235179 33 180} {8748011030371309618 33 181}]
------------------------------------------------------
flag 90877 term 33 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 33 leaderCommit: 181 
------------------------------------------------------
flag 63792 term 33 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 33 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 181 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 33 179} {6657661087633235179 33 180} {8748011030371309618 33 181}]
------------------------------------------------------
client write log 7399276111031999107 (index 182) to leader 1
client write log 430442918965899623 (index 183) to leader 1
client write log 581269568528955121 (index 184) to leader 1
client write log 6482693247255276006 (index 185) to leader 1
client write log 5058056686509729911 (index 186) to leader 1
client write log 5591537836049910386 (index 187) to leader 1
client write log 3803392979767822721 (index 188) to leader 1
client write log 454424709667140796 (index 189) to leader 1
client write log 6629764509249971043 (index 190) to leader 1
client write log 1231881327473947200 (index 191) to leader 1
client write log 7839774781152444018 (index 192) to leader 1
client write log 5136628638015190911 (index 193) to leader 1
client write log 55762778692247841 (index 194) to leader 1
client write log 1210244414827204825 (index 195) to leader 1
client write log 1038790515378462989 (index 196) to leader 1
flag 7119 term 33 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 33 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 33 leaderCommit: 181 
------------------------------------------------------
flag 26023 term 33 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 33 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 181 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 179} {6657661087633235179 33 180} {8748011030371309618 33 181} {7399276111031999107 33 182} {430442918965899623 33 183} {581269568528955121 33 184} {6482693247255276006 33 185} {5058056686509729911 33 186} {5591537836049910386 33 187} {3803392979767822721 33 188} {454424709667140796 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196}]
------------------------------------------------------
term 33 Server1 start snapshot! index=189
term 33 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=196
-------------------------------------------------------------
flag 89154 term 33 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 33 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196}]
------------------------------------------------------
term 33 Server0 start snapshot! index=189
term 33 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=196
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8346169095525625479 (index 197) to leader 1
term 33 server 1 not vote for server 2, 日志不够新
term 33 server 0 not vote for server 2, 日志不够新
term 35 server 2 vote for server 1
term 35 server 0 vote for server 1
term 35 server 1 get vote from server 2
term 35 server 1 become leader
------------------------------------------------------
term 35 server 1 get outdate rpc reply from server 0
flag 19 term 35 leader 1 nextIndex[0]: 198  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 17181 term 35 leader 1 nextIndex[2]: 198  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 198->197
------------------------------------------------------
term 35 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 198->197
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97261 term 35 leader 1 nextIndex[0]: 197  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 181  matchIndex[2]: 0
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 35 server 2 InstallSnapshot success
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 33 rf.commitIndex 189 rf.lastApplied 189
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35338 term 35 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 59404 term 35 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
flag 61311 term 35 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 70915 term 35 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47050 term 35 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 12828 term 35 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94752 term 35 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 7441 term 35 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91333 term 35 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 41283 term 35 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
flag 79732 term 35 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 47443 term 35 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
flag 64994 term 35 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 97710 term 35 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72182 term 35 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 10217 term 35 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
flag 83111 term 35 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 81500 term 35 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
flag 99465 term 35 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 77324 term 35 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
flag 95560 term 35 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 79698 term 35 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
flag 38678 term 35 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 96392 term 35 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32908 term 35 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 27159 term 35 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
flag 98070 term 35 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 71713 term 35 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68231 term 35 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 29776 term 35 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96584 term 35 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 80484 term 35 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
flag 70493 term 35 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 83009 term 35 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
term 35 server 1 not vote for server 0, 任期不够新
term 35 server 0 get outdate rpc reply from server 1
flag 7353 term 35 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 33645 term 35 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197}]
------------------------------------------------------
client write log 8346169095525625479 (index 198) to leader 1
flag 56549 term 35 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 91156 term 35 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 35 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197} {8346169095525625479 35 198}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197} {8346169095525625479 35 198}]
------------------------------------------------------
flag 61830 term 35 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 35 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 198 
------------------------------------------------------
flag 62662 term 35 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 35 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 198 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197} {8346169095525625479 35 198}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197} {8346169095525625479 35 198}]
------------------------------------------------------
flag 12299 term 35 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 35 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 198 
------------------------------------------------------
flag 53373 term 35 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 35 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 198 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197} {8346169095525625479 35 198}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197} {8346169095525625479 35 198}]
------------------------------------------------------
flag 59049 term 35 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 35 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 198 
------------------------------------------------------
flag 45514 term 35 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 35 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 198 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197} {8346169095525625479 35 198}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197} {8346169095525625479 35 198}]
------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34878 term 35 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 35 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 198 
------------------------------------------------------
flag 57663 term 35 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 35 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 198 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197} {8346169095525625479 35 198}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197} {8346169095525625479 35 198}]
------------------------------------------------------
flag 27666 term 35 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 35 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 198 
------------------------------------------------------
flag 42042 term 35 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 35 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 198 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197} {8346169095525625479 35 198}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197} {8346169095525625479 35 198}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77997 term 35 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 35 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 198 
------------------------------------------------------
flag 49354 term 35 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 35 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 198 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197} {8346169095525625479 35 198}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197} {8346169095525625479 35 198}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2360492883548665572 (index 199) to leader 1
flag 82117 term 35 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 35 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 198 
------------------------------------------------------
flag 78143 term 35 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 35 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 198 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 33 189} {6629764509249971043 33 190} {1231881327473947200 33 191} {7839774781152444018 33 192} {5136628638015190911 33 193} {55762778692247841 33 194} {1210244414827204825 33 195} {1038790515378462989 33 196} {8346169095525625479 33 197} {8346169095525625479 35 198} {2360492883548665572 35 199}]
------------------------------------------------------
term 35 Server1 start snapshot! index=199
term 35 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21914 term 35 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 35 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 35 199}]
------------------------------------------------------
term 35 Server0 start snapshot! index=199
term 35 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
client write log 3020491809778927175 (index 200) to leader 1
client write log 909100697191385480 (index 201) to leader 1
client write log 1480561265674976660 (index 202) to leader 1
client write log 4699077683975172564 (index 203) to leader 1
client write log 1516106218749058820 (index 204) to leader 1
client write log 8571271121221905120 (index 205) to leader 1
client write log 3140962784741604248 (index 206) to leader 1
client write log 8343689828380202101 (index 207) to leader 1
term 35 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5202 term 35 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 35 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
flag 52685 term 35 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 35 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 199 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99275 term 35 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 50845 term 35 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 35 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6093624107025949265 (index 208) to leader 1
term 35 server 1 not vote for server 2, 日志不够新
term 35 server 0 not vote for server 2, 日志不够新
term 37 server 2 vote for server 1
term 37 server 0 vote for server 1
term 37 server 1 get vote from server 2
term 37 server 1 become leader
------------------------------------------------------
term 37 server 1 get outdate rpc reply from server 0
flag 66084 term 37 leader 1 nextIndex[0]: 209  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 10396 term 37 leader 1 nextIndex[2]: 209  matchIndex[2]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 37 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 209->208
------------------------------------------------------
term 37 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 209->208
------------------------------------------------------
flag 43077 term 37 leader 1 nextIndex[0]: 208  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 199  matchIndex[2]: 0
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
term 37 server 2 InstallSnapshot success
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 35 rf.commitIndex 199 rf.lastApplied 199
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
flag 94212 term 37 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 70552 term 37 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 37 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59905 term 37 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 69932 term 37 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
flag 11379 term 37 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 41184 term 37 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
flag 26 term 37 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 74309 term 37 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68389 term 37 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 15421 term 37 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
flag 37030 term 37 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 47548 term 37 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
flag 37163 term 37 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 70047 term 37 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
flag 57022 term 37 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 36965 term 37 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
flag 28926 term 37 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 2276 term 37 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
flag 28098 term 37 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 34506 term 37 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99963 term 37 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 44429 term 37 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
flag 12205 term 37 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 41126 term 37 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
flag 22948 term 37 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 19775 term 37 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
term 37 server 2 not vote for server 1, 任期不够新
term 37 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26285 term 37 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 9025 term 37 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
flag 57311 term 37 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 41983 term 37 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
flag 62179 term 37 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 65783 term 37 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
flag 28629 term 37 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 21350 term 37 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70142 term 37 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 71531 term 37 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208}]
------------------------------------------------------
client write log 6093624107025949265 (index 209) to leader 1
flag 40954 term 37 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 27358 term 37 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 37 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208} {6093624107025949265 37 209}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 35 199} {3020491809778927175 35 200} {909100697191385480 35 201} {1480561265674976660 35 202} {4699077683975172564 35 203} {1516106218749058820 35 204} {8571271121221905120 35 205} {3140962784741604248 35 206} {8343689828380202101 35 207} {6093624107025949265 35 208} {6093624107025949265 37 209}]
------------------------------------------------------
term 37 Server1 start snapshot! index=209
term 37 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53751 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 2329 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 37 209}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 37 209}]
------------------------------------------------------
term 37 Server2 start snapshot! index=209
term 37 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
term 37 Server0 start snapshot! index=209
term 37 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
flag 87139 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 43197 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 37 209}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 37 209}]
------------------------------------------------------
flag 75216 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 47960 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 37 209}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 37 209}]
------------------------------------------------------
flag 45674 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 92694 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 37 209}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 37 209}]
------------------------------------------------------
flag 7930 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 23219 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 37 209}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 37 209}]
------------------------------------------------------
flag 83258 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 30447 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 37 209}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 37 209}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 14107 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 80961 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 96931 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 24798 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 20342 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 83109 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
term 38 server 0 vote for server 2
term 38 server 2 get vote from server 0
term 38 server 2 become leader
------------------------------------------------------
flag 92539 term 38 leader 2 nextIndex[0]: 210  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 30944 term 38 leader 2 nextIndex[1]: 210  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 37 209}]
------------------------------------------------------
client write log 8551232503162868521 (index 210) to leader 2
flag 34862 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 86264 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 63323 term 38 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 38 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 92700 term 38 leader 2 nextIndex[1]: 210  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 37 209} {8551232503162868521 38 210}]
------------------------------------------------------
flag 99464 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 97383 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 86203 term 38 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 38 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 38 leaderCommit: 210 
------------------------------------------------------
flag 74221 term 38 leader 2 nextIndex[1]: 210  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 37 209} {8551232503162868521 38 210}]
------------------------------------------------------
client write log 9171014729134032055 (index 211) to leader 2
client write log 4690290652308131814 (index 212) to leader 2
client write log 1188979888884112710 (index 213) to leader 2
client write log 8692951830452889589 (index 214) to leader 2
client write log 4669188441517746531 (index 215) to leader 2
client write log 3680537980307503160 (index 216) to leader 2
flag 99263 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 44826 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 50533 term 38 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 38 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 38 leaderCommit: 210 
------------------------------------------------------
flag 92563 term 38 leader 2 nextIndex[1]: 210  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 210 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
flag 34064 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 15754 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 64894 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 9446 term 38 leader 2 nextIndex[1]: 210  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7391346141200761848 (index 210) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 210->209
------------------------------------------------------
flag 46348 term 37 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
flag 25657 term 37 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 37 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries false 领导者任期过期 args.Term 37
------------------------------------------------------
term 38 server 0 AppendEntries false 领导者任期过期 args.Term 37
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58526 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 37
------------------------------------------------------
term 38 server 1 InstallSnapshot fail
rf.commitIndex 209 args.LastIncludedIndex 209
------------------------------------------------------
term 38 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
flag 17840 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 3189 term 38 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 38 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 216 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
flag 95990 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 23208 term 38 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
flag 73287 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 55195 term 38 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
flag 26223 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 27602 term 38 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
flag 18518 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 80308 term 38 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
flag 16500 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 85660 term 38 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
flag 74625 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 13339 term 38 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
flag 73546 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 16897 term 38 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9305 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 65401 term 38 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
flag 31829 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 31154 term 38 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 540 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 27670 term 38 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
term 38 server 1 not vote for server 2, 日志不够新
term 38 server 2 get outdate rpc reply from server 1
flag 52477 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 52439 term 38 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
flag 33617 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 49477 term 38 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81972 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 87141 term 38 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72998 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 49993 term 38 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
flag 21312 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 84667 term 38 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
flag 26486 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 8205 term 38 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45109 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 93813 term 38 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
flag 89762 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 67342 term 38 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216}]
------------------------------------------------------
client write log 7391346141200761848 (index 217) to leader 2
flag 2938 term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 38601 term 38 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 38 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216} {7391346141200761848 38 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216} {7391346141200761848 38 217}]
------------------------------------------------------
flag 50178 term 38 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 78970 term 38 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 38 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216} {7391346141200761848 38 217}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216} {7391346141200761848 38 217}]
------------------------------------------------------
flag 29594 term 38 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 60433 term 38 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 38 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216} {7391346141200761848 38 217}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216} {7391346141200761848 38 217}]
------------------------------------------------------
flag 35744 term 38 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 64706 term 38 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 38 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
update nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216} {7391346141200761848 38 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216} {7391346141200761848 38 217}]
------------------------------------------------------
flag 45658 term 38 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 98236 term 38 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 38 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216} {7391346141200761848 38 217}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216} {7391346141200761848 38 217}]
------------------------------------------------------
flag 84643 term 38 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 65985 term 38 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 38 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216} {7391346141200761848 38 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216} {7391346141200761848 38 217}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19532 term 38 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 61959 term 38 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 38 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216} {7391346141200761848 38 217}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216} {7391346141200761848 38 217}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2907304072185442205 (index 218) to leader 2
flag 49851 term 38 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 87 term 38 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 38 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216} {7391346141200761848 38 217} {2907304072185442205 38 218}]
------------------------------------------------------
flag 49916 term 38 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 218 
------------------------------------------------------
flag 5282 term 38 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 38 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 38 leaderCommit: 218 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216} {7391346141200761848 38 217} {2907304072185442205 38 218}]
------------------------------------------------------
client write log 7534271127167261031 (index 219) to leader 2
client write log 7355949968516312934 (index 220) to leader 2
client write log 6010925083995135929 (index 221) to leader 2
client write log 7403923982181108110 (index 222) to leader 2
client write log 7715568552453335766 (index 223) to leader 2
client write log 146298590857793020 (index 224) to leader 2
client write log 473155767693592440 (index 225) to leader 2
flag 42576 term 38 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 218 
------------------------------------------------------
flag 66228 term 38 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 38 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 38 leaderCommit: 218 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 37 209} {8551232503162868521 38 210} {9171014729134032055 38 211} {4690290652308131814 38 212} {1188979888884112710 38 213} {8692951830452889589 38 214} {4669188441517746531 38 215} {3680537980307503160 38 216} {7391346141200761848 38 217} {2907304072185442205 38 218} {7534271127167261031 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225}]
------------------------------------------------------
term 38 Server2 start snapshot! index=219
term 38 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=225
-------------------------------------------------------------
term 38 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 38
------------------------------------------------------
flag 92292 term 38 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 38 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225}]
------------------------------------------------------
term 38 Server1 start snapshot! index=219
term 38 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=225
-------------------------------------------------------------
!!!!!!connect server 0
client write log 457056548042144482 (index 226) to leader 2
term 38 server 2 not vote for server 0, 日志不够新
term 38 server 1 not vote for server 0, 日志不够新
term 40 server 1 vote for server 2
term 40 server 2 get vote from server 1
term 40 server 2 become leader
------------------------------------------------------
term 40 server 0 vote for server 2
term 40 server 2 get outdate rpc reply from server 0
flag 54100 term 40 leader 2 nextIndex[0]: 227  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 5314 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 227->226
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 227->226
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 218  matchIndex[0]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 38
------------------------------------------------------
flag 11312 term 40 leader 2 nextIndex[1]: 226  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
term 40 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 38 rf.commitIndex 219 rf.lastApplied 219
term 40 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
flag 10512 term 40 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 40 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 87291 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25514 term 40 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 88133 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84028 term 40 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 87529 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
flag 78617 term 40 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 24464 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17802 term 40 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 41165 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11584 term 40 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 22566 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
flag 41273 term 40 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 75237 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33144 term 40 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 44946 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
flag 52182 term 40 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 15862 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
flag 58160 term 40 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 50179 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
flag 55011 term 40 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 68670 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
flag 89613 term 40 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 60861 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
flag 89067 term 40 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 41468 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
flag 92361 term 40 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 53612 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
flag 54280 term 40 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 90069 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56061 term 40 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 12051 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
flag 18016 term 40 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 46051 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
flag 80345 term 40 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 81402 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226}]
------------------------------------------------------
client write log 457056548042144482 (index 227) to leader 2
flag 51773 term 40 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
flag 7218 term 40 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 40 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 225 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226} {457056548042144482 40 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226} {457056548042144482 40 227}]
------------------------------------------------------
flag 52742 term 40 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 40 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 46902 term 40 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 40 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226} {457056548042144482 40 227}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226} {457056548042144482 40 227}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71352 term 40 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 40 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 52341 term 40 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 40 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226} {457056548042144482 40 227}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226} {457056548042144482 40 227}]
------------------------------------------------------
flag 95445 term 40 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 40 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 16787 term 40 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 40 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226} {457056548042144482 40 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226} {457056548042144482 40 227}]
------------------------------------------------------
flag 82676 term 40 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 40 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 98927 term 40 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 40 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226} {457056548042144482 40 227}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226} {457056548042144482 40 227}]
------------------------------------------------------
flag 60157 term 40 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 40 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 15685 term 40 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 40 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226} {457056548042144482 40 227}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226} {457056548042144482 40 227}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8449834403069725221 (index 228) to leader 2
flag 97716 term 40 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 40 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
flag 16485 term 40 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 40 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226} {457056548042144482 40 227} {8449834403069725221 40 228}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 612 term 40 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 40 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 23334 term 40 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 40 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226} {457056548042144482 40 227} {8449834403069725221 40 228}]
------------------------------------------------------
client write log 555417519204451888 (index 229) to leader 2
client write log 1209833687307160363 (index 230) to leader 2
client write log 1716678035605618652 (index 231) to leader 2
client write log 3243279819553645118 (index 232) to leader 2
client write log 4445321314593685645 (index 233) to leader 2
client write log 2116966437582224998 (index 234) to leader 2
client write log 4900674660579996924 (index 235) to leader 2
flag 63646 term 40 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 40 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
flag 87877 term 40 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 40 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 38 219} {7355949968516312934 38 220} {6010925083995135929 38 221} {7403923982181108110 38 222} {7715568552453335766 38 223} {146298590857793020 38 224} {473155767693592440 38 225} {457056548042144482 38 226} {457056548042144482 40 227} {8449834403069725221 40 228} {555417519204451888 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235}]
------------------------------------------------------
term 40 Server2 start snapshot! index=229
term 40 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=235
-------------------------------------------------------------
term 40 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
flag 98472 term 40 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 40 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235}]
------------------------------------------------------
term 40 Server1 start snapshot! index=229
term 40 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=235
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8477647991227162433 (index 236) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
flag 77586 term 40 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 40 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236}]
------------------------------------------------------
term 41 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 1 vote for server 2
term 42 server 0 vote for server 2
term 42 server 2 get vote from server 1
term 42 server 2 become leader
------------------------------------------------------
term 42 server 2 get outdate rpc reply from server 0
flag 62286 term 42 leader 2 nextIndex[0]: 237  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 53097 term 42 leader 2 nextIndex[1]: 237  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236}]
------------------------------------------------------
term 42 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 237->236
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 2 nextIndex[0]: 228  matchIndex[0]: 0
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
flag 72830 term 42 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236}]
------------------------------------------------------
term 42 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 40 rf.commitIndex 229 rf.lastApplied 229
term 42 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
flag 66348 term 42 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 42 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 58778 term 42 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81200 term 42 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 29447 term 42 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88487 term 42 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 34721 term 42 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236}]
------------------------------------------------------
flag 35157 term 42 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 69462 term 42 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236}]
------------------------------------------------------
flag 76775 term 42 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 1905 term 42 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236}]
------------------------------------------------------
flag 47154 term 42 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 29710 term 42 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236}]
------------------------------------------------------
flag 98992 term 42 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 14159 term 42 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 48046 term 42 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 95278 term 42 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 1603 term 42 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 62962 term 42 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38577 term 42 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 46895 term 42 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
term 43 server 0 vote for server 1
term 43 server 1 get vote from server 0
term 43 server 1 become leader
------------------------------------------------------
flag 74900 term 43 leader 1 nextIndex[0]: 237  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 58456 term 43 leader 1 nextIndex[2]: 237  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236}]
------------------------------------------------------
client write log 2842774694290071558 (index 237) to leader 1
flag 29416 term 42 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 81938 term 42 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 87061 term 43 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 43 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 58299 term 43 leader 1 nextIndex[2]: 237  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236} {2842774694290071558 43 237}]
------------------------------------------------------
flag 47881 term 42 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 83379 term 42 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 24338 term 43 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 43 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 43 leaderCommit: 237 
------------------------------------------------------
flag 43626 term 43 leader 1 nextIndex[2]: 237  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 237 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236} {2842774694290071558 43 237}]
------------------------------------------------------
flag 38785 term 42 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 96019 term 42 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
client write log 6354247638119929270 (index 238) to leader 1
flag 44451 term 43 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 43 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 43 leaderCommit: 237 
------------------------------------------------------
flag 69287 term 43 leader 1 nextIndex[2]: 237  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 237 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236} {2842774694290071558 43 237} {6354247638119929270 43 238}]
------------------------------------------------------
flag 73277 term 42 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
flag 77828 term 42 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 237->236
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 237->236
------------------------------------------------------
flag 86498 term 43 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 43 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236} {2842774694290071558 43 237} {6354247638119929270 43 238}]
------------------------------------------------------
term 42 leader 2 nextIndex[0]: 0  matchIndex[0]: 236
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
flag 84735 term 42 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 42 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 40 leaderCommit: 236 
------------------------------------------------------
!!!!!!connect server 2
client write log 1500685385341488790 (index 239) to leader 1
flag 41445 term 43 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 43 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 43 leaderCommit: 238 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
term 43 server 2 InstallSnapshot fail
rf.commitIndex 236 args.LastIncludedIndex 229
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 40 229} {1209833687307160363 40 230} {1716678035605618652 40 231} {3243279819553645118 40 232} {4445321314593685645 40 233} {2116966437582224998 40 234} {4900674660579996924 40 235} {8477647991227162433 40 236} {2842774694290071558 43 237} {6354247638119929270 43 238} {1500685385341488790 43 239}]
------------------------------------------------------
term 43 Server1 start snapshot! index=239
term 43 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54351 term 43 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 43 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 43 rf.commitIndex 239 rf.lastApplied 239
term 43 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 240->239
------------------------------------------------------
term 43 Server0 start snapshot! index=239
term 43 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
flag 85993 term 43 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 43 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 0  matchIndex[2]: 239
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
term 43 server 2 InstallSnapshot fail
rf.commitIndex 239 args.LastIncludedIndex 239
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
flag 75483 term 43 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 43 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 78250 term 43 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 43 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
flag 32058 term 43 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 43 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 31876 term 43 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 43 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
flag 65967 term 43 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 43 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 89422 term 43 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 43 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
flag 97673 term 43 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 43 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 39177 term 43 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 43 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 43 239}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5245535179264648128 (index 240) to leader 1
flag 12493 term 43 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 43 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
flag 50839 term 43 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 43 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 239 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 43 239} {5245535179264648128 43 240}]
------------------------------------------------------
flag 66124 term 43 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 43 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 43 leaderCommit: 240 
------------------------------------------------------
flag 66069 term 43 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 43 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 240 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 43 239} {5245535179264648128 43 240}]
------------------------------------------------------
client write log 7595358654596170960 (index 241) to leader 1
client write log 9216594539297040742 (index 242) to leader 1
client write log 8180565848348661227 (index 243) to leader 1
client write log 3665432788042954024 (index 244) to leader 1
client write log 1798168153324860518 (index 245) to leader 1
client write log 8106425666009274729 (index 246) to leader 1
client write log 1726297085788894045 (index 247) to leader 1
client write log 7853993423169074612 (index 248) to leader 1
client write log 4588900375242199059 (index 249) to leader 1
client write log 5118813085247630491 (index 250) to leader 1
client write log 1106517356591325932 (index 251) to leader 1
client write log 1873396533432966512 (index 252) to leader 1
client write log 4557480486883708345 (index 253) to leader 1
client write log 830573538652385761 (index 254) to leader 1
client write log 8044332240628963697 (index 255) to leader 1
flag 9084 term 43 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 43 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 43 leaderCommit: 240 
------------------------------------------------------
flag 67475 term 43 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 43 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 240 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 43 239} {5245535179264648128 43 240} {7595358654596170960 43 241} {9216594539297040742 43 242} {8180565848348661227 43 243} {3665432788042954024 43 244} {1798168153324860518 43 245} {8106425666009274729 43 246} {1726297085788894045 43 247} {7853993423169074612 43 248} {4588900375242199059 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255}]
------------------------------------------------------
term 43 Server1 start snapshot! index=249
term 43 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=255
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95193 term 43 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 43 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255}]
------------------------------------------------------
term 43 Server0 start snapshot! index=249
term 43 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=255
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3636220156411639155 (index 256) to leader 1
flag 18936 term 43 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 43 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 43
------------------------------------------------------
term 44 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 2 vote for server 1
term 45 server 1 get vote from server 2
term 45 server 0 vote for server 1
term 45 server 1 become leader
------------------------------------------------------
term 45 server 1 get outdate rpc reply from server 0
flag 93145 term 45 leader 1 nextIndex[0]: 257  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 35717 term 45 leader 1 nextIndex[2]: 257  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 257->256
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31851 term 45 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 240  matchIndex[2]: 0
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 43
------------------------------------------------------
term 45 server 2 InstallSnapshot success
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 43 rf.commitIndex 249 rf.lastApplied 249
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14518 term 45 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 28439 term 45 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 45 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
flag 31573 term 45 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 85892 term 45 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
flag 25068 term 45 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 55037 term 45 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
flag 30021 term 45 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 74354 term 45 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87599 term 45 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 26097 term 45 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97212 term 45 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 45877 term 45 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58515 term 45 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 27654 term 45 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
flag 91578 term 45 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 84988 term 45 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
flag 46873 term 45 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 46115 term 45 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
flag 7577 term 45 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 96660 term 45 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66210 term 45 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 80330 term 45 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
flag 81467 term 45 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 75691 term 45 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27424 term 45 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 48361 term 45 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18722 term 45 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 61779 term 45 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
flag 54536 term 45 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 1317 term 45 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
term 45 server 2 not vote for server 0, 任期不够新
term 45 server 0 get outdate rpc reply from server 2
flag 82325 term 45 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 32172 term 45 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3636220156411639155 (index 257) to leader 1
flag 75779 term 45 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 40346 term 45 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 45 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256} {3636220156411639155 45 257}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256} {3636220156411639155 45 257}]
------------------------------------------------------
term 45 server 1 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 1
flag 46202 term 45 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 73838 term 45 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 45 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256} {3636220156411639155 45 257}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256} {3636220156411639155 45 257}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82530 term 45 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 83963 term 45 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 45 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256} {3636220156411639155 45 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256} {3636220156411639155 45 257}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69119 term 45 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 82391 term 45 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 45 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
term 45 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256} {3636220156411639155 45 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256} {3636220156411639155 45 257}]
------------------------------------------------------
flag 46039 term 45 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 18803 term 45 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 45 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256} {3636220156411639155 45 257}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256} {3636220156411639155 45 257}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96249 term 45 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 12265 term 45 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 45 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256} {3636220156411639155 45 257}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256} {3636220156411639155 45 257}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3095478748212586940 (index 258) to leader 1
flag 6403 term 45 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 23942 term 45 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 45 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256} {3636220156411639155 45 257} {3095478748212586940 45 258}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77197 term 45 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 45 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 46023 term 45 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 45 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256} {3636220156411639155 45 257} {3095478748212586940 45 258}]
------------------------------------------------------
client write log 7529405781023877074 (index 259) to leader 1
client write log 7453203030096046784 (index 260) to leader 1
client write log 4555583599170640021 (index 261) to leader 1
client write log 4773510499426446692 (index 262) to leader 1
client write log 4293189669054182359 (index 263) to leader 1
client write log 3509602520179124615 (index 264) to leader 1
client write log 1881460900870604108 (index 265) to leader 1
client write log 2145957586513641511 (index 266) to leader 1
flag 63900 term 45 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 45 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 75520 term 45 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 45 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 249} {5118813085247630491 43 250} {1106517356591325932 43 251} {1873396533432966512 43 252} {4557480486883708345 43 253} {830573538652385761 43 254} {8044332240628963697 43 255} {3636220156411639155 43 256} {3636220156411639155 45 257} {3095478748212586940 45 258} {7529405781023877074 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266}]
------------------------------------------------------
term 45 Server1 start snapshot! index=259
term 45 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=266
-------------------------------------------------------------
flag 78724 term 45 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 45 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 45
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266}]
------------------------------------------------------
term 45 Server0 start snapshot! index=259
term 45 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=266
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2292572055805953195 (index 267) to leader 1
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 server 1 not vote for server 2, 日志不够新
term 45 server 0 not vote for server 2, 日志不够新
term 47 server 2 vote for server 1
term 47 server 1 get vote from server 2
term 47 server 1 become leader
------------------------------------------------------
term 47 server 0 vote for server 1
term 47 server 1 get outdate rpc reply from server 0
flag 72079 term 47 leader 1 nextIndex[0]: 268  matchIndex[0]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
flag 19063 term 47 leader 1 nextIndex[2]: 268  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 47 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 268->267
------------------------------------------------------
term 47 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 268->267
------------------------------------------------------
flag 94606 term 47 leader 1 nextIndex[0]: 267  matchIndex[0]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 258  matchIndex[2]: 0
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 45
------------------------------------------------------
term 47 server 2 InstallSnapshot success
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 45 rf.commitIndex 259 rf.lastApplied 259
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
flag 48082 term 47 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
flag 62971 term 47 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 47 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61234 term 47 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
flag 85195 term 47 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41850 term 47 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
flag 75090 term 47 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99301 term 47 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
flag 21018 term 47 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
flag 80088 term 47 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
flag 74547 term 47 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87453 term 47 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
flag 68834 term 47 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
flag 19321 term 47 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
flag 90655 term 47 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
term 47 server 1 not vote for server 0, 任期不够新
term 47 server 0 get outdate rpc reply from server 1
flag 64648 term 47 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
flag 38863 term 47 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
flag 18312 term 47 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
flag 49761 term 47 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
flag 11820 term 47 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
flag 11363 term 47 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
flag 11731 term 47 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
flag 9334 term 47 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
flag 78241 term 47 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
flag 16615 term 47 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
flag 63143 term 47 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
flag 71748 term 47 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
term 47 server 0 not vote for server 2, 任期不够新
term 47 server 2 get outdate rpc reply from server 0
flag 40815 term 47 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
flag 91942 term 47 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40758 term 47 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
flag 51624 term 47 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
flag 20175 term 47 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
flag 71359 term 47 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
flag 21212 term 47 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
flag 86505 term 47 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
flag 8494 term 47 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
flag 40947 term 47 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267}]
------------------------------------------------------
client write log 2292572055805953195 (index 268) to leader 1
flag 20906 term 47 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
flag 75421 term 47 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 47 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 45 leaderCommit: 266 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267} {2292572055805953195 47 268}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267} {2292572055805953195 47 268}]
------------------------------------------------------
flag 66872 term 47 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 75219 term 47 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267} {2292572055805953195 47 268}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267} {2292572055805953195 47 268}]
------------------------------------------------------
term 47 server 2 not vote for server 1, 任期不够新
term 47 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13217 term 47 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 44790 term 47 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267} {2292572055805953195 47 268}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267} {2292572055805953195 47 268}]
------------------------------------------------------
flag 69406 term 47 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 11867 term 47 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267} {2292572055805953195 47 268}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267} {2292572055805953195 47 268}]
------------------------------------------------------
flag 52080 term 47 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 30200 term 47 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267} {2292572055805953195 47 268}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267} {2292572055805953195 47 268}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87405 term 47 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 78772 term 47 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267} {2292572055805953195 47 268}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267} {2292572055805953195 47 268}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95136 term 47 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 60490 term 47 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267} {2292572055805953195 47 268}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267} {2292572055805953195 47 268}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 55332 term 47 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 59044 term 47 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 27585 term 47 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 59883 term 47 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 11359 term 47 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 15938 term 47 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 48 server 0 vote for server 2
term 48 server 2 get vote from server 0
term 48 server 2 become leader
------------------------------------------------------
flag 96804 term 48 leader 2 nextIndex[0]: 269  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 16874 term 48 leader 2 nextIndex[1]: 269  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267} {2292572055805953195 47 268}]
------------------------------------------------------
flag 34560 term 47 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 59622 term 47 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
client write log 5639731571665416210 (index 269) to leader 2
flag 88960 term 48 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 2371 term 48 leader 2 nextIndex[1]: 269  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 259} {7453203030096046784 45 260} {4555583599170640021 45 261} {4773510499426446692 45 262} {4293189669054182359 45 263} {3509602520179124615 45 264} {1881460900870604108 45 265} {2145957586513641511 45 266} {2292572055805953195 45 267} {2292572055805953195 47 268} {5639731571665416210 48 269}]
------------------------------------------------------
term 48 Server2 start snapshot! index=269
term 48 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
flag 25966 term 47 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 47390 term 47 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 40697 term 48 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 48 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 269 
------------------------------------------------------
term 48 leader 2 nextIndex[1]: 269  matchIndex[1]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 48 269}]
------------------------------------------------------
client write log 2316349423916541047 (index 270) to leader 2
term 48 Server0 start snapshot! index=269
term 48 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
client write log 643454323533156844 (index 271) to leader 2
client write log 7286715205182609523 (index 272) to leader 2
client write log 4059671012329286935 (index 273) to leader 2
client write log 8564257954219947197 (index 274) to leader 2
client write log 765387836992399200 (index 275) to leader 2
client write log 5247355660632842738 (index 276) to leader 2
client write log 7372684213558938055 (index 277) to leader 2
flag 43795 term 47 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 44672 term 47 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 50074 term 48 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 48 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 269 
------------------------------------------------------
term 48 leader 2 nextIndex[1]: 269  matchIndex[1]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
flag 58422 term 47 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 11440 term 47 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 1806 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 leader 2 nextIndex[1]: 269  matchIndex[1]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
!!!!!!connect server 1
client write log 3467064645037164338 (index 269) to leader 1
flag 72598 term 47 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 40583 term 47 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 47 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 48 server 2 AppendEntries false 领导者任期过期 args.Term 47
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 48 server 0 AppendEntries false 领导者任期过期 args.Term 47
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48726 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 leader 2 nextIndex[1]: 269  matchIndex[1]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 48 rf.commitIndex 269 rf.lastApplied 269
term 48 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
flag 94152 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 74451 term 48 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 48 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
flag 74136 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 63701 term 48 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49320 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 48168 term 48 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
flag 47583 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 41192 term 48 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
flag 58980 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 22425 term 48 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
flag 50893 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 42564 term 48 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33068 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 43313 term 48 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
flag 67846 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 17184 term 48 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
flag 30556 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 91963 term 48 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
flag 5238 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 95054 term 48 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
flag 84537 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 81603 term 48 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25041 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 50041 term 48 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
flag 51625 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 42778 term 48 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
flag 16978 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 46703 term 48 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5767 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 89928 term 48 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
flag 20137 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 71459 term 48 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
flag 57054 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 27517 term 48 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
flag 67747 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 82897 term 48 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
flag 2047 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 78817 term 48 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277}]
------------------------------------------------------
client write log 3467064645037164338 (index 278) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49055 term 48 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 95214 term 48 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 48 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277} {3467064645037164338 48 278}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277} {3467064645037164338 48 278}]
------------------------------------------------------
flag 74448 term 48 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 32034 term 48 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 48 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277} {3467064645037164338 48 278}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277} {3467064645037164338 48 278}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87647 term 48 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 93331 term 48 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 48 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277} {3467064645037164338 48 278}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277} {3467064645037164338 48 278}]
------------------------------------------------------
flag 97429 term 48 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 10803 term 48 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 48 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277} {3467064645037164338 48 278}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277} {3467064645037164338 48 278}]
------------------------------------------------------
flag 57242 term 48 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 50077 term 48 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 48 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277} {3467064645037164338 48 278}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277} {3467064645037164338 48 278}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69143 term 48 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 77463 term 48 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 48 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277} {3467064645037164338 48 278}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277} {3467064645037164338 48 278}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 279->278
------------------------------------------------------
flag 9158 term 48 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 48 leader 2 nextIndex[1]: 0  matchIndex[1]: 278
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 1 InstallSnapshot fail
rf.commitIndex 278 args.LastIncludedIndex 269
------------------------------------------------------
term 48 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277} {3467064645037164338 48 278}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2116637155577869442 (index 279) to leader 2
flag 14294 term 48 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 43641 term 48 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 48 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 48 269} {2316349423916541047 48 270} {643454323533156844 48 271} {7286715205182609523 48 272} {4059671012329286935 48 273} {8564257954219947197 48 274} {765387836992399200 48 275} {5247355660632842738 48 276} {7372684213558938055 48 277} {3467064645037164338 48 278} {2116637155577869442 48 279}]
------------------------------------------------------
term 48 Server2 start snapshot! index=279
term 48 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 48
------------------------------------------------------
flag 14090 term 48 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 48 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 48 leaderCommit: 279 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 48 279}]
------------------------------------------------------
term 48 Server1 start snapshot! index=279
term 48 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
client write log 4639757475096411240 (index 280) to leader 2
client write log 1145615663193867639 (index 281) to leader 2
client write log 504096301352652096 (index 282) to leader 2
client write log 328260902792927768 (index 283) to leader 2
client write log 6626625742694618322 (index 284) to leader 2
client write log 3212292887987569044 (index 285) to leader 2
client write log 2623534791593239804 (index 286) to leader 2
client write log 8471251529393580363 (index 287) to leader 2
client write log 7244396584310328882 (index 288) to leader 2
client write log 3466929275717848758 (index 289) to leader 2
client write log 2917757502623852101 (index 290) to leader 2
term 48 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 48
------------------------------------------------------
flag 56269 term 48 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 48 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 48 leaderCommit: 279 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 48 279} {4639757475096411240 48 280} {1145615663193867639 48 281} {504096301352652096 48 282} {328260902792927768 48 283} {6626625742694618322 48 284} {3212292887987569044 48 285} {2623534791593239804 48 286} {8471251529393580363 48 287} {7244396584310328882 48 288} {3466929275717848758 48 289} {2917757502623852101 48 290}]
------------------------------------------------------
term 48 Server2 start snapshot! index=289
term 48 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=290
-------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
flag 16589 term 48 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 48 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290}]
------------------------------------------------------
term 48 Server1 start snapshot! index=289
term 48 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=290
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4738190193846169838 (index 291) to leader 2
term 48 server 2 not vote for server 0, 日志不够新
term 48 server 1 not vote for server 0, 日志不够新
term 50 server 1 vote for server 2
term 50 server 0 vote for server 2
term 50 server 2 get vote from server 1
term 50 server 2 become leader
------------------------------------------------------
term 50 server 2 get outdate rpc reply from server 0
flag 66715 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 21866 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 292->291
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 292->291
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 279  matchIndex[0]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
flag 50311 term 50 leader 2 nextIndex[1]: 291  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
term 50 server 0 InstallSnapshot success
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 48 rf.commitIndex 289 rf.lastApplied 289
term 50 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46688 term 50 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 50 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 48206 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
term 50 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
flag 64918 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 95146 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
flag 29946 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 75682 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
flag 54301 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 14167 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
flag 90850 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 39670 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91926 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 34352 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
flag 36539 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 93187 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
term 50 server 1 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 1
flag 69161 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 58552 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
flag 85821 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 92147 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
flag 93117 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 29450 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
flag 32536 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 60121 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
flag 46187 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 56043 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80649 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 50137 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
flag 57385 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 54662 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
flag 42129 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 35482 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69406 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 73838 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
flag 15779 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 48431 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291}]
------------------------------------------------------
client write log 4738190193846169838 (index 292) to leader 2
flag 71571 term 50 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 82795 term 50 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 50 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291} {4738190193846169838 50 292}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291} {4738190193846169838 50 292}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95896 term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
flag 93007 term 50 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291} {4738190193846169838 50 292}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291} {4738190193846169838 50 292}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60649 term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
flag 97173 term 50 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291} {4738190193846169838 50 292}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291} {4738190193846169838 50 292}]
------------------------------------------------------
flag 28246 term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
flag 27344 term 50 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291} {4738190193846169838 50 292}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291} {4738190193846169838 50 292}]
------------------------------------------------------
flag 8008 term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
flag 94211 term 50 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291} {4738190193846169838 50 292}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291} {4738190193846169838 50 292}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36043 term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
flag 39541 term 50 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291} {4738190193846169838 50 292}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291} {4738190193846169838 50 292}]
------------------------------------------------------
flag 79098 term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
flag 41786 term 50 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291} {4738190193846169838 50 292}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291} {4738190193846169838 50 292}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4073369823571781461 (index 293) to leader 2
flag 51524 term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
flag 11059 term 50 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 292 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291} {4738190193846169838 50 292} {4073369823571781461 50 293}]
------------------------------------------------------
flag 26403 term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 293 
------------------------------------------------------
flag 9630 term 50 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 50 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 50 leaderCommit: 293 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291} {4738190193846169838 50 292} {4073369823571781461 50 293}]
------------------------------------------------------
client write log 4384738008719025010 (index 294) to leader 2
client write log 460956119450981841 (index 295) to leader 2
client write log 8096839686938558392 (index 296) to leader 2
client write log 4766165992417598606 (index 297) to leader 2
client write log 2203908821983861706 (index 298) to leader 2
client write log 5480761194616077150 (index 299) to leader 2
client write log 3265558406634116548 (index 300) to leader 2
client write log 8581431227321971293 (index 301) to leader 2
client write log 3218062456395050398 (index 302) to leader 2
flag 26560 term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 50 leaderCommit: 293 
------------------------------------------------------
flag 51829 term 50 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 50 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 50 leaderCommit: 293 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 289} {2917757502623852101 48 290} {4738190193846169838 48 291} {4738190193846169838 50 292} {4073369823571781461 50 293} {4384738008719025010 50 294} {460956119450981841 50 295} {8096839686938558392 50 296} {4766165992417598606 50 297} {2203908821983861706 50 298} {5480761194616077150 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302}]
------------------------------------------------------
term 50 Server2 start snapshot! index=299
term 50 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=302
-------------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 45838 term 50 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 50 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302}]
------------------------------------------------------
term 50 Server1 start snapshot! index=299
term 50 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=302
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6133298337656868819 (index 303) to leader 2
term 50 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 78070 term 50 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 50 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303}]
------------------------------------------------------
term 51 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 52 server 1 vote for server 2
term 52 server 0 vote for server 2
term 52 server 2 get vote from server 0
term 52 server 2 become leader
------------------------------------------------------
term 52 server 2 get outdate rpc reply from server 1
flag 47082 term 52 leader 2 nextIndex[0]: 304  matchIndex[0]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 28564 term 52 leader 2 nextIndex[1]: 304  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303}]
------------------------------------------------------
term 52 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 304->303
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 293  matchIndex[0]: 0
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 54875 term 52 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303}]
------------------------------------------------------
term 52 server 0 InstallSnapshot success
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 50 rf.commitIndex 299 rf.lastApplied 299
flag 98819 term 52 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 52 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 78275 term 52 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50932 term 52 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 85265 term 52 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303}]
------------------------------------------------------
flag 29987 term 52 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 69980 term 52 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303}]
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50089 term 52 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 95236 term 52 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303}]
------------------------------------------------------
flag 19436 term 52 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 64827 term 52 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303}]
------------------------------------------------------
flag 60402 term 52 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 39369 term 52 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303}]
------------------------------------------------------
flag 79549 term 52 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 97213 term 52 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
!!!!!!diconnect server 2
flag 71107 term 52 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 59093 term 52 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 82893 term 52 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 37849 term 52 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
term 53 server 0 vote for server 1
term 53 server 1 get vote from server 0
term 53 server 1 become leader
------------------------------------------------------
flag 35635 term 53 leader 1 nextIndex[0]: 304  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 96028 term 53 leader 1 nextIndex[2]: 304  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303}]
------------------------------------------------------
flag 3741 term 52 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 46917 term 52 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
client write log 8064462677124245265 (index 304) to leader 1
flag 76565 term 53 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 28499 term 53 leader 1 nextIndex[2]: 304  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303} {8064462677124245265 53 304}]
------------------------------------------------------
flag 21112 term 52 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 14521 term 52 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 41315 term 53 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 53 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 7076 term 53 leader 1 nextIndex[2]: 304  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 304 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303} {8064462677124245265 53 304}]
------------------------------------------------------
client write log 8464081661227225878 (index 305) to leader 1
flag 12281 term 52 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 57681 term 52 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 98378 term 53 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 53 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 53 leaderCommit: 304 
------------------------------------------------------
flag 28695 term 53 leader 1 nextIndex[2]: 304  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 304 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303} {8064462677124245265 53 304} {8464081661227225878 53 305}]
------------------------------------------------------
flag 86870 term 52 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 67977 term 52 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 67588 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 89472 term 53 leader 1 nextIndex[2]: 304  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=305
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303} {8064462677124245265 53 304} {8464081661227225878 53 305}]
------------------------------------------------------
!!!!!!connect server 2
client write log 7329347581057971014 (index 306) to leader 1
flag 5603 term 52 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
flag 30456 term 52 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 52 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 303 
------------------------------------------------------
term 53 server 0 AppendEntries false 领导者任期过期 args.Term 52
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 53 server 1 AppendEntries false 领导者任期过期 args.Term 52
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87291 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 47275 term 53 leader 1 nextIndex[2]: 304  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303} {8064462677124245265 53 304} {8464081661227225878 53 305} {7329347581057971014 53 306}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303} {8064462677124245265 53 304} {8464081661227225878 53 305} {7329347581057971014 53 306}]
------------------------------------------------------
flag 25762 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 26828 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303} {8064462677124245265 53 304} {8464081661227225878 53 305} {7329347581057971014 53 306}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303} {8064462677124245265 53 304} {8464081661227225878 53 305} {7329347581057971014 53 306}]
------------------------------------------------------
flag 92165 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 68974 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
term 53 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303} {8064462677124245265 53 304} {8464081661227225878 53 305} {7329347581057971014 53 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303} {8064462677124245265 53 304} {8464081661227225878 53 305} {7329347581057971014 53 306}]
------------------------------------------------------
flag 89873 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 24798 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303} {8064462677124245265 53 304} {8464081661227225878 53 305} {7329347581057971014 53 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303} {8064462677124245265 53 304} {8464081661227225878 53 305} {7329347581057971014 53 306}]
------------------------------------------------------
flag 24622 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 60758 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
term 53 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303} {8064462677124245265 53 304} {8464081661227225878 53 305} {7329347581057971014 53 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303} {8064462677124245265 53 304} {8464081661227225878 53 305} {7329347581057971014 53 306}]
------------------------------------------------------
flag 2750 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 23257 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303} {8064462677124245265 53 304} {8464081661227225878 53 305} {7329347581057971014 53 306}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303} {8064462677124245265 53 304} {8464081661227225878 53 305} {7329347581057971014 53 306}]
------------------------------------------------------
term 53 server 1 not vote for server 0, 任期不够新
term 53 server 0 get outdate rpc reply from server 1
flag 76494 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 25749 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303} {8064462677124245265 53 304} {8464081661227225878 53 305} {7329347581057971014 53 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303} {8064462677124245265 53 304} {8464081661227225878 53 305} {7329347581057971014 53 306}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6335142239542242898 (index 307) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 307->306
------------------------------------------------------
flag 35393 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 0  matchIndex[2]: 306
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303} {8064462677124245265 53 304} {8464081661227225878 53 305} {7329347581057971014 53 306} {6335142239542242898 53 307}]
------------------------------------------------------
flag 19985 term 53 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 0  matchIndex[2]: 306
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303} {8064462677124245265 53 304} {8464081661227225878 53 305} {7329347581057971014 53 306} {6335142239542242898 53 307}]
------------------------------------------------------
client write log 4645165485752071960 (index 308) to leader 1
client write log 1542277533057256059 (index 309) to leader 1
client write log 9194003743582171583 (index 310) to leader 1
client write log 2753722699619348444 (index 311) to leader 1
client write log 5379880731189229831 (index 312) to leader 1
client write log 4964670849422473068 (index 313) to leader 1
client write log 2158072666565934295 (index 314) to leader 1
client write log 5905224285860096458 (index 315) to leader 1
client write log 7119622226400927998 (index 316) to leader 1
client write log 5423177959782208262 (index 317) to leader 1
client write log 2076104606989958020 (index 318) to leader 1
client write log 5386813821771918877 (index 319) to leader 1
client write log 1241636221174408916 (index 320) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8653 term 53 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 0  matchIndex[2]: 306
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 50 299} {3265558406634116548 50 300} {8581431227321971293 50 301} {3218062456395050398 50 302} {6133298337656868819 50 303} {8064462677124245265 53 304} {8464081661227225878 53 305} {7329347581057971014 53 306} {6335142239542242898 53 307} {4645165485752071960 53 308} {1542277533057256059 53 309} {9194003743582171583 53 310} {2753722699619348444 53 311} {5379880731189229831 53 312} {4964670849422473068 53 313} {2158072666565934295 53 314} {5905224285860096458 53 315} {7119622226400927998 53 316} {5423177959782208262 53 317} {2076104606989958020 53 318} {5386813821771918877 53 319} {1241636221174408916 53 320}]
------------------------------------------------------
term 53 Server1 start snapshot! index=309
term 53 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=320
-------------------------------------------------------------
term 53 Server1 start snapshot! index=319
term 53 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
flag 37435 term 53 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 53 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 0  matchIndex[2]: 306
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320}]
------------------------------------------------------
term 53 Server0 start snapshot! index=309
term 53 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=320
-------------------------------------------------------------
term 53 Server0 start snapshot! index=319
term 53 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=320
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3838969854004457102 (index 321) to leader 1
term 53 server 1 not vote for server 2, 日志不够新
term 53 server 0 not vote for server 2, 日志不够新
term 54 server 2 not vote for server 1, 任期不够新
term 54 server 1 get outdate rpc reply from server 2
term 55 server 2 vote for server 1
term 55 server 1 get vote from server 2
term 55 server 1 become leader
------------------------------------------------------
term 55 server 0 vote for server 1
term 55 server 1 get outdate rpc reply from server 0
flag 83042 term 55 leader 1 nextIndex[0]: 322  matchIndex[0]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 2722 term 55 leader 1 nextIndex[2]: 322  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 55 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 322->321
------------------------------------------------------
term 55 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 322->321
------------------------------------------------------
flag 38301 term 55 leader 1 nextIndex[0]: 321  matchIndex[0]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 307  matchIndex[2]: 0
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 53
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
term 55 server 2 InstallSnapshot success
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 53 rf.commitIndex 319 rf.lastApplied 319
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37807 term 55 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 55602 term 55 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 55 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
flag 59300 term 55 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 83980 term 55 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
flag 88486 term 55 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 71480 term 55 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
flag 13618 term 55 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 21702 term 55 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
flag 91931 term 55 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 87558 term 55 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
flag 88885 term 55 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 67528 term 55 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64497 term 55 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 22426 term 55 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
flag 41908 term 55 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 94046 term 55 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
flag 38301 term 55 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 63273 term 55 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
term 55 server 2 not vote for server 0, 任期不够新
term 55 server 0 get outdate rpc reply from server 2
flag 2157 term 55 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 56902 term 55 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
flag 47518 term 55 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 41518 term 55 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
flag 99244 term 55 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 29050 term 55 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
flag 58640 term 55 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 51884 term 55 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
flag 74266 term 55 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 56649 term 55 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
flag 56131 term 55 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 39749 term 55 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
flag 78265 term 55 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 63922 term 55 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32106 term 55 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 75462 term 55 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321}]
------------------------------------------------------
client write log 3838969854004457102 (index 322) to leader 1
flag 30589 term 55 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 28023 term 55 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 55 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321} {3838969854004457102 55 322}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321} {3838969854004457102 55 322}]
------------------------------------------------------
flag 56025 term 55 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 55 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 55 leaderCommit: 322 
------------------------------------------------------
flag 94661 term 55 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 55 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 55 leaderCommit: 322 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321} {3838969854004457102 55 322}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321} {3838969854004457102 55 322}]
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56547 term 55 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 55 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 55 leaderCommit: 322 
------------------------------------------------------
flag 10306 term 55 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 55 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 55 leaderCommit: 322 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321} {3838969854004457102 55 322}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321} {3838969854004457102 55 322}]
------------------------------------------------------
flag 20311 term 55 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 55 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 55 leaderCommit: 322 
------------------------------------------------------
flag 89544 term 55 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 55 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 55 leaderCommit: 322 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321} {3838969854004457102 55 322}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321} {3838969854004457102 55 322}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61276 term 55 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 55 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 55 leaderCommit: 322 
------------------------------------------------------
flag 26150 term 55 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 55 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 55 leaderCommit: 322 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321} {3838969854004457102 55 322}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321} {3838969854004457102 55 322}]
------------------------------------------------------
flag 43942 term 55 leader 1 nextIndex[0]: 323  matchIndex[0]: 322
term 55 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 55 leaderCommit: 322 
------------------------------------------------------
flag 32422 term 55 leader 1 nextIndex[2]: 323  matchIndex[2]: 322
term 55 leader 1 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 55 leaderCommit: 322 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321} {3838969854004457102 55 322}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 53 319} {1241636221174408916 53 320} {3838969854004457102 53 321} {3838969854004457102 55 322}]
------------------------------------------------------
  ... Passed --  76.1  3 1734  722755  322
--- PASS: TestSnapshotInstall2D (76.11s)
PASS
