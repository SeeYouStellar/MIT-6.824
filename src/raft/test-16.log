=== RUN   TestSnapshotAllCrash2D
Test (2D): crash and restart all servers ...
term 1 server 1 vote for server 2
term 1 server 0 vote for server 2
term 1 server 2 get vote from server 0
term 1 server 2 become leader
------------------------------------------------------
term 1 server 2 get outdate rpc reply from server 1
flag 62341 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 84846 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
server 1 log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
server 0 log:
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 1860036546197688919 (index 1) to leader 2
flag 12330 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
[{1860036546197688919 1 1}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 44285 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
[{1860036546197688919 1 1}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
server 1 log:
[{<nil> 0 0} {1860036546197688919 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
server 0 log:
[{<nil> 0 0} {1860036546197688919 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1860036546197688919 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1860036546197688919 1 1}]
------------------------------------------------------
flag 21241 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 83734 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
server 1 log:
[{<nil> 0 0} {1860036546197688919 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1860036546197688919 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
server 0 log:
[{<nil> 0 0} {1860036546197688919 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1860036546197688919 1 1}]
------------------------------------------------------
client write log 1589956497588103812 (index 2) to leader 2
flag 14741 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
[{1589956497588103812 1 2}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 57174 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
[{1589956497588103812 1 2}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
server 1 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
server 0 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2}]
------------------------------------------------------
flag 11457 term 1 leader 2 nextIndex[0]: 3  matchIndex[0]: 2
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 82812 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
server 1 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
server 0 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2}]
------------------------------------------------------
client write log 5701998019664077105 (index 3) to leader 2
flag 30993 term 1 leader 2 nextIndex[0]: 3  matchIndex[0]: 2
[{5701998019664077105 1 3}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 27654 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
[{5701998019664077105 1 3}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
server 1 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=4
update matchIndex[1]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
server 0 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=4
update matchIndex[0]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3}]
------------------------------------------------------
flag 53408 term 1 leader 2 nextIndex[0]: 4  matchIndex[0]: 3
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
flag 89593 term 1 leader 2 nextIndex[1]: 4  matchIndex[1]: 3
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:3 
server 1 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=4
update matchIndex[1]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:3 
server 0 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=4
update matchIndex[0]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3}]
------------------------------------------------------
client write log 357114683702139874 (index 4) to leader 2
flag 90406 term 1 leader 2 nextIndex[0]: 4  matchIndex[0]: 3
[{357114683702139874 1 4}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
flag 37744 term 1 leader 2 nextIndex[1]: 4  matchIndex[1]: 3
[{357114683702139874 1 4}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:3 
server 1 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=5
update matchIndex[1]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:3 
server 0 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=5
update matchIndex[0]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4}]
------------------------------------------------------
flag 16250 term 1 leader 2 nextIndex[0]: 5  matchIndex[0]: 4
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
flag 24812 term 1 leader 2 nextIndex[1]: 5  matchIndex[1]: 4
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:4 
server 0 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:4 
server 1 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=5
update matchIndex[0]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=5
update matchIndex[1]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4}]
------------------------------------------------------
client write log 4873750344707853527 (index 5) to leader 2
flag 41816 term 1 leader 2 nextIndex[0]: 5  matchIndex[0]: 4
[{4873750344707853527 1 5}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
flag 55557 term 1 leader 2 nextIndex[1]: 5  matchIndex[1]: 4
[{4873750344707853527 1 5}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:4 
server 1 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:4 
server 0 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=6
update matchIndex[0]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=6
update matchIndex[1]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5}]
------------------------------------------------------
flag 96901 term 1 leader 2 nextIndex[0]: 6  matchIndex[0]: 5
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
flag 74254 term 1 leader 2 nextIndex[1]: 6  matchIndex[1]: 5
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:5 
server 0 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=6
update matchIndex[0]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:5 
server 1 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=6
update matchIndex[1]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5}]
------------------------------------------------------
client write log 3938197702662681288 (index 6) to leader 2
flag 88062 term 1 leader 2 nextIndex[0]: 6  matchIndex[0]: 5
[{3938197702662681288 1 6}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
flag 97938 term 1 leader 2 nextIndex[1]: 6  matchIndex[1]: 5
[{3938197702662681288 1 6}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:5 
server 1 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=7
update matchIndex[1]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:5 
server 0 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=7
update matchIndex[0]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6}]
------------------------------------------------------
flag 91460 term 1 leader 2 nextIndex[0]: 7  matchIndex[0]: 6
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
flag 98501 term 1 leader 2 nextIndex[1]: 7  matchIndex[1]: 6
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:6 
server 0 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=7
update matchIndex[0]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:6 
server 1 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=7
update matchIndex[1]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6}]
------------------------------------------------------
client write log 4051722030551424904 (index 7) to leader 2
flag 29991 term 1 leader 2 nextIndex[0]: 7  matchIndex[0]: 6
[{4051722030551424904 1 7}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
flag 37370 term 1 leader 2 nextIndex[1]: 7  matchIndex[1]: 6
[{4051722030551424904 1 7}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:6 
server 1 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:6 
server 0 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=8
update matchIndex[1]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=8
update matchIndex[0]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7}]
------------------------------------------------------
flag 18704 term 1 leader 2 nextIndex[0]: 8  matchIndex[0]: 7
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
flag 53734 term 1 leader 2 nextIndex[1]: 8  matchIndex[1]: 7
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:7 
server 0 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=8
update matchIndex[0]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:7 
server 1 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=8
update matchIndex[1]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7}]
------------------------------------------------------
client write log 4246930251921856888 (index 8) to leader 2
flag 4348 term 1 leader 2 nextIndex[0]: 8  matchIndex[0]: 7
[{4246930251921856888 1 8}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
flag 81448 term 1 leader 2 nextIndex[1]: 8  matchIndex[1]: 7
[{4246930251921856888 1 8}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:7 
server 1 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7} {4246930251921856888 1 8}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7} {4246930251921856888 1 8}]
term 1 server 0 AppendEntries true commitIndex:7 
server 0 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7} {4246930251921856888 1 8}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7} {4246930251921856888 1 8}]
------------------------------------------------------
flag 22780 term 1 leader 2 nextIndex[0]: 9  matchIndex[0]: 8
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 34438 term 1 leader 2 nextIndex[1]: 9  matchIndex[1]: 8
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:8 
server 1 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7} {4246930251921856888 1 8}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:8 
server 0 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7} {4246930251921856888 1 8}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7} {4246930251921856888 1 8}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7} {4246930251921856888 1 8}]
------------------------------------------------------
client write log 8528224409417112632 (index 9) to leader 2
flag 67397 term 1 leader 2 nextIndex[0]: 9  matchIndex[0]: 8
[{8528224409417112632 1 9}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 93973 term 1 leader 2 nextIndex[1]: 9  matchIndex[1]: 8
[{8528224409417112632 1 9}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:8 
server 1 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7} {4246930251921856888 1 8} {8528224409417112632 1 9}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:8 
server 0 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7} {4246930251921856888 1 8} {8528224409417112632 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7} {4246930251921856888 1 8} {8528224409417112632 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7} {4246930251921856888 1 8} {8528224409417112632 1 9}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
flag 82474 term 1 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 78686 term 1 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:9 
server 1 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7} {4246930251921856888 1 8} {8528224409417112632 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{<nil> 0 0} {1860036546197688919 1 1} {1589956497588103812 1 2} {5701998019664077105 1 3} {357114683702139874 1 4} {4873750344707853527 1 5} {3938197702662681288 1 6} {4051722030551424904 1 7} {4246930251921856888 1 8} {8528224409417112632 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
client write log 8503783695726975434 (index 10) to leader 2
flag 83539 term 1 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
[{8503783695726975434 1 10}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 92629 term 1 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
[{8503783695726975434 1 10}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:9 
server 1 log:
[{snapshot 1 9} {8503783695726975434 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8503783695726975434 1 10}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{snapshot 1 9} {8503783695726975434 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8503783695726975434 1 10}]
------------------------------------------------------
flag 17876 term 1 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 48743 term 1 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:10 
server 1 log:
[{snapshot 1 9} {8503783695726975434 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8503783695726975434 1 10}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:10 
server 0 log:
[{snapshot 1 9} {8503783695726975434 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8503783695726975434 1 10}]
------------------------------------------------------
client write log 8103913967315938014 (index 11) to leader 2
flag 76573 term 1 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
[{8103913967315938014 1 11}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 7351 term 1 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
[{8103913967315938014 1 11}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:10 
server 1 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:10 
server 0 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11}]
------------------------------------------------------
flag 79331 term 1 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 97467 term 1 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:11 
server 1 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:11 
server 0 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11}]
------------------------------------------------------
client write log 1120270558157896730 (index 12) to leader 2
flag 14805 term 1 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
[{1120270558157896730 1 12}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 54247 term 1 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
[{1120270558157896730 1 12}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:11 
server 1 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:11 
server 0 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12}]
------------------------------------------------------
flag 48587 term 1 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 17419 term 1 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:12 
server 1 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:12 
server 0 log:
leader 2 sendAppendEntries -> server 1 true
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12}]
------------------------------------------------------
update nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12}]
------------------------------------------------------
client write log 5379805713027929089 (index 13) to leader 2
flag 94325 term 1 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
[{5379805713027929089 1 13}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 4790 term 1 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
[{5379805713027929089 1 13}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:12 
server 1 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:12 
server 0 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13}]
------------------------------------------------------
flag 78558 term 1 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 85023 term 1 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:13 
server 1 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:13 
server 0 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13}]
------------------------------------------------------
client write log 2003163455511469426 (index 14) to leader 2
flag 83568 term 1 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
[{2003163455511469426 1 14}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 15730 term 1 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
[{2003163455511469426 1 14}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:13 
server 1 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:13 
server 0 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14}]
------------------------------------------------------
flag 33568 term 1 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 1620 term 1 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:14 
server 1 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:14 
server 0 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14}]
------------------------------------------------------
client write log 4987253512884659505 (index 15) to leader 2
flag 23753 term 1 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
[{4987253512884659505 1 15}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 36039 term 1 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
[{4987253512884659505 1 15}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:14 
server 1 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:14 
server 0 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15}]
------------------------------------------------------
flag 44013 term 1 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 28521 term 1 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:15 
server 1 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:15 
server 0 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15}]
------------------------------------------------------
client write log 8274740849771706500 (index 16) to leader 2
flag 73623 term 1 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
[{8274740849771706500 1 16}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 85767 term 1 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
[{8274740849771706500 1 16}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:15 
server 1 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:15 
server 0 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16}]
------------------------------------------------------
flag 3668 term 1 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 54595 term 1 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:16 
server 1 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:16 
server 0 log:
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16}]
------------------------------------------------------
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
persist server 0 currentTerm 1 voteFor 2 logs [{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16}]
!!!!!! server 0 crash
persist server 1 currentTerm 1 voteFor 2 logs [{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16}]
!!!!!! server 1 crash
persist server 2 currentTerm 1 voteFor 2 logs [{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16}]
!!!!!! server 2 crash
term 2 server 2 vote for server 1
term 2 server 0 vote for server 1
term 2 server 1 get vote from server 2
term 2 server 1 become leader
------------------------------------------------------
term 2 server 1 get outdate rpc reply from server 0
flag 4986 term 2 leader 1 nextIndex[0]: 17  matchIndex[0]: 0
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 91711 term 2 leader 1 nextIndex[2]: 17  matchIndex[2]: 0
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16}]
------------------------------------------------------
client write log 3516112382906938012 (index 17) to leader 1
flag 21240 term 2 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
[{3516112382906938012 2 17}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 13310 term 2 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
[{3516112382906938012 2 17}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17}]
------------------------------------------------------
flag 40373 term 2 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
flag 7016 term 2 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:17 
server 2 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:17 
server 0 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17}]
------------------------------------------------------
client write log 5952968808541123275 (index 18) to leader 1
flag 35370 term 2 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
[{5952968808541123275 2 18}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
flag 16875 term 2 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
[{5952968808541123275 2 18}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:17 
server 2 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17} {5952968808541123275 2 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17} {5952968808541123275 2 18}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:17 
server 0 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17} {5952968808541123275 2 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17} {5952968808541123275 2 18}]
------------------------------------------------------
flag 89872 term 2 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
flag 68938 term 2 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:18 
server 2 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17} {5952968808541123275 2 18}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:18 
server 0 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17} {5952968808541123275 2 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17} {5952968808541123275 2 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17} {5952968808541123275 2 18}]
------------------------------------------------------
client write log 7917080089687731016 (index 19) to leader 1
flag 97483 term 2 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
[{7917080089687731016 2 19}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
flag 87682 term 2 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
[{7917080089687731016 2 19}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:18 
server 2 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17} {5952968808541123275 2 18} {7917080089687731016 2 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
term 2 server 0 AppendEntries true commitIndex:18 
server 0 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17} {5952968808541123275 2 18} {7917080089687731016 2 19}]
------------------------------------------------------
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17} {5952968808541123275 2 18} {7917080089687731016 2 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17} {5952968808541123275 2 18} {7917080089687731016 2 19}]
------------------------------------------------------
term 2 Server1 start snapshot! index=19
term 2 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 42053 term 2 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 26168 term 2 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17} {5952968808541123275 2 18} {7917080089687731016 2 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 1 9} {8503783695726975434 1 10} {8103913967315938014 1 11} {1120270558157896730 1 12} {5379805713027929089 1 13} {2003163455511469426 1 14} {4987253512884659505 1 15} {8274740849771706500 1 16} {3516112382906938012 2 17} {5952968808541123275 2 18} {7917080089687731016 2 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
term 2 Server0 start snapshot! index=19
term 2 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 2 Server2 start snapshot! index=19
term 2 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
client write log 5187624429896202798 (index 20) to leader 1
flag 61524 term 2 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
[{5187624429896202798 2 20}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 29751 term 2 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
[{5187624429896202798 2 20}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 2 19} {5187624429896202798 2 20}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 2 19} {5187624429896202798 2 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {5187624429896202798 2 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {5187624429896202798 2 20}]
------------------------------------------------------
flag 56641 term 2 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
flag 87621 term 2 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:20 
server 2 log:
[{snapshot 2 19} {5187624429896202798 2 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {5187624429896202798 2 20}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:20 
server 0 log:
[{snapshot 2 19} {5187624429896202798 2 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {5187624429896202798 2 20}]
------------------------------------------------------
client write log 745900571166995410 (index 21) to leader 1
flag 56222 term 2 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
[{745900571166995410 2 21}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
flag 53942 term 2 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
[{745900571166995410 2 21}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:20 
server 2 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:20 
server 0 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21}]
------------------------------------------------------
flag 86344 term 2 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 2 leaderCommit: 21 
------------------------------------------------------
flag 91140 term 2 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 2 leaderCommit: 21 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:21 
server 2 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:21 
server 0 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21}]
------------------------------------------------------
client write log 3674853796746612649 (index 22) to leader 1
flag 13702 term 2 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
[{3674853796746612649 2 22}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 2 leaderCommit: 21 
------------------------------------------------------
flag 10665 term 2 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
[{3674853796746612649 2 22}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 2 leaderCommit: 21 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:21 
server 2 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:21 
server 0 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22}]
------------------------------------------------------
flag 59857 term 2 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 22 
------------------------------------------------------
flag 77600 term 2 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 22 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:22 
server 2 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:22 
server 0 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22}]
------------------------------------------------------
client write log 4975105510227180346 (index 23) to leader 1
flag 41155 term 2 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
[{4975105510227180346 2 23}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 22 
------------------------------------------------------
flag 4021 term 2 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
[{4975105510227180346 2 23}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 22 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:22 
server 2 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:22 
server 0 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23}]
------------------------------------------------------
flag 65634 term 2 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 2 leaderCommit: 23 
------------------------------------------------------
flag 33880 term 2 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 2 leaderCommit: 23 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:23 
server 2 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:23 
server 0 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23}]
------------------------------------------------------
client write log 1608686042413499089 (index 24) to leader 1
flag 10869 term 2 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
[{1608686042413499089 2 24}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 2 leaderCommit: 23 
------------------------------------------------------
flag 12160 term 2 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
[{1608686042413499089 2 24}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 2 leaderCommit: 23 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:23 
server 2 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:23 
server 0 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24}]
------------------------------------------------------
flag 19207 term 2 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 2 leaderCommit: 24 
------------------------------------------------------
flag 89674 term 2 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 2 leaderCommit: 24 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:24 
server 2 log:
term 2 server 0 AppendEntries true commitIndex:24 
server 0 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24}]
------------------------------------------------------
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24}]
------------------------------------------------------
client write log 3920586492511744013 (index 25) to leader 1
flag 52353 term 2 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
[{3920586492511744013 2 25}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 2 leaderCommit: 24 
------------------------------------------------------
flag 26737 term 2 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
[{3920586492511744013 2 25}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 2 leaderCommit: 24 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:24 
server 2 log:
term 2 server 0 AppendEntries true commitIndex:24 
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25}]
------------------------------------------------------
server 0 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25}]
------------------------------------------------------
flag 46643 term 2 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 2 leaderCommit: 25 
------------------------------------------------------
flag 84467 term 2 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 2 leaderCommit: 25 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:25 
server 2 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
term 2 server 0 AppendEntries true commitIndex:25 
server 0 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25}]
------------------------------------------------------
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25}]
------------------------------------------------------
client write log 5833821536519972539 (index 26) to leader 1
flag 19559 term 2 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
[{5833821536519972539 2 26}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 2 leaderCommit: 25 
------------------------------------------------------
flag 40539 term 2 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
[{5833821536519972539 2 26}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 2 leaderCommit: 25 
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:25 
server 0 log:
term 2 server 2 AppendEntries true commitIndex:25 
server 2 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26}]
------------------------------------------------------
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26}]
------------------------------------------------------
flag 1137 term 2 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 2 leaderCommit: 26 
------------------------------------------------------
flag 75300 term 2 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 2 leaderCommit: 26 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:26 
server 2 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:26 
server 0 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26}]
------------------------------------------------------
client write log 4529469233346360563 (index 27) to leader 1
flag 92094 term 2 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
[{4529469233346360563 2 27}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 2 leaderCommit: 26 
------------------------------------------------------
flag 54179 term 2 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
[{4529469233346360563 2 27}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 2 leaderCommit: 26 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:26 
server 2 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:26 
server 0 log:
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27}]
------------------------------------------------------
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27}]
------------------------------------------------------
flag 55734 term 2 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 2 leaderCommit: 27 
------------------------------------------------------
flag 91722 term 2 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 2 leaderCommit: 27 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:27 
server 2 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:27 
server 0 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27}]
------------------------------------------------------
client write log 909603372546292488 (index 28) to leader 1
flag 26943 term 2 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
[{909603372546292488 2 28}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 2 leaderCommit: 27 
------------------------------------------------------
flag 51725 term 2 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
[{909603372546292488 2 28}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 2 leaderCommit: 27 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:27 
server 2 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27} {909603372546292488 2 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27} {909603372546292488 2 28}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:27 
server 0 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27} {909603372546292488 2 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27} {909603372546292488 2 28}]
------------------------------------------------------
flag 3538 term 2 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 2 leaderCommit: 28 
------------------------------------------------------
flag 90307 term 2 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 2 leaderCommit: 28 
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:28 
server 0 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27} {909603372546292488 2 28}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:28 
server 2 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27} {909603372546292488 2 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27} {909603372546292488 2 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27} {909603372546292488 2 28}]
------------------------------------------------------
client write log 3159282310257292584 (index 29) to leader 1
flag 62144 term 2 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
[{3159282310257292584 2 29}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 2 leaderCommit: 28 
------------------------------------------------------
flag 11395 term 2 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
[{3159282310257292584 2 29}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 2 leaderCommit: 28 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:28 
server 2 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27} {909603372546292488 2 28} {3159282310257292584 2 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27} {909603372546292488 2 28} {3159282310257292584 2 29}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:28 
server 0 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27} {909603372546292488 2 28} {3159282310257292584 2 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27} {909603372546292488 2 28} {3159282310257292584 2 29}]
------------------------------------------------------
term 2 Server1 start snapshot! index=29
term 2 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
flag 59880 term 2 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 2 leaderCommit: 29 
------------------------------------------------------
flag 32766 term 2 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 2 leaderCommit: 29 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:29 
server 2 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27} {909603372546292488 2 28} {3159282310257292584 2 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 2 29}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 2 19} {5187624429896202798 2 20} {745900571166995410 2 21} {3674853796746612649 2 22} {4975105510227180346 2 23} {1608686042413499089 2 24} {3920586492511744013 2 25} {5833821536519972539 2 26} {4529469233346360563 2 27} {909603372546292488 2 28} {3159282310257292584 2 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 2 29}]
------------------------------------------------------
term 2 Server0 start snapshot! index=29
term 2 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 2 Server2 start snapshot! index=29
term 2 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
client write log 1652917716563540606 (index 30) to leader 1
flag 77515 term 2 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
[{1652917716563540606 2 30}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 2 leaderCommit: 29 
------------------------------------------------------
flag 75856 term 2 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
[{1652917716563540606 2 30}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 2 leaderCommit: 29 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:29 
server 2 log:
[{snapshot 2 29} {1652917716563540606 2 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 2 29} {1652917716563540606 2 30}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 2 29} {1652917716563540606 2 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 2 29} {1652917716563540606 2 30}]
------------------------------------------------------
flag 74558 term 2 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 2 leaderCommit: 30 
------------------------------------------------------
flag 72339 term 2 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 2 leaderCommit: 30 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:30 
server 2 log:
term 2 server 0 AppendEntries true commitIndex:30 
server 0 log:
[{snapshot 2 29} {1652917716563540606 2 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 2 29} {1652917716563540606 2 30}]
------------------------------------------------------
[{snapshot 2 29} {1652917716563540606 2 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 2 29} {1652917716563540606 2 30}]
------------------------------------------------------
client write log 7108525988714585571 (index 31) to leader 1
flag 95204 term 2 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
[{7108525988714585571 2 31}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 2 leaderCommit: 30 
------------------------------------------------------
flag 29581 term 2 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
[{7108525988714585571 2 31}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 2 leaderCommit: 30 
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:30 
server 0 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:30 
server 2 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31}]
------------------------------------------------------
flag 21683 term 2 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 2 leaderCommit: 31 
------------------------------------------------------
flag 24321 term 2 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 2 leaderCommit: 31 
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:31 
server 0 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:31 
server 2 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
persist server 0 currentTerm 2 voteFor 1 logs [{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31}]
!!!!!! server 0 crash
persist server 1 currentTerm 2 voteFor 1 logs [{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31}]
!!!!!! server 1 crash
persist server 2 currentTerm 2 voteFor 1 logs [{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31}]
!!!!!! server 2 crash
flag 18287 term 2 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 2 leaderCommit: 31 
------------------------------------------------------
flag 25858 term 2 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 2 leaderCommit: 31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 32->31
------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 0 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 2 get outdate rpc reply from server 0
flag 82512 term 3 leader 2 nextIndex[0]: 32  matchIndex[0]: 0
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 2 leaderCommit: 29 
------------------------------------------------------
flag 81455 term 3 leader 2 nextIndex[1]: 32  matchIndex[1]: 0
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 2 leaderCommit: 29 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=29
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=29
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31}]
------------------------------------------------------
client write log 5236671177946508631 (index 32) to leader 2
flag 77447 term 3 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
[{5236671177946508631 3 32}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 2 leaderCommit: 29 
------------------------------------------------------
flag 81157 term 3 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
[{5236671177946508631 3 32}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 2 leaderCommit: 29 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32}]
------------------------------------------------------
flag 51644 term 3 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
flag 95970 term 3 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:32 
server 1 log:
term 3 server 0 AppendEntries true commitIndex:32 
server 0 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32}]
------------------------------------------------------
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32}]
------------------------------------------------------
client write log 6437027373293203811 (index 33) to leader 2
flag 86355 term 3 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
[{6437027373293203811 3 33}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
flag 78664 term 3 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
[{6437027373293203811 3 33}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:32 
server 1 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:32 
server 0 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33}]
------------------------------------------------------
flag 55465 term 3 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
flag 2201 term 3 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:33 
server 1 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:33 
server 0 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33}]
------------------------------------------------------
client write log 5678633493316226863 (index 34) to leader 2
flag 31627 term 3 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
[{5678633493316226863 3 34}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
flag 99636 term 3 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
[{5678633493316226863 3 34}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:33 
server 1 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
term 3 server 0 AppendEntries true commitIndex:33 
server 0 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34}]
------------------------------------------------------
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34}]
------------------------------------------------------
flag 29492 term 3 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
flag 15335 term 3 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:34 
server 1 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:34 
server 0 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34}]
------------------------------------------------------
client write log 6796996120570683029 (index 35) to leader 2
flag 69428 term 3 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
[{6796996120570683029 3 35}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
flag 95581 term 3 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
[{6796996120570683029 3 35}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:34 
server 1 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:34 
server 0 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35}]
------------------------------------------------------
flag 1027 term 3 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 3 leaderCommit: 35 
------------------------------------------------------
flag 24137 term 3 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 3 leaderCommit: 35 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:35 
server 1 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:35 
server 0 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35}]
------------------------------------------------------
client write log 6109639135192792410 (index 36) to leader 2
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 32->31
------------------------------------------------------
flag 8383 term 3 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
[{6109639135192792410 3 36}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 3 leaderCommit: 35 
------------------------------------------------------
flag 89518 term 3 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
[{6109639135192792410 3 36}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 3 leaderCommit: 35 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:35 
server 1 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:35 
server 0 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36}]
------------------------------------------------------
flag 76467 term 3 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 36 
------------------------------------------------------
flag 43384 term 3 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 36 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:36 
server 1 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:36 
server 0 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36}]
------------------------------------------------------
client write log 9045384106731521841 (index 37) to leader 2
flag 28336 term 3 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
[{9045384106731521841 3 37}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 36 
------------------------------------------------------
flag 6260 term 3 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
[{9045384106731521841 3 37}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 36 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:36 
server 1 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:36 
server 0 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37}]
------------------------------------------------------
flag 96462 term 3 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 3 leaderCommit: 37 
------------------------------------------------------
flag 96063 term 3 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 3 leaderCommit: 37 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:37 
server 1 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:37 
server 0 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37}]
------------------------------------------------------
client write log 4958049893826049940 (index 38) to leader 2
flag 81063 term 3 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
[{4958049893826049940 3 38}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 3 leaderCommit: 37 
------------------------------------------------------
flag 2546 term 3 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
[{4958049893826049940 3 38}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 3 leaderCommit: 37 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:37 
server 1 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37} {4958049893826049940 3 38}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:37 
server 0 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37} {4958049893826049940 3 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37} {4958049893826049940 3 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37} {4958049893826049940 3 38}]
------------------------------------------------------
flag 78442 term 3 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 3 leaderCommit: 38 
------------------------------------------------------
flag 16891 term 3 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 3 leaderCommit: 38 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:38 
server 1 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37} {4958049893826049940 3 38}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:38 
server 0 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37} {4958049893826049940 3 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37} {4958049893826049940 3 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37} {4958049893826049940 3 38}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
persist server 0 currentTerm 3 voteFor 2 logs [{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37} {4958049893826049940 3 38}]
!!!!!! server 0 crash
persist server 1 currentTerm 3 voteFor 2 logs [{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37} {4958049893826049940 3 38}]
!!!!!! server 1 crash
persist server 2 currentTerm 3 voteFor 2 logs [{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37} {4958049893826049940 3 38}]
!!!!!! server 2 crash
flag 56717 term 3 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 3 leaderCommit: 38 
------------------------------------------------------
flag 87673 term 3 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 3 leaderCommit: 38 
------------------------------------------------------
term 4 server 2 vote for server 0
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 2
term 4 server 0 become leader
------------------------------------------------------
term 4 server 0 get outdate rpc reply from server 1
client write log 1582806304877563270 (index 39) to leader 0
flag 30297 term 4 leader 0 nextIndex[1]: 39  matchIndex[1]: 0
[{1582806304877563270 4 39}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 8569 term 4 leader 0 nextIndex[2]: 39  matchIndex[2]: 0
[{1582806304877563270 4 39}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
server 2 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37} {4958049893826049940 3 38} {1582806304877563270 4 39}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37} {4958049893826049940 3 38} {1582806304877563270 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37} {4958049893826049940 3 38} {1582806304877563270 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37} {4958049893826049940 3 38} {1582806304877563270 4 39}]
------------------------------------------------------
term 4 Server0 start snapshot! index=39
term 4 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 97465 term 4 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 21576 term 4 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:39 
server 2 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37} {4958049893826049940 3 38} {1582806304877563270 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 2 29} {1652917716563540606 2 30} {7108525988714585571 2 31} {5236671177946508631 3 32} {6437027373293203811 3 33} {5678633493316226863 3 34} {6796996120570683029 3 35} {6109639135192792410 3 36} {9045384106731521841 3 37} {4958049893826049940 3 38} {1582806304877563270 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
term 4 Server1 start snapshot! index=39
term 4 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 4 Server2 start snapshot! index=39
term 4 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
client write log 6570477635530255203 (index 40) to leader 0
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 39->38
------------------------------------------------------
flag 91127 term 4 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
[{6570477635530255203 4 40}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 5704 term 4 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
[{6570477635530255203 4 40}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:39 
server 2 log:
[{snapshot 4 39} {6570477635530255203 4 40}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 4 39} {6570477635530255203 4 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6570477635530255203 4 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6570477635530255203 4 40}]
------------------------------------------------------
flag 32630 term 4 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 4551 term 4 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:40 
server 2 log:
[{snapshot 4 39} {6570477635530255203 4 40}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:40 
server 1 log:
[{snapshot 4 39} {6570477635530255203 4 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6570477635530255203 4 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6570477635530255203 4 40}]
------------------------------------------------------
client write log 4654846556039798507 (index 41) to leader 0
flag 70175 term 4 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
[{4654846556039798507 4 41}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 40239 term 4 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
[{4654846556039798507 4 41}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:40 
server 2 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:40 
server 1 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41}]
------------------------------------------------------
flag 68332 term 4 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 1222 term 4 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:41 
server 2 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:41 
server 1 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41}]
------------------------------------------------------
client write log 6916623754868365434 (index 42) to leader 0
flag 33945 term 4 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
[{6916623754868365434 4 42}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 33771 term 4 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
[{6916623754868365434 4 42}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:41 
server 2 log:
term 4 server 1 AppendEntries true commitIndex:41 
server 1 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42}]
------------------------------------------------------
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42}]
------------------------------------------------------
flag 79671 term 4 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 39151 term 4 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:42 
server 2 log:
term 4 server 1 AppendEntries true commitIndex:42 
server 1 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42}]
------------------------------------------------------
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42}]
------------------------------------------------------
client write log 3559122067576034283 (index 43) to leader 0
flag 40305 term 4 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
[{3559122067576034283 4 43}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 45610 term 4 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
[{3559122067576034283 4 43}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:42 
server 2 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:42 
server 1 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43}]
------------------------------------------------------
flag 54498 term 4 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 82197 term 4 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:43 
server 2 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:43 
server 1 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43}]
------------------------------------------------------
client write log 1176238871013492521 (index 44) to leader 0
flag 77660 term 4 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
[{1176238871013492521 4 44}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 35397 term 4 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
[{1176238871013492521 4 44}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:43 
server 2 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:43 
server 1 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44}]
------------------------------------------------------
flag 17247 term 4 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 22223 term 4 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:44 
server 2 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
term 4 server 1 AppendEntries true commitIndex:44 
server 1 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44}]
------------------------------------------------------
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44}]
------------------------------------------------------
client write log 8797632884137562408 (index 45) to leader 0
flag 4319 term 4 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
[{8797632884137562408 4 45}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 27271 term 4 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
[{8797632884137562408 4 45}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:44 
server 1 log:
term 4 server 2 AppendEntries true commitIndex:44 
server 2 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45}]
------------------------------------------------------
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45}]
------------------------------------------------------
flag 99156 term 4 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
flag 91166 term 4 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:45 
server 2 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:45 
server 1 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45}]
------------------------------------------------------
client write log 3273427478016672527 (index 46) to leader 0
flag 47169 term 4 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
[{3273427478016672527 4 46}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
flag 49212 term 4 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
[{3273427478016672527 4 46}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:45 
server 1 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:45 
server 2 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46}]
------------------------------------------------------
flag 75373 term 4 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 70257 term 4 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:46 
server 2 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:46 
server 1 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
persist server 0 currentTerm 4 voteFor 0 logs [{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46}]
!!!!!! server 0 crash
persist server 1 currentTerm 4 voteFor 0 logs [{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46}]
!!!!!! server 1 crash
persist server 2 currentTerm 4 voteFor 0 logs [{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46}]
!!!!!! server 2 crash
flag 2082 term 4 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 60864 term 4 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 5 server 2 vote for server 0
term 5 server 0 get vote from server 2
term 5 server 0 become leader
------------------------------------------------------
term 5 server 1 vote for server 0
term 5 server 0 get outdate rpc reply from server 1
client write log 1440409456500661047 (index 47) to leader 0
flag 89757 term 5 leader 0 nextIndex[1]: 47  matchIndex[1]: 0
[{1440409456500661047 5 47}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 21624 term 5 leader 0 nextIndex[2]: 47  matchIndex[2]: 0
[{1440409456500661047 5 47}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:39 
server 2 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47}]
------------------------------------------------------
flag 390 term 5 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
flag 79362 term 5 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:47 
server 2 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:47 
server 1 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47}]
------------------------------------------------------
client write log 1500337542007577038 (index 48) to leader 0
flag 25243 term 5 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
[{1500337542007577038 5 48}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
flag 59958 term 5 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
[{1500337542007577038 5 48}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:47 
server 2 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47} {1500337542007577038 5 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47} {1500337542007577038 5 48}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:47 
server 1 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47} {1500337542007577038 5 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47} {1500337542007577038 5 48}]
------------------------------------------------------
flag 94159 term 5 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
flag 77743 term 5 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:48 
server 2 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47} {1500337542007577038 5 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47} {1500337542007577038 5 48}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:48 
server 1 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47} {1500337542007577038 5 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47} {1500337542007577038 5 48}]
------------------------------------------------------
client write log 642694542642288535 (index 49) to leader 0
flag 80883 term 5 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
[{642694542642288535 5 49}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
flag 40976 term 5 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
[{642694542642288535 5 49}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:48 
server 2 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47} {1500337542007577038 5 48} {642694542642288535 5 49}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:48 
server 1 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47} {1500337542007577038 5 48} {642694542642288535 5 49}]
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47} {1500337542007577038 5 48} {642694542642288535 5 49}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47} {1500337542007577038 5 48} {642694542642288535 5 49}]
------------------------------------------------------
term 5 Server0 start snapshot! index=49
term 5 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 44996 term 5 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
flag 13507 term 5 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47} {1500337542007577038 5 48} {642694542642288535 5 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 5 49}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 4 39} {6570477635530255203 4 40} {4654846556039798507 4 41} {6916623754868365434 4 42} {3559122067576034283 4 43} {1176238871013492521 4 44} {8797632884137562408 4 45} {3273427478016672527 4 46} {1440409456500661047 5 47} {1500337542007577038 5 48} {642694542642288535 5 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 5 49}]
------------------------------------------------------
term 5 Server2 start snapshot! index=49
term 5 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 5 Server1 start snapshot! index=49
term 5 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
client write log 261984457752649804 (index 50) to leader 0
flag 74078 term 5 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
[{261984457752649804 5 50}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
flag 79390 term 5 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
[{261984457752649804 5 50}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 5 49} {261984457752649804 5 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {261984457752649804 5 50}]
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 5 49} {261984457752649804 5 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {261984457752649804 5 50}]
------------------------------------------------------
flag 23398 term 5 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
flag 31488 term 5 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:50 
server 2 log:
[{snapshot 5 49} {261984457752649804 5 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {261984457752649804 5 50}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:50 
server 1 log:
[{snapshot 5 49} {261984457752649804 5 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {261984457752649804 5 50}]
------------------------------------------------------
client write log 7686566178953466942 (index 51) to leader 0
flag 81717 term 5 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
[{7686566178953466942 5 51}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
flag 30730 term 5 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
[{7686566178953466942 5 51}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:50 
server 1 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51}]
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:50 
server 2 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51}]
------------------------------------------------------
flag 96591 term 5 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
flag 86027 term 5 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:51 
server 1 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51}]
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:51 
server 2 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51}]
------------------------------------------------------
client write log 5662696579976630083 (index 52) to leader 0
flag 94764 term 5 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
[{5662696579976630083 5 52}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
flag 33850 term 5 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
[{5662696579976630083 5 52}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:51 
server 2 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
term 5 server 1 AppendEntries true commitIndex:51 
server 1 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52}]
------------------------------------------------------
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52}]
------------------------------------------------------
flag 63502 term 5 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
flag 72964 term 5 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:52 
server 2 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:52 
server 1 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52}]
------------------------------------------------------
client write log 3404160640377188642 (index 53) to leader 0
flag 19289 term 5 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
[{3404160640377188642 5 53}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
flag 57949 term 5 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
[{3404160640377188642 5 53}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:52 
server 2 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:52 
server 1 log:
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53}]
------------------------------------------------------
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53}]
------------------------------------------------------
flag 88961 term 5 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
flag 88591 term 5 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:53 
server 2 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:53 
server 1 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53}]
------------------------------------------------------
client write log 6934543980895368612 (index 54) to leader 0
flag 77653 term 5 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
[{6934543980895368612 5 54}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
flag 95043 term 5 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
[{6934543980895368612 5 54}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:53 
server 2 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:53 
server 1 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54}]
------------------------------------------------------
flag 33399 term 5 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
flag 7701 term 5 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:54 
server 2 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:54 
server 1 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54}]
------------------------------------------------------
client write log 2411346167837666998 (index 55) to leader 0
flag 15410 term 5 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
[{2411346167837666998 5 55}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
flag 63589 term 5 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
[{2411346167837666998 5 55}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:54 
server 2 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:54 
server 1 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55}]
------------------------------------------------------
flag 94882 term 5 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
flag 89289 term 5 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:55 
server 2 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:55 
server 1 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55}]
------------------------------------------------------
client write log 4289223784721037417 (index 56) to leader 0
flag 92242 term 5 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
[{4289223784721037417 5 56}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
flag 99794 term 5 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
[{4289223784721037417 5 56}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:55 
server 2 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:55 
server 1 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56}]
------------------------------------------------------
flag 72977 term 5 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
flag 393 term 5 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:56 
server 2 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:56 
server 1 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56}]
------------------------------------------------------
client write log 7928816978146870360 (index 57) to leader 0
flag 9086 term 5 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
[{7928816978146870360 5 57}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
flag 15532 term 5 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
[{7928816978146870360 5 57}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:56 
server 2 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:56 
server 1 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57}]
------------------------------------------------------
flag 19815 term 5 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
flag 10867 term 5 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:57 
server 2 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:57 
server 1 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57}]
------------------------------------------------------
client write log 2447498569413530620 (index 58) to leader 0
flag 98660 term 5 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
[{2447498569413530620 5 58}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
flag 2596 term 5 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
[{2447498569413530620 5 58}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:57 
server 2 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57} {2447498569413530620 5 58}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:57 
server 1 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57} {2447498569413530620 5 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57} {2447498569413530620 5 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57} {2447498569413530620 5 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 39->38
------------------------------------------------------
flag 9208 term 5 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
flag 71205 term 5 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:58 
server 2 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57} {2447498569413530620 5 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57} {2447498569413530620 5 58}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:58 
server 1 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57} {2447498569413530620 5 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57} {2447498569413530620 5 58}]
------------------------------------------------------
client write log 1519614677564788304 (index 59) to leader 0
flag 88805 term 5 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
[{1519614677564788304 5 59}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
flag 65286 term 5 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
[{1519614677564788304 5 59}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:58 
server 2 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57} {2447498569413530620 5 58} {1519614677564788304 5 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57} {2447498569413530620 5 58} {1519614677564788304 5 59}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:58 
server 1 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57} {2447498569413530620 5 58} {1519614677564788304 5 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57} {2447498569413530620 5 58} {1519614677564788304 5 59}]
------------------------------------------------------
term 5 Server0 start snapshot! index=59
term 5 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 12707 term 5 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
flag 7177 term 5 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:59 
server 2 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57} {2447498569413530620 5 58} {1519614677564788304 5 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 5 59}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:59 
server 1 log:
[{snapshot 5 49} {261984457752649804 5 50} {7686566178953466942 5 51} {5662696579976630083 5 52} {3404160640377188642 5 53} {6934543980895368612 5 54} {2411346167837666998 5 55} {4289223784721037417 5 56} {7928816978146870360 5 57} {2447498569413530620 5 58} {1519614677564788304 5 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 5 59}]
------------------------------------------------------
term 5 Server2 start snapshot! index=59
term 5 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 5 Server1 start snapshot! index=59
term 5 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
client write log 2635274423201440172 (index 60) to leader 0
flag 58856 term 5 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
[{2635274423201440172 5 60}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
flag 40300 term 5 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
[{2635274423201440172 5 60}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:59 
server 2 log:
[{snapshot 5 59} {2635274423201440172 5 60}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:59 
server 1 log:
[{snapshot 5 59} {2635274423201440172 5 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 5 59} {2635274423201440172 5 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 5 59} {2635274423201440172 5 60}]
------------------------------------------------------
flag 92889 term 5 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 60 
------------------------------------------------------
flag 89286 term 5 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 60 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:60 
server 2 log:
[{snapshot 5 59} {2635274423201440172 5 60}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:60 
server 1 log:
leader 0 sendAppendEntries -> server 2 true
[{snapshot 5 59} {2635274423201440172 5 60}]
------------------------------------------------------
update nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 5 59} {2635274423201440172 5 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 5 59} {2635274423201440172 5 60}]
------------------------------------------------------
client write log 482185279059990358 (index 61) to leader 0
flag 35177 term 5 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
[{482185279059990358 5 61}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 60 
------------------------------------------------------
flag 68271 term 5 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
[{482185279059990358 5 61}]
term 5 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 60 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:60 
server 2 log:
[{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:60 
server 1 log:
[{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61}]
------------------------------------------------------
flag 80604 term 5 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 5 leaderCommit: 61 
------------------------------------------------------
flag 70473 term 5 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 5 leaderCommit: 61 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:61 
server 1 log:
[{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61}]
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:61 
server 2 log:
[{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
persist server 0 currentTerm 5 voteFor 0 logs [{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61}]
!!!!!! server 0 crash
persist server 1 currentTerm 5 voteFor 0 logs [{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61}]
!!!!!! server 1 crash
persist server 2 currentTerm 5 voteFor 0 logs [{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61}]
!!!!!! server 2 crash
flag 38155 term 5 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 5 leaderCommit: 61 
------------------------------------------------------
flag 37608 term 5 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
[]
term 5 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 5 leaderCommit: 61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 47->46
------------------------------------------------------
term 6 server 2 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 0 vote for server 1
term 6 server 1 get outdate rpc reply from server 0
flag 96174 term 6 leader 1 nextIndex[0]: 62  matchIndex[0]: 0
[]
term 6 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
flag 55782 term 6 leader 1 nextIndex[2]: 62  matchIndex[2]: 0
[]
term 6 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:59 
server 2 log:
[{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:59 
server 0 log:
[{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=59
leader log:
[{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=59
leader log:
[{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 47->46
------------------------------------------------------
client write log 4928009492306089871 (index 62) to leader 1
flag 36929 term 6 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
[{4928009492306089871 6 62}]
term 6 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
flag 2127 term 6 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
[{4928009492306089871 6 62}]
term 6 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:59 
server 2 log:
[{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61} {4928009492306089871 6 62}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:59 
server 0 log:
[{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61} {4928009492306089871 6 62}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61} {4928009492306089871 6 62}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61} {4928009492306089871 6 62}]
------------------------------------------------------
flag 45201 term 6 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
[]
term 6 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 18628 term 6 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
[]
term 6 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:62 
server 2 log:
[{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61} {4928009492306089871 6 62}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:62 
server 0 log:
[{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61} {4928009492306089871 6 62}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61} {4928009492306089871 6 62}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 5 59} {2635274423201440172 5 60} {482185279059990358 5 61} {4928009492306089871 6 62}]
------------------------------------------------------
  ... Passed --  14.1  3  296   87737   62
--- PASS: TestSnapshotAllCrash2D (14.05s)
PASS
