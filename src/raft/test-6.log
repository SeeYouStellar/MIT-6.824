=== RUN   TestSnapshotAllCrash2D
Test (2D): crash and restart all servers ...
term 1 server 1 vote for server 2
term 1 server 0 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 2 get outdate rpc reply from server 0
flag 95589 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 45729 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
server 0 log:
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
server 1 log:
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 6813149777707083995 (index 1) to leader 2
flag 78948 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
[{6813149777707083995 1 1}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 59126 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
[{6813149777707083995 1 1}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
server 1 log:
[{<nil> 0 0} {6813149777707083995 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6813149777707083995 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
server 0 log:
[{<nil> 0 0} {6813149777707083995 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6813149777707083995 1 1}]
------------------------------------------------------
flag 68954 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 73097 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
server 1 log:
[{<nil> 0 0} {6813149777707083995 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6813149777707083995 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
server 0 log:
[{<nil> 0 0} {6813149777707083995 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6813149777707083995 1 1}]
------------------------------------------------------
client write log 1031394127343794487 (index 2) to leader 2
flag 24877 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
[{1031394127343794487 1 2}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 67946 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
[{1031394127343794487 1 2}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
server 1 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
server 0 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2}]
------------------------------------------------------
flag 22048 term 1 leader 2 nextIndex[0]: 3  matchIndex[0]: 2
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 49531 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
server 1 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
server 0 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2}]
------------------------------------------------------
client write log 4609315877863495348 (index 3) to leader 2
flag 67541 term 1 leader 2 nextIndex[0]: 3  matchIndex[0]: 2
[{4609315877863495348 1 3}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 84736 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
[{4609315877863495348 1 3}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
server 1 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=4
update matchIndex[1]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
server 0 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=4
update matchIndex[0]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3}]
------------------------------------------------------
flag 92586 term 1 leader 2 nextIndex[0]: 4  matchIndex[0]: 3
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
flag 70283 term 1 leader 2 nextIndex[1]: 4  matchIndex[1]: 3
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:3 
server 0 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=4
update matchIndex[0]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:3 
server 1 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=4
update matchIndex[1]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3}]
------------------------------------------------------
client write log 7371632906489443835 (index 4) to leader 2
flag 38101 term 1 leader 2 nextIndex[0]: 4  matchIndex[0]: 3
[{7371632906489443835 1 4}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
flag 74824 term 1 leader 2 nextIndex[1]: 4  matchIndex[1]: 3
[{7371632906489443835 1 4}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:3 
server 1 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=5
update matchIndex[1]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:3 
server 0 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=5
update matchIndex[0]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4}]
------------------------------------------------------
flag 35773 term 1 leader 2 nextIndex[0]: 5  matchIndex[0]: 4
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
flag 11692 term 1 leader 2 nextIndex[1]: 5  matchIndex[1]: 4
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:4 
server 1 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:4 
server 0 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=5
update matchIndex[1]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=5
update matchIndex[0]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4}]
------------------------------------------------------
client write log 1998959568917062365 (index 5) to leader 2
flag 31807 term 1 leader 2 nextIndex[0]: 5  matchIndex[0]: 4
[{1998959568917062365 1 5}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
flag 17808 term 1 leader 2 nextIndex[1]: 5  matchIndex[1]: 4
[{1998959568917062365 1 5}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:4 
server 1 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=6
update matchIndex[1]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:4 
server 0 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=6
update matchIndex[0]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5}]
------------------------------------------------------
flag 30868 term 1 leader 2 nextIndex[0]: 6  matchIndex[0]: 5
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
flag 51818 term 1 leader 2 nextIndex[1]: 6  matchIndex[1]: 5
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:5 
server 1 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:5 
server 0 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=6
update matchIndex[1]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=6
update matchIndex[0]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5}]
------------------------------------------------------
client write log 7861949107169322475 (index 6) to leader 2
flag 9436 term 1 leader 2 nextIndex[0]: 6  matchIndex[0]: 5
[{7861949107169322475 1 6}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
flag 24957 term 1 leader 2 nextIndex[1]: 6  matchIndex[1]: 5
[{7861949107169322475 1 6}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:5 
server 0 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=7
update matchIndex[0]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:5 
server 1 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=7
update matchIndex[1]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6}]
------------------------------------------------------
flag 24098 term 1 leader 2 nextIndex[0]: 7  matchIndex[0]: 6
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
flag 61747 term 1 leader 2 nextIndex[1]: 7  matchIndex[1]: 6
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:6 
server 1 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:6 
server 0 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=7
update matchIndex[1]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=7
update matchIndex[0]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6}]
------------------------------------------------------
client write log 5513557188400049371 (index 7) to leader 2
flag 42554 term 1 leader 2 nextIndex[0]: 7  matchIndex[0]: 6
[{5513557188400049371 1 7}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
flag 8759 term 1 leader 2 nextIndex[1]: 7  matchIndex[1]: 6
[{5513557188400049371 1 7}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:6 
server 1 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:6 
server 0 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=8
update matchIndex[1]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=8
update matchIndex[0]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7}]
------------------------------------------------------
flag 87082 term 1 leader 2 nextIndex[0]: 8  matchIndex[0]: 7
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
flag 33606 term 1 leader 2 nextIndex[1]: 8  matchIndex[1]: 7
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:7 
server 1 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=8
update matchIndex[1]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:7 
server 0 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=8
update matchIndex[0]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7}]
------------------------------------------------------
client write log 5659239939109022447 (index 8) to leader 2
flag 61788 term 1 leader 2 nextIndex[0]: 8  matchIndex[0]: 7
[{5659239939109022447 1 8}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
flag 71521 term 1 leader 2 nextIndex[1]: 8  matchIndex[1]: 7
[{5659239939109022447 1 8}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:7 
server 1 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7} {5659239939109022447 1 8}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7} {5659239939109022447 1 8}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:7 
server 0 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7} {5659239939109022447 1 8}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7} {5659239939109022447 1 8}]
------------------------------------------------------
flag 20833 term 1 leader 2 nextIndex[0]: 9  matchIndex[0]: 8
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 73248 term 1 leader 2 nextIndex[1]: 9  matchIndex[1]: 8
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:8 
server 1 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7} {5659239939109022447 1 8}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:8 
server 0 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7} {5659239939109022447 1 8}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7} {5659239939109022447 1 8}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7} {5659239939109022447 1 8}]
------------------------------------------------------
client write log 7700833223086372501 (index 9) to leader 2
flag 97035 term 1 leader 2 nextIndex[0]: 9  matchIndex[0]: 8
[{7700833223086372501 1 9}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 39072 term 1 leader 2 nextIndex[1]: 9  matchIndex[1]: 8
[{7700833223086372501 1 9}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:8 
server 1 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7} {5659239939109022447 1 8} {7700833223086372501 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7} {5659239939109022447 1 8} {7700833223086372501 1 9}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:8 
server 0 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7} {5659239939109022447 1 8} {7700833223086372501 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7} {5659239939109022447 1 8} {7700833223086372501 1 9}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
flag 79242 term 1 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 52085 term 1 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7} {5659239939109022447 1 8} {7700833223086372501 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:9 
server 1 log:
[{<nil> 0 0} {6813149777707083995 1 1} {1031394127343794487 1 2} {4609315877863495348 1 3} {7371632906489443835 1 4} {1998959568917062365 1 5} {7861949107169322475 1 6} {5513557188400049371 1 7} {5659239939109022447 1 8} {7700833223086372501 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
client write log 6189527081180842626 (index 10) to leader 2
flag 64 term 1 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
[{6189527081180842626 1 10}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 17519 term 1 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
[{6189527081180842626 1 10}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:9 
server 1 log:
[{snapshot 1 9} {6189527081180842626 1 10}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{snapshot 1 9} {6189527081180842626 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6189527081180842626 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6189527081180842626 1 10}]
------------------------------------------------------
flag 64627 term 1 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 48616 term 1 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:10 
server 1 log:
[{snapshot 1 9} {6189527081180842626 1 10}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:10 
server 0 log:
[{snapshot 1 9} {6189527081180842626 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6189527081180842626 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6189527081180842626 1 10}]
------------------------------------------------------
client write log 524884679670492438 (index 11) to leader 2
flag 23237 term 1 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
[{524884679670492438 1 11}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 41078 term 1 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
[{524884679670492438 1 11}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:10 
server 1 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=12
update matchIndex[1]=11
term 1 server 0 AppendEntries true commitIndex:10 
server 0 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11}]
------------------------------------------------------
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11}]
------------------------------------------------------
flag 17874 term 1 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 91554 term 1 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:11 
server 0 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:11 
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11}]
------------------------------------------------------
server 1 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 1 voteFor 2 logs [{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 1 voteFor 2 logs [{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 1 voteFor 2 logs [{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11}]
!!!!!! server 2 crash
term 2 server 2 vote for server 0
term 2 server 0 get vote from server 2
term 2 server 0 become leader
------------------------------------------------------
term 2 server 1 vote for server 0
term 2 server 0 get outdate rpc reply from server 1
client write log 6361856346667754672 (index 12) to leader 0
flag 20258 term 2 leader 0 nextIndex[1]: 12  matchIndex[1]: 0
[{6361856346667754672 2 12}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 53392 term 2 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
[{6361856346667754672 2 12}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:9 
server 1 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12}]
------------------------------------------------------
flag 27466 term 2 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
flag 72625 term 2 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:12 
server 2 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:12 
server 1 log:
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=13
update matchIndex[2]=12
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12}]
------------------------------------------------------
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12}]
------------------------------------------------------
client write log 5318682559192904220 (index 13) to leader 0
flag 31390 term 2 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
[{5318682559192904220 2 13}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
flag 61696 term 2 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
[{5318682559192904220 2 13}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:12 
server 2 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:12 
server 1 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13}]
------------------------------------------------------
flag 11260 term 2 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
flag 58490 term 2 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:13 
server 2 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:13 
server 1 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13}]
------------------------------------------------------
client write log 9205646298647295332 (index 14) to leader 0
flag 37998 term 2 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
[{9205646298647295332 2 14}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
flag 50270 term 2 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
[{9205646298647295332 2 14}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:13 
server 2 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:13 
server 1 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14}]
------------------------------------------------------
flag 8660 term 2 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
flag 70224 term 2 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:14 
server 2 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:14 
server 1 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14}]
------------------------------------------------------
client write log 3709796759096718622 (index 15) to leader 0
flag 76010 term 2 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
[{3709796759096718622 2 15}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
flag 32884 term 2 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
[{3709796759096718622 2 15}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:14 
server 2 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:14 
server 1 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15}]
------------------------------------------------------
flag 45173 term 2 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
flag 4768 term 2 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:15 
server 1 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:15 
server 2 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15}]
------------------------------------------------------
client write log 3328135771848336728 (index 16) to leader 0
flag 28272 term 2 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
[{3328135771848336728 2 16}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
flag 14873 term 2 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
[{3328135771848336728 2 16}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:15 
server 1 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:15 
server 2 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16}]
------------------------------------------------------
flag 68665 term 2 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
flag 59447 term 2 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:16 
server 1 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:16 
server 2 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16}]
------------------------------------------------------
client write log 6173024571883035985 (index 17) to leader 0
flag 72797 term 2 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
[{6173024571883035985 2 17}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
flag 31580 term 2 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
[{6173024571883035985 2 17}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:16 
server 2 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:16 
server 1 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17}]
------------------------------------------------------
flag 65653 term 2 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
flag 62510 term 2 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:17 
server 2 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:17 
server 1 log:
leader 0 sendAppendEntries -> server 2 true
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17}]
------------------------------------------------------
update nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17}]
------------------------------------------------------
client write log 5661560829180400692 (index 18) to leader 0
flag 51669 term 2 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
[{5661560829180400692 2 18}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
flag 76503 term 2 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
[{5661560829180400692 2 18}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:17 
server 2 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17} {5661560829180400692 2 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17} {5661560829180400692 2 18}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:17 
server 1 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17} {5661560829180400692 2 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17} {5661560829180400692 2 18}]
------------------------------------------------------
flag 31086 term 2 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
flag 68636 term 2 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:18 
server 1 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17} {5661560829180400692 2 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17} {5661560829180400692 2 18}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:18 
server 2 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17} {5661560829180400692 2 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17} {5661560829180400692 2 18}]
------------------------------------------------------
client write log 5785254229090460516 (index 19) to leader 0
flag 60012 term 2 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
[{5785254229090460516 2 19}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
flag 50090 term 2 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
[{5785254229090460516 2 19}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:18 
server 2 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17} {5661560829180400692 2 18} {5785254229090460516 2 19}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17} {5661560829180400692 2 18} {5785254229090460516 2 19}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:18 
server 1 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17} {5661560829180400692 2 18} {5785254229090460516 2 19}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17} {5661560829180400692 2 18} {5785254229090460516 2 19}]
------------------------------------------------------
term 2 Server0 start snapshot! index=19
term 2 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 15559 term 2 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 6515 term 2 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17} {5661560829180400692 2 18} {5785254229090460516 2 19}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:19 
server 1 log:
[{snapshot 1 9} {6189527081180842626 1 10} {524884679670492438 1 11} {6361856346667754672 2 12} {5318682559192904220 2 13} {9205646298647295332 2 14} {3709796759096718622 2 15} {3328135771848336728 2 16} {6173024571883035985 2 17} {5661560829180400692 2 18} {5785254229090460516 2 19}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
term 2 Server1 start snapshot! index=19
term 2 Server2 start snapshot! index=19
term 2 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 2 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
client write log 6413739625488223834 (index 20) to leader 0
flag 6191 term 2 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
[{6413739625488223834 2 20}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 85121 term 2 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
[{6413739625488223834 2 20}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 2 19} {6413739625488223834 2 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {6413739625488223834 2 20}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:19 
server 1 log:
[{snapshot 2 19} {6413739625488223834 2 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {6413739625488223834 2 20}]
------------------------------------------------------
flag 39923 term 2 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
flag 71838 term 2 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:20 
server 2 log:
[{snapshot 2 19} {6413739625488223834 2 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {6413739625488223834 2 20}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:20 
server 1 log:
[{snapshot 2 19} {6413739625488223834 2 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {6413739625488223834 2 20}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 2 voteFor 0 logs [{snapshot 2 19} {6413739625488223834 2 20}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 2 voteFor 0 logs [{snapshot 2 19} {6413739625488223834 2 20}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 2 voteFor 0 logs [{snapshot 2 19} {6413739625488223834 2 20}]
!!!!!! server 2 crash
term 3 server 1 vote for server 2
term 3 server 0 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 2 get outdate rpc reply from server 0
flag 56639 term 3 leader 2 nextIndex[0]: 21  matchIndex[0]: 0
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 75708 term 3 leader 2 nextIndex[1]: 21  matchIndex[1]: 0
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
server 1 log:
[{snapshot 2 19} {6413739625488223834 2 20}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=19
leader log:
[{snapshot 2 19} {6413739625488223834 2 20}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 2 19} {6413739625488223834 2 20}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=19
leader log:
[{snapshot 2 19} {6413739625488223834 2 20}]
------------------------------------------------------
client write log 2049853229842420027 (index 21) to leader 2
flag 53994 term 3 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
[{2049853229842420027 3 21}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 73085 term 3 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
[{2049853229842420027 3 21}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
server 1 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21}]
------------------------------------------------------
flag 343 term 3 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
flag 64679 term 3 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:21 
server 0 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:21 
server 1 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21}]
------------------------------------------------------
client write log 7988903908989028527 (index 22) to leader 2
flag 34667 term 3 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
[{7988903908989028527 3 22}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
flag 89969 term 3 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
[{7988903908989028527 3 22}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:21 
server 1 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:21 
server 0 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22}]
------------------------------------------------------
flag 26594 term 3 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 3 leaderCommit: 22 
------------------------------------------------------
flag 69418 term 3 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 3 leaderCommit: 22 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:22 
server 1 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:22 
server 0 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22}]
------------------------------------------------------
client write log 199429193751943184 (index 23) to leader 2
flag 21098 term 3 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
[{199429193751943184 3 23}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 3 leaderCommit: 22 
------------------------------------------------------
flag 32788 term 3 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
[{199429193751943184 3 23}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 3 leaderCommit: 22 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:22 
server 1 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:22 
server 0 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23}]
------------------------------------------------------
flag 67530 term 3 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
flag 90408 term 3 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:23 
server 1 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:23 
server 0 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23}]
------------------------------------------------------
client write log 3067472100525468605 (index 24) to leader 2
flag 46619 term 3 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
[{3067472100525468605 3 24}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
flag 87132 term 3 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
[{3067472100525468605 3 24}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:23 
server 1 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:23 
server 0 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24}]
------------------------------------------------------
flag 94615 term 3 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
flag 12023 term 3 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:24 
server 1 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:24 
server 0 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24}]
------------------------------------------------------
client write log 8113451557943983127 (index 25) to leader 2
flag 29254 term 3 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
[{8113451557943983127 3 25}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
flag 14206 term 3 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
[{8113451557943983127 3 25}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:24 
server 1 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:24 
server 0 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25}]
------------------------------------------------------
flag 4741 term 3 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
flag 33473 term 3 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:25 
server 1 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:25 
server 0 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25}]
------------------------------------------------------
client write log 918831412713205095 (index 26) to leader 2
flag 87408 term 3 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
[{918831412713205095 3 26}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
flag 85330 term 3 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
[{918831412713205095 3 26}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:25 
server 1 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:25 
server 0 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26}]
------------------------------------------------------
flag 81127 term 3 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
flag 51139 term 3 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:26 
server 1 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:26 
server 0 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26}]
------------------------------------------------------
client write log 2898272907071086756 (index 27) to leader 2
flag 69393 term 3 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
[{2898272907071086756 3 27}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
flag 71578 term 3 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
[{2898272907071086756 3 27}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:26 
server 1 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:26 
server 0 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27}]
------------------------------------------------------
flag 84470 term 3 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
flag 91121 term 3 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:27 
server 1 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:27 
server 0 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27}]
------------------------------------------------------
client write log 2592880414060687590 (index 28) to leader 2
flag 99972 term 3 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
[{2592880414060687590 3 28}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
flag 43474 term 3 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
[{2592880414060687590 3 28}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:27 
server 1 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27} {2592880414060687590 3 28}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:27 
server 0 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27} {2592880414060687590 3 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27} {2592880414060687590 3 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27} {2592880414060687590 3 28}]
------------------------------------------------------
flag 92161 term 3 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
flag 41352 term 3 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:28 
server 1 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27} {2592880414060687590 3 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27} {2592880414060687590 3 28}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:28 
server 0 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27} {2592880414060687590 3 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27} {2592880414060687590 3 28}]
------------------------------------------------------
client write log 2549000859933898571 (index 29) to leader 2
flag 99921 term 3 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
[{2549000859933898571 3 29}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
flag 52929 term 3 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
[{2549000859933898571 3 29}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:28 
server 1 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27} {2592880414060687590 3 28} {2549000859933898571 3 29}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27} {2592880414060687590 3 28} {2549000859933898571 3 29}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:28 
server 0 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27} {2592880414060687590 3 28} {2549000859933898571 3 29}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27} {2592880414060687590 3 28} {2549000859933898571 3 29}]
------------------------------------------------------
term 3 Server2 start snapshot! index=29
term 3 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
flag 95506 term 3 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 83618 term 3 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27} {2592880414060687590 3 28} {2549000859933898571 3 29}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 2 19} {6413739625488223834 2 20} {2049853229842420027 3 21} {7988903908989028527 3 22} {199429193751943184 3 23} {3067472100525468605 3 24} {8113451557943983127 3 25} {918831412713205095 3 26} {2898272907071086756 3 27} {2592880414060687590 3 28} {2549000859933898571 3 29}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
term 3 Server1 start snapshot! index=29
term 3 Server0 start snapshot! index=29
term 3 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 3 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
client write log 6200795786850265003 (index 30) to leader 2
flag 94477 term 3 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
[{6200795786850265003 3 30}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 26448 term 3 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
[{6200795786850265003 3 30}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 3 29} {6200795786850265003 3 30}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {6200795786850265003 3 30}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 3 29} {6200795786850265003 3 30}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {6200795786850265003 3 30}]
------------------------------------------------------
flag 63633 term 3 leader 2 nextIndex[0]: 31  matchIndex[0]: 30
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
flag 46013 term 3 leader 2 nextIndex[1]: 31  matchIndex[1]: 30
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:30 
server 1 log:
[{snapshot 3 29} {6200795786850265003 3 30}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {6200795786850265003 3 30}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:30 
server 0 log:
[{snapshot 3 29} {6200795786850265003 3 30}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {6200795786850265003 3 30}]
------------------------------------------------------
client write log 5585750881202624412 (index 31) to leader 2
flag 62998 term 3 leader 2 nextIndex[0]: 31  matchIndex[0]: 30
[{5585750881202624412 3 31}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
flag 40352 term 3 leader 2 nextIndex[1]: 31  matchIndex[1]: 30
[{5585750881202624412 3 31}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:30 
server 1 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:30 
server 0 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31}]
------------------------------------------------------
flag 52301 term 3 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 3 leaderCommit: 31 
------------------------------------------------------
flag 15475 term 3 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 3 leaderCommit: 31 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:31 
server 1 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:31 
server 0 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31}]
------------------------------------------------------
client write log 5482944523826835471 (index 32) to leader 2
flag 32178 term 3 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
[{5482944523826835471 3 32}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 3 leaderCommit: 31 
------------------------------------------------------
flag 46253 term 3 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
[{5482944523826835471 3 32}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 3 leaderCommit: 31 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:31 
server 1 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:31 
server 0 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32}]
------------------------------------------------------
flag 69429 term 3 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
flag 97957 term 3 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:32 
server 0 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:32 
server 1 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32}]
------------------------------------------------------
client write log 2008592733687733311 (index 33) to leader 2
flag 60765 term 3 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
[{2008592733687733311 3 33}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
flag 45333 term 3 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
[{2008592733687733311 3 33}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:32 
server 1 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:32 
server 0 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33}]
------------------------------------------------------
flag 51258 term 3 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
flag 7749 term 3 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:33 
server 1 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:33 
server 0 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33}]
------------------------------------------------------
client write log 8530820915070467249 (index 34) to leader 2
flag 91454 term 3 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
[{8530820915070467249 3 34}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
flag 98227 term 3 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
[{8530820915070467249 3 34}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:33 
server 1 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:33 
server 0 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34}]
------------------------------------------------------
flag 77658 term 3 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
flag 51879 term 3 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:34 
server 1 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:34 
server 0 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34}]
------------------------------------------------------
client write log 3786345069910787702 (index 35) to leader 2
flag 37660 term 3 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
[{3786345069910787702 3 35}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
flag 66031 term 3 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
[{3786345069910787702 3 35}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:34 
server 1 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:34 
server 0 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35}]
------------------------------------------------------
flag 27306 term 3 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 3 leaderCommit: 35 
------------------------------------------------------
flag 62115 term 3 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 3 leaderCommit: 35 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:35 
server 1 log:
term 3 server 0 AppendEntries true commitIndex:35 
server 0 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35}]
------------------------------------------------------
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35}]
------------------------------------------------------
client write log 8076226991547868554 (index 36) to leader 2
flag 36786 term 3 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
[{8076226991547868554 3 36}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 3 leaderCommit: 35 
------------------------------------------------------
flag 57928 term 3 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
[{8076226991547868554 3 36}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 3 leaderCommit: 35 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:35 
server 1 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:35 
server 0 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36}]
------------------------------------------------------
flag 90883 term 3 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 36 
------------------------------------------------------
flag 21713 term 3 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 36 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:36 
server 1 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36}]
term 3 server 0 AppendEntries true commitIndex:36 
server 0 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 3 voteFor 2 logs [{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 3 voteFor 2 logs [{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 3 voteFor 2 logs [{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36}]
!!!!!! server 2 crash
term 4 server 2 vote for server 0
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 2
term 4 server 0 become leader
------------------------------------------------------
term 4 server 0 get outdate rpc reply from server 1
flag 53787 term 4 leader 0 nextIndex[1]: 37  matchIndex[1]: 0
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 27652 term 4 leader 0 nextIndex[2]: 37  matchIndex[2]: 0
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
server 2 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=29
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=29
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36}]
------------------------------------------------------
client write log 1950034546660158196 (index 37) to leader 0
flag 98136 term 4 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
[{1950034546660158196 4 37}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 9700 term 4 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
[{1950034546660158196 4 37}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
server 2 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37}]
------------------------------------------------------
flag 164 term 4 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 28095 term 4 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:37 
server 1 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:37 
server 2 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37}]
------------------------------------------------------
client write log 3191197431905575032 (index 38) to leader 0
flag 53339 term 4 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
[{3191197431905575032 4 38}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 22266 term 4 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
[{3191197431905575032 4 38}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:37 
server 2 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37} {3191197431905575032 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37} {3191197431905575032 4 38}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:37 
server 1 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37} {3191197431905575032 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37} {3191197431905575032 4 38}]
------------------------------------------------------
flag 13956 term 4 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 32002 term 4 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:38 
server 2 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37} {3191197431905575032 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37} {3191197431905575032 4 38}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:38 
server 1 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37} {3191197431905575032 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37} {3191197431905575032 4 38}]
------------------------------------------------------
client write log 8059935717859904928 (index 39) to leader 0
flag 15515 term 4 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
[{8059935717859904928 4 39}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 75379 term 4 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
[{8059935717859904928 4 39}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:38 
server 2 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37} {3191197431905575032 4 38} {8059935717859904928 4 39}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:38 
server 1 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37} {3191197431905575032 4 38} {8059935717859904928 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37} {3191197431905575032 4 38} {8059935717859904928 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37} {3191197431905575032 4 38} {8059935717859904928 4 39}]
------------------------------------------------------
term 4 Server0 start snapshot! index=39
term 4 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 46597 term 4 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 48479 term 4 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:39 
server 2 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37} {3191197431905575032 4 38} {8059935717859904928 4 39}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 3 29} {6200795786850265003 3 30} {5585750881202624412 3 31} {5482944523826835471 3 32} {2008592733687733311 3 33} {8530820915070467249 3 34} {3786345069910787702 3 35} {8076226991547868554 3 36} {1950034546660158196 4 37} {3191197431905575032 4 38} {8059935717859904928 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
term 4 Server2 start snapshot! index=39
term 4 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 4 Server1 start snapshot! index=39
term 4 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
client write log 2112708692606429141 (index 40) to leader 0
flag 32215 term 4 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
[{2112708692606429141 4 40}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 34636 term 4 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
[{2112708692606429141 4 40}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:39 
server 2 log:
[{snapshot 4 39} {2112708692606429141 4 40}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 4 39} {2112708692606429141 4 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {2112708692606429141 4 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {2112708692606429141 4 40}]
------------------------------------------------------
flag 83432 term 4 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 23098 term 4 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:40 
server 2 log:
[{snapshot 4 39} {2112708692606429141 4 40}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:40 
server 1 log:
[{snapshot 4 39} {2112708692606429141 4 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {2112708692606429141 4 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {2112708692606429141 4 40}]
------------------------------------------------------
client write log 1143297452234165764 (index 41) to leader 0
flag 85083 term 4 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
[{1143297452234165764 4 41}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 61413 term 4 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
[{1143297452234165764 4 41}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:40 
server 2 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41}]
term 4 server 1 AppendEntries true commitIndex:40 
server 1 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41}]
------------------------------------------------------
flag 94428 term 4 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 85106 term 4 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:41 
server 2 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:41 
server 1 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41}]
------------------------------------------------------
client write log 1224088531869038762 (index 42) to leader 0
flag 92634 term 4 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
[{1224088531869038762 4 42}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 55255 term 4 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
[{1224088531869038762 4 42}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:41 
server 2 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:41 
server 1 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42}]
------------------------------------------------------
flag 38390 term 4 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 38157 term 4 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:42 
server 2 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:42 
server 1 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42}]
------------------------------------------------------
client write log 3120453533017651293 (index 43) to leader 0
flag 52829 term 4 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
[{3120453533017651293 4 43}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 17679 term 4 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
[{3120453533017651293 4 43}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:42 
server 2 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:42 
server 1 log:
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43}]
------------------------------------------------------
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43}]
------------------------------------------------------
flag 5338 term 4 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 18351 term 4 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:43 
server 2 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:43 
server 1 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43}]
------------------------------------------------------
client write log 9150855241295018592 (index 44) to leader 0
flag 71821 term 4 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
[{9150855241295018592 4 44}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 38889 term 4 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
[{9150855241295018592 4 44}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:43 
server 2 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:43 
server 1 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44}]
------------------------------------------------------
flag 92799 term 4 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 15720 term 4 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:44 
server 1 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:44 
server 2 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44}]
------------------------------------------------------
client write log 2890517423031494648 (index 45) to leader 0
flag 43412 term 4 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
[{2890517423031494648 4 45}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 86339 term 4 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
[{2890517423031494648 4 45}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:44 
server 2 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:44 
server 1 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45}]
------------------------------------------------------
flag 17752 term 4 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
flag 79467 term 4 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:45 
server 2 log:
term 4 server 1 AppendEntries true commitIndex:45 
server 1 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45}]
------------------------------------------------------
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45}]
------------------------------------------------------
client write log 5957227200112250762 (index 46) to leader 0
flag 84768 term 4 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
[{5957227200112250762 4 46}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
flag 72839 term 4 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
[{5957227200112250762 4 46}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:45 
server 2 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:45 
server 1 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46}]
------------------------------------------------------
flag 91648 term 4 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 878 term 4 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:46 
server 2 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:46 
server 1 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46}]
------------------------------------------------------
client write log 8422619437391276277 (index 47) to leader 0
flag 58446 term 4 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
[{8422619437391276277 4 47}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 90393 term 4 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
[{8422619437391276277 4 47}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:46 
server 2 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:46 
server 1 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47}]
------------------------------------------------------
flag 53464 term 4 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 47 
------------------------------------------------------
flag 85370 term 4 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 47 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:47 
server 2 log:
term 4 server 1 AppendEntries true commitIndex:47 
server 1 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47}]
------------------------------------------------------
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47}]
------------------------------------------------------
client write log 2942957796337780240 (index 48) to leader 0
flag 86468 term 4 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
[{2942957796337780240 4 48}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 47 
------------------------------------------------------
flag 71325 term 4 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
[{2942957796337780240 4 48}]
term 4 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 47 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:47 
server 2 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47} {2942957796337780240 4 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47} {2942957796337780240 4 48}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:47 
server 1 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47} {2942957796337780240 4 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47} {2942957796337780240 4 48}]
------------------------------------------------------
flag 58152 term 4 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 4 leaderCommit: 48 
------------------------------------------------------
flag 4806 term 4 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
[]
term 4 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 4 leaderCommit: 48 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:48 
server 1 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47} {2942957796337780240 4 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47} {2942957796337780240 4 48}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:48 
server 2 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47} {2942957796337780240 4 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47} {2942957796337780240 4 48}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 4 voteFor 0 logs [{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47} {2942957796337780240 4 48}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 4 voteFor 0 logs [{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47} {2942957796337780240 4 48}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 4 voteFor 0 logs [{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47} {2942957796337780240 4 48}]
!!!!!! server 2 crash
term 5 server 1 vote for server 2
term 5 server 2 get vote from server 1
term 5 server 2 become leader
------------------------------------------------------
term 5 server 0 vote for server 2
term 5 server 2 get outdate rpc reply from server 0
flag 76613 term 5 leader 2 nextIndex[0]: 49  matchIndex[0]: 0
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 91286 term 5 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47} {2942957796337780240 4 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47} {2942957796337780240 4 48}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47} {2942957796337780240 4 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47} {2942957796337780240 4 48}]
------------------------------------------------------
client write log 3854749815070565584 (index 49) to leader 2
flag 29003 term 5 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
[{3854749815070565584 5 49}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 82763 term 5 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
[{3854749815070565584 5 49}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47} {2942957796337780240 4 48} {3854749815070565584 5 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
term 5 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47} {2942957796337780240 4 48} {3854749815070565584 5 49}]
------------------------------------------------------
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47} {2942957796337780240 4 48} {3854749815070565584 5 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47} {2942957796337780240 4 48} {3854749815070565584 5 49}]
------------------------------------------------------
term 5 Server2 start snapshot! index=49
term 5 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 44045 term 5 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
flag 94752 term 5 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47} {2942957796337780240 4 48} {3854749815070565584 5 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 5 49}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:49 
server 0 log:
[{snapshot 4 39} {2112708692606429141 4 40} {1143297452234165764 4 41} {1224088531869038762 4 42} {3120453533017651293 4 43} {9150855241295018592 4 44} {2890517423031494648 4 45} {5957227200112250762 4 46} {8422619437391276277 4 47} {2942957796337780240 4 48} {3854749815070565584 5 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 5 49}]
------------------------------------------------------
term 5 Server0 start snapshot! index=49
term 5 Server1 start snapshot! index=49
term 5 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 5 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
client write log 5547083044348760576 (index 50) to leader 2
flag 15367 term 5 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
[{5547083044348760576 5 50}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
flag 29121 term 5 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
[{5547083044348760576 5 50}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 5 49} {5547083044348760576 5 50}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {5547083044348760576 5 50}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:49 
server 0 log:
[{snapshot 5 49} {5547083044348760576 5 50}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {5547083044348760576 5 50}]
------------------------------------------------------
flag 1569 term 5 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
flag 37637 term 5 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:50 
server 1 log:
[{snapshot 5 49} {5547083044348760576 5 50}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:50 
server 0 log:
[{snapshot 5 49} {5547083044348760576 5 50}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {5547083044348760576 5 50}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {5547083044348760576 5 50}]
------------------------------------------------------
client write log 2300692759712337903 (index 51) to leader 2
flag 80986 term 5 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
[{2300692759712337903 5 51}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
flag 59877 term 5 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
[{2300692759712337903 5 51}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:50 
server 1 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:50 
server 0 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51}]
------------------------------------------------------
flag 54132 term 5 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
flag 48545 term 5 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:51 
server 1 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:51 
server 0 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51}]
------------------------------------------------------
client write log 2873433938982822436 (index 52) to leader 2
flag 95426 term 5 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
[{2873433938982822436 5 52}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
flag 7459 term 5 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
[{2873433938982822436 5 52}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:51 
server 1 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:51 
server 0 log:
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52}]
------------------------------------------------------
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52}]
------------------------------------------------------
flag 97047 term 5 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
flag 23349 term 5 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:52 
server 0 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:52 
server 1 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52}]
------------------------------------------------------
client write log 4951855155470019649 (index 53) to leader 2
flag 9241 term 5 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
[{4951855155470019649 5 53}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
flag 50057 term 5 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
[{4951855155470019649 5 53}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:52 
server 1 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:52 
server 0 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53}]
------------------------------------------------------
flag 27228 term 5 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
flag 21029 term 5 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:53 
server 1 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:53 
server 0 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53}]
------------------------------------------------------
client write log 3097185223432378504 (index 54) to leader 2
flag 85290 term 5 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
[{3097185223432378504 5 54}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
flag 83323 term 5 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
[{3097185223432378504 5 54}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:53 
server 1 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:53 
server 0 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54}]
------------------------------------------------------
flag 59620 term 5 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
flag 43825 term 5 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:54 
server 1 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:54 
server 0 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54}]
------------------------------------------------------
client write log 8198351866521589331 (index 55) to leader 2
flag 79204 term 5 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
[{8198351866521589331 5 55}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
flag 46134 term 5 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
[{8198351866521589331 5 55}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:54 
server 1 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:54 
server 0 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55}]
------------------------------------------------------
flag 2701 term 5 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
flag 24346 term 5 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:55 
server 1 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:55 
server 0 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55}]
------------------------------------------------------
client write log 116408443231689208 (index 56) to leader 2
flag 87168 term 5 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
[{116408443231689208 5 56}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
flag 38262 term 5 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
[{116408443231689208 5 56}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:55 
server 1 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:55 
server 0 log:
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56}]
------------------------------------------------------
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56}]
------------------------------------------------------
flag 92413 term 5 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
flag 87869 term 5 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:56 
server 1 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:56 
server 0 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56}]
------------------------------------------------------
client write log 6646056266957269826 (index 57) to leader 2
flag 90685 term 5 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
[{6646056266957269826 5 57}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
flag 36389 term 5 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
[{6646056266957269826 5 57}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:56 
server 1 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:56 
server 0 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57}]
------------------------------------------------------
flag 90717 term 5 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
flag 75549 term 5 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:57 
server 1 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:57 
server 0 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57}]
------------------------------------------------------
client write log 2639660257758718750 (index 58) to leader 2
flag 69395 term 5 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
[{2639660257758718750 5 58}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
flag 45704 term 5 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
[{2639660257758718750 5 58}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:57 
server 1 log:
term 5 server 0 AppendEntries true commitIndex:57 
server 0 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57} {2639660257758718750 5 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57} {2639660257758718750 5 58}]
------------------------------------------------------
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57} {2639660257758718750 5 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57} {2639660257758718750 5 58}]
------------------------------------------------------
flag 78557 term 5 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
flag 18755 term 5 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:58 
server 1 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57} {2639660257758718750 5 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57} {2639660257758718750 5 58}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:58 
server 0 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57} {2639660257758718750 5 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57} {2639660257758718750 5 58}]
------------------------------------------------------
client write log 339693534717316581 (index 59) to leader 2
flag 9697 term 5 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
[{339693534717316581 5 59}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
flag 91737 term 5 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
[{339693534717316581 5 59}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:58 
server 1 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57} {2639660257758718750 5 58} {339693534717316581 5 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57} {2639660257758718750 5 58} {339693534717316581 5 59}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:58 
server 0 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57} {2639660257758718750 5 58} {339693534717316581 5 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57} {2639660257758718750 5 58} {339693534717316581 5 59}]
------------------------------------------------------
term 5 Server2 start snapshot! index=59
term 5 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 65442 term 5 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
flag 40895 term 5 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:59 
server 1 log:
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57} {2639660257758718750 5 58} {339693534717316581 5 59}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:59 
server 0 log:
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=60
[{snapshot 5 49} {5547083044348760576 5 50} {2300692759712337903 5 51} {2873433938982822436 5 52} {4951855155470019649 5 53} {3097185223432378504 5 54} {8198351866521589331 5 55} {116408443231689208 5 56} {6646056266957269826 5 57} {2639660257758718750 5 58} {339693534717316581 5 59}]
------------------------------------------------------
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 5 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 5 59}]
------------------------------------------------------
term 5 Server0 start snapshot! index=59
term 5 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 5 Server1 start snapshot! index=59
term 5 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
client write log 1890721496489834528 (index 60) to leader 2
flag 77171 term 5 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
[{1890721496489834528 5 60}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
flag 56375 term 5 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
[{1890721496489834528 5 60}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:59 
server 1 log:
[{snapshot 5 59} {1890721496489834528 5 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 5 59} {1890721496489834528 5 60}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:59 
server 0 log:
[{snapshot 5 59} {1890721496489834528 5 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 5 59} {1890721496489834528 5 60}]
------------------------------------------------------
flag 87395 term 5 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 60 
------------------------------------------------------
flag 51520 term 5 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 60 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:60 
server 1 log:
[{snapshot 5 59} {1890721496489834528 5 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 5 59} {1890721496489834528 5 60}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:60 
server 0 log:
[{snapshot 5 59} {1890721496489834528 5 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 5 59} {1890721496489834528 5 60}]
------------------------------------------------------
client write log 666462576075100204 (index 61) to leader 2
flag 49698 term 5 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
[{666462576075100204 5 61}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 60 
------------------------------------------------------
flag 48749 term 5 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
[{666462576075100204 5 61}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 60 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:60 
server 1 log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:60 
server 0 log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61}]
------------------------------------------------------
flag 96274 term 5 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 5 leaderCommit: 61 
------------------------------------------------------
flag 51468 term 5 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 5 leaderCommit: 61 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:61 
server 1 log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:61 
server 0 log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61}]
------------------------------------------------------
client write log 4988782080325300625 (index 62) to leader 2
flag 63536 term 5 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
[{4988782080325300625 5 62}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 5 leaderCommit: 61 
------------------------------------------------------
flag 7914 term 5 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
[{4988782080325300625 5 62}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 5 leaderCommit: 61 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:61 
server 1 log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:61 
server 0 log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62}]
------------------------------------------------------
flag 4536 term 5 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 5 leaderCommit: 62 
------------------------------------------------------
flag 5895 term 5 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 5 leaderCommit: 62 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:62 
server 1 log:
term 5 server 0 AppendEntries true commitIndex:62 
server 0 log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62}]
------------------------------------------------------
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62}]
------------------------------------------------------
client write log 5250451947748285239 (index 63) to leader 2
flag 41316 term 5 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
[{5250451947748285239 5 63}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 5 leaderCommit: 62 
------------------------------------------------------
flag 68774 term 5 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
[{5250451947748285239 5 63}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 5 leaderCommit: 62 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:62 
server 1 log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:62 
server 0 log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63}]
------------------------------------------------------
flag 7844 term 5 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 5 leaderCommit: 63 
------------------------------------------------------
flag 91268 term 5 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 5 leaderCommit: 63 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:63 
server 1 log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:63 
server 0 log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 5 voteFor 2 logs [{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 5 voteFor 2 logs [{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 5 voteFor 2 logs [{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63}]
!!!!!! server 2 crash
flag 28617 term 5 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 5 leaderCommit: 63 
------------------------------------------------------
flag 71656 term 5 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 5 leaderCommit: 63 
------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 0 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 2 get outdate rpc reply from server 0
flag 16024 term 6 leader 2 nextIndex[0]: 64  matchIndex[0]: 0
[]
term 6 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
flag 17076 term 6 leader 2 nextIndex[1]: 64  matchIndex[1]: 0
[]
term 6 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:59 
server 1 log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=59
leader log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:59 
server 0 log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=59
leader log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63}]
------------------------------------------------------
client write log 2956850268145257408 (index 64) to leader 2
flag 45373 term 6 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
[{2956850268145257408 6 64}]
term 6 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
flag 54066 term 6 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
[{2956850268145257408 6 64}]
term 6 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:59 
server 1 log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63} {2956850268145257408 6 64}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:59 
server 0 log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63} {2956850268145257408 6 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63} {2956850268145257408 6 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63} {2956850268145257408 6 64}]
------------------------------------------------------
flag 94640 term 6 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
[]
term 6 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 6 leaderCommit: 64 
------------------------------------------------------
flag 60824 term 6 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
[]
term 6 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 6 leaderCommit: 64 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:64 
server 1 log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63} {2956850268145257408 6 64}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:64 
server 0 log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63} {2956850268145257408 6 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63} {2956850268145257408 6 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 5 59} {1890721496489834528 5 60} {666462576075100204 5 61} {4988782080325300625 5 62} {5250451947748285239 5 63} {2956850268145257408 6 64}]
------------------------------------------------------
  ... Passed --  14.6  3  300   89693   64
--- PASS: TestSnapshotAllCrash2D (14.60s)
PASS
