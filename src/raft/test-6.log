=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
client write log 5631892953380773452 (index 1) to leader 2
flag 59746 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 51072 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5631892953380773452 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5631892953380773452 1 1}]
------------------------------------------------------
flag 92849 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 45208 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5631892953380773452 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5631892953380773452 1 1}]
------------------------------------------------------
flag 4886 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 96330 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5631892953380773452 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5631892953380773452 1 1}]
------------------------------------------------------
flag 99490 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 1863 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5631892953380773452 1 1}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5631892953380773452 1 1}]
------------------------------------------------------
flag 40658 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 15117 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5631892953380773452 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5631892953380773452 1 1}]
------------------------------------------------------
flag 5186 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 94056 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5631892953380773452 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5631892953380773452 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4419240847414627272 (index 2) to leader 2
flag 60047 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 51574 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {5631892953380773452 1 1} {4419240847414627272 1 2}]
------------------------------------------------------
flag 87043 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 84567 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {5631892953380773452 1 1} {4419240847414627272 1 2}]
------------------------------------------------------
client write log 2893103472467928768 (index 3) to leader 2
client write log 1387415183047715113 (index 4) to leader 2
client write log 5159101301746775499 (index 5) to leader 2
client write log 986341517813042923 (index 6) to leader 2
client write log 1650890486001207561 (index 7) to leader 2
client write log 1699783044432465573 (index 8) to leader 2
client write log 3130431095272172524 (index 9) to leader 2
flag 88027 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 76409 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {5631892953380773452 1 1} {4419240847414627272 1 2} {2893103472467928768 1 3} {1387415183047715113 1 4} {5159101301746775499 1 5} {986341517813042923 1 6} {1650890486001207561 1 7} {1699783044432465573 1 8} {3130431095272172524 1 9}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 38741 term 1 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
!!!!!!connect server 0
client write log 191590520836493893 (index 10) to leader 2
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 7329 term 1 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {191590520836493893 1 10}]
------------------------------------------------------
term 2 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 33543 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 90676 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 11->10
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {191590520836493893 1 10}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 99641 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {191590520836493893 1 10}]
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 49682 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 86568 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {191590520836493893 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {191590520836493893 1 10}]
------------------------------------------------------
flag 79996 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 84799 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {191590520836493893 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {191590520836493893 1 10}]
------------------------------------------------------
flag 17401 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 85794 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {191590520836493893 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {191590520836493893 1 10}]
------------------------------------------------------
flag 46242 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 31725 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {191590520836493893 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {191590520836493893 1 10}]
------------------------------------------------------
flag 55122 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 83860 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {191590520836493893 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {191590520836493893 1 10}]
------------------------------------------------------
flag 79260 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 27109 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {191590520836493893 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {191590520836493893 1 10}]
------------------------------------------------------
flag 25307 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 50427 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {191590520836493893 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {191590520836493893 1 10}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 27900 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 59998 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 77806 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 37667 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 64005 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 29656 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 3773 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 31013 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
flag 19159 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 97155 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {191590520836493893 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 11->10
------------------------------------------------------
client write log 3404325971713969366 (index 11) to leader 1
flag 62120 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 10
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 1 not vote for server 0, 任期不够新
term 4 server 0 get outdate rpc reply from server 1
flag 58672 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 21915 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {191590520836493893 1 10} {3404325971713969366 4 11}]
------------------------------------------------------
flag 58407 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 10
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 17226 term 4 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
flag 8798 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {191590520836493893 1 10} {3404325971713969366 4 11}]
------------------------------------------------------
client write log 8737469290700096641 (index 12) to leader 1
flag 83371 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 10
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 41799 term 4 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
flag 51266 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {191590520836493893 1 10} {3404325971713969366 4 11} {8737469290700096641 4 12}]
------------------------------------------------------
flag 6872 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 10
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 98562 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 13425 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {191590520836493893 1 10} {3404325971713969366 4 11} {8737469290700096641 4 12}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5121586685936322446 (index 13) to leader 1
flag 9347 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 10
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 3 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15431 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 72792 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {191590520836493893 1 10} {3404325971713969366 4 11} {8737469290700096641 4 12} {5121586685936322446 4 13}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {191590520836493893 1 10} {3404325971713969366 4 11} {8737469290700096641 4 12} {5121586685936322446 4 13}]
------------------------------------------------------
flag 93862 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 83241 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {191590520836493893 1 10} {3404325971713969366 4 11} {8737469290700096641 4 12} {5121586685936322446 4 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {191590520836493893 1 10} {3404325971713969366 4 11} {8737469290700096641 4 12} {5121586685936322446 4 13}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81582 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 48936 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {191590520836493893 1 10} {3404325971713969366 4 11} {8737469290700096641 4 12} {5121586685936322446 4 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {191590520836493893 1 10} {3404325971713969366 4 11} {8737469290700096641 4 12} {5121586685936322446 4 13}]
------------------------------------------------------
flag 52116 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 57494 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {191590520836493893 1 10} {3404325971713969366 4 11} {8737469290700096641 4 12} {5121586685936322446 4 13}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {191590520836493893 1 10} {3404325971713969366 4 11} {8737469290700096641 4 12} {5121586685936322446 4 13}]
------------------------------------------------------
term 4 server 2 not vote for server 1, 日志不够新
term 4 server 1 get outdate rpc reply from server 2
flag 20024 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 45154 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {191590520836493893 1 10} {3404325971713969366 4 11} {8737469290700096641 4 12} {5121586685936322446 4 13}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {191590520836493893 1 10} {3404325971713969366 4 11} {8737469290700096641 4 12} {5121586685936322446 4 13}]
------------------------------------------------------
flag 98350 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 59482 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
[{snapshot 1 9} {191590520836493893 1 10} {3404325971713969366 4 11} {8737469290700096641 4 12} {5121586685936322446 4 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {191590520836493893 1 10} {3404325971713969366 4 11} {8737469290700096641 4 12} {5121586685936322446 4 13}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1096606043894146078 (index 14) to leader 1
flag 96797 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 9673 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {191590520836493893 1 10} {3404325971713969366 4 11} {8737469290700096641 4 12} {5121586685936322446 4 13} {1096606043894146078 4 14}]
------------------------------------------------------
flag 31196 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 65167 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {191590520836493893 1 10} {3404325971713969366 4 11} {8737469290700096641 4 12} {5121586685936322446 4 13} {1096606043894146078 4 14}]
------------------------------------------------------
client write log 2061728762666876820 (index 15) to leader 1
client write log 3801352142601488445 (index 16) to leader 1
client write log 634932708492149904 (index 17) to leader 1
client write log 6526925140779357858 (index 18) to leader 1
client write log 4186205808255239297 (index 19) to leader 1
client write log 3822771073643045615 (index 20) to leader 1
client write log 5349072026750054670 (index 21) to leader 1
client write log 4667103895387458133 (index 22) to leader 1
client write log 1478124254543902685 (index 23) to leader 1
client write log 2573503710894824599 (index 24) to leader 1
client write log 7448721668286163434 (index 25) to leader 1
flag 96367 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 30250 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 1 9} {191590520836493893 1 10} {3404325971713969366 4 11} {8737469290700096641 4 12} {5121586685936322446 4 13} {1096606043894146078 4 14} {2061728762666876820 4 15} {3801352142601488445 4 16} {634932708492149904 4 17} {6526925140779357858 4 18} {4186205808255239297 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=25
-------------------------------------------------------------
flag 19981 term 4 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 5 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=25
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2019876309614169297 (index 26) to leader 1
flag 87047 term 4 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 5 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 0 vote for server 1
term 6 server 1 get vote from server 0
term 6 server 1 become leader
------------------------------------------------------
term 6 server 2 vote for server 1
term 6 server 1 get outdate rpc reply from server 2
flag 27505 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 40109 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 27->26
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
flag 1612 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
term 6 server 2 InstallSnapshot success
------------------------------------------------------
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87197 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 37379 term 6 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 6 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69774 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 86751 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
flag 83911 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 89587 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
flag 48427 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 84239 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
flag 54780 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 53374 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
flag 72599 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 64706 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
flag 73479 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 57789 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42702 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 74524 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78156 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 20467 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29082 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 41192 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19662 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 72311 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67073 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 76016 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
flag 87719 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 85084 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
flag 32068 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 66931 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
flag 56963 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 94488 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
flag 71729 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 83933 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26}]
------------------------------------------------------
client write log 2019876309614169297 (index 27) to leader 1
flag 50741 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 2049 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26} {2019876309614169297 6 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26} {2019876309614169297 6 27}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88896 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 78060 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26} {2019876309614169297 6 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26} {2019876309614169297 6 27}]
------------------------------------------------------
flag 78772 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 97170 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26} {2019876309614169297 6 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26} {2019876309614169297 6 27}]
------------------------------------------------------
flag 38569 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 72620 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26} {2019876309614169297 6 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26} {2019876309614169297 6 27}]
------------------------------------------------------
term 6 server 0 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 0
flag 83999 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 70326 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26} {2019876309614169297 6 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26} {2019876309614169297 6 27}]
------------------------------------------------------
term 6 server 1 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 1
flag 9976 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 6400 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26} {2019876309614169297 6 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26} {2019876309614169297 6 27}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 416758988822195006 (index 28) to leader 1
flag 74415 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 92929 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26} {2019876309614169297 6 27} {416758988822195006 6 28}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40262 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 96495 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26} {2019876309614169297 6 27} {416758988822195006 6 28}]
------------------------------------------------------
client write log 406117929639748789 (index 29) to leader 1
client write log 7747432778453883690 (index 30) to leader 1
client write log 2367800148017748597 (index 31) to leader 1
client write log 7775804259847336959 (index 32) to leader 1
client write log 7905846539790819752 (index 33) to leader 1
client write log 2808349396672640314 (index 34) to leader 1
client write log 576138495004130404 (index 35) to leader 1
client write log 2757739371468776828 (index 36) to leader 1
client write log 4098097982381541882 (index 37) to leader 1
client write log 6297528249330388974 (index 38) to leader 1
client write log 7626290473374059799 (index 39) to leader 1
client write log 9032307755163896171 (index 40) to leader 1
client write log 8047039820181165319 (index 41) to leader 1
client write log 6841308792912931680 (index 42) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6406 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 47906 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 19} {3822771073643045615 4 20} {5349072026750054670 4 21} {4667103895387458133 4 22} {1478124254543902685 4 23} {2573503710894824599 4 24} {7448721668286163434 4 25} {2019876309614169297 4 26} {2019876309614169297 6 27} {416758988822195006 6 28} {406117929639748789 6 29} {7747432778453883690 6 30} {2367800148017748597 6 31} {7775804259847336959 6 32} {7905846539790819752 6 33} {2808349396672640314 6 34} {576138495004130404 6 35} {2757739371468776828 6 36} {4098097982381541882 6 37} {6297528249330388974 6 38} {7626290473374059799 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=42
-------------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=42
-------------------------------------------------------------
flag 76631 term 6 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=42
-------------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=42
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 2
client write log 4345578908798539905 (index 43) to leader 1
term 6 server 1 not vote for server 2, 日志不够新
term 6 server 0 not vote for server 2, 日志不够新
term 8 server 2 vote for server 1
term 8 server 0 vote for server 1
term 8 server 1 get vote from server 0
term 8 server 1 become leader
------------------------------------------------------
term 8 server 1 get outdate rpc reply from server 2
flag 75511 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 96228 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 44->43
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 44->43
------------------------------------------------------
term 8 server 2 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 2
flag 60603 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 28  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24756 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 90698 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73660 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 4183 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
flag 13694 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 48712 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77168 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 54596 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
flag 89972 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 52621 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
flag 73721 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 87901 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10185 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 92845 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17422 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 97018 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
flag 36918 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 41888 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
flag 61434 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 80579 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
flag 51372 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 42268 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
flag 70993 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 71703 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
flag 61952 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 74663 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
flag 67754 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 18394 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
flag 61052 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 9941 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
flag 11095 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 20674 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11718 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 65586 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1147 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 71757 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43}]
------------------------------------------------------
client write log 4345578908798539905 (index 44) to leader 1
flag 36315 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 97564 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43} {4345578908798539905 8 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43} {4345578908798539905 8 44}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7655 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 72636 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43} {4345578908798539905 8 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43} {4345578908798539905 8 44}]
------------------------------------------------------
flag 83834 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 31334 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43} {4345578908798539905 8 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43} {4345578908798539905 8 44}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64763 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 96365 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43} {4345578908798539905 8 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43} {4345578908798539905 8 44}]
------------------------------------------------------
flag 82139 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 73840 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43} {4345578908798539905 8 44}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43} {4345578908798539905 8 44}]
------------------------------------------------------
flag 19771 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 89420 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43} {4345578908798539905 8 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43} {4345578908798539905 8 44}]
------------------------------------------------------
flag 24449 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 7050 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43} {4345578908798539905 8 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43} {4345578908798539905 8 44}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 26300 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 21115 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 45->44
------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 44
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 10513 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 44
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 13428 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 9 server 0 vote for server 2
term 9 server 2 get vote from server 0
term 9 server 2 become leader
------------------------------------------------------
flag 82602 term 9 leader 2 nextIndex[0]: 45  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 15462 term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43} {4345578908798539905 8 44}]
------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 44
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 87378 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
client write log 4790894142888810982 (index 45) to leader 2
flag 90875 term 9 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 83445 term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43} {4345578908798539905 8 44} {4790894142888810982 9 45}]
------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 44
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 81771 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 52620 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 81425 term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43} {4345578908798539905 8 44} {4790894142888810982 9 45}]
------------------------------------------------------
client write log 8477071002115277841 (index 46) to leader 2
client write log 5387804682958580693 (index 47) to leader 2
client write log 5317991037069833199 (index 48) to leader 2
client write log 7624403090689991913 (index 49) to leader 2
client write log 7490577558623461655 (index 50) to leader 2
client write log 1147532034933380726 (index 51) to leader 2
client write log 7361884745370461231 (index 52) to leader 2
client write log 3355756898454903457 (index 53) to leader 2
client write log 6264060211245863602 (index 54) to leader 2
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 44
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 87962 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 65139 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 24619 term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 39} {9032307755163896171 6 40} {8047039820181165319 6 41} {6841308792912931680 6 42} {4345578908798539905 6 43} {4345578908798539905 8 44} {4790894142888810982 9 45} {8477071002115277841 9 46} {5387804682958580693 9 47} {5317991037069833199 9 48} {7624403090689991913 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=54
-------------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 44
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 75266 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 92186 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 44
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 88634 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=54
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2583740537147525021 (index 45) to leader 1
flag 55069 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot success
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63911 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 22270 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
flag 7304 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 19495 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92809 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 50202 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
flag 54526 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 12189 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
flag 91461 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 70035 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
flag 47447 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 16216 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
flag 61045 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 10238 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
flag 49486 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 80697 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
flag 46544 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 59404 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
flag 51136 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 73590 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
flag 38601 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 15452 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
flag 93248 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 89273 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
flag 19603 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 87299 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56055 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 65421 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
flag 61961 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 97239 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60949 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 52257 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 55->54
------------------------------------------------------
flag 10512 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 54
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 54 args.LastIncludedIndex 49
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
flag 19552 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 41574 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 216 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 93367 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54}]
------------------------------------------------------
client write log 2583740537147525021 (index 55) to leader 2
term 9 server 1 not vote for server 2, 日志不够新
term 9 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44241 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 99784 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54} {2583740537147525021 9 55}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54} {2583740537147525021 9 55}]
------------------------------------------------------
flag 88856 term 9 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 34700 term 9 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54} {2583740537147525021 9 55}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54} {2583740537147525021 9 55}]
------------------------------------------------------
flag 92753 term 9 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 15966 term 9 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54} {2583740537147525021 9 55}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54} {2583740537147525021 9 55}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19583 term 9 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 93866 term 9 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54} {2583740537147525021 9 55}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54} {2583740537147525021 9 55}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 56->55
------------------------------------------------------
flag 71673 term 9 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 55
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 55 args.LastIncludedIndex 49
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54} {2583740537147525021 9 55}]
------------------------------------------------------
flag 93115 term 9 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 32451 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54} {2583740537147525021 9 55}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54} {2583740537147525021 9 55}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7634743465069013101 (index 56) to leader 2
flag 95575 term 9 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 36164 term 9 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54} {2583740537147525021 9 55} {7634743465069013101 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98077 term 9 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 18572 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54} {2583740537147525021 9 55} {7634743465069013101 9 56}]
------------------------------------------------------
client write log 8531164253992978635 (index 57) to leader 2
client write log 4517040275849673332 (index 58) to leader 2
client write log 8765686880670502535 (index 59) to leader 2
client write log 3039269891456582068 (index 60) to leader 2
client write log 3999781337123547098 (index 61) to leader 2
client write log 232135796200491908 (index 62) to leader 2
client write log 6765757448337603253 (index 63) to leader 2
client write log 5381738798466202072 (index 64) to leader 2
client write log 8106560753428653139 (index 65) to leader 2
client write log 5566792798167165694 (index 66) to leader 2
client write log 5440386168592980111 (index 67) to leader 2
client write log 2911631733082643588 (index 68) to leader 2
client write log 8079835414585082268 (index 69) to leader 2
client write log 101692925995105483 (index 70) to leader 2
client write log 1228327313770195539 (index 71) to leader 2
flag 31482 term 9 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 57740 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 49} {7490577558623461655 9 50} {1147532034933380726 9 51} {7361884745370461231 9 52} {3355756898454903457 9 53} {6264060211245863602 9 54} {2583740537147525021 9 55} {7634743465069013101 9 56} {8531164253992978635 9 57} {4517040275849673332 9 58} {8765686880670502535 9 59} {3039269891456582068 9 60} {3999781337123547098 9 61} {232135796200491908 9 62} {6765757448337603253 9 63} {5381738798466202072 9 64} {8106560753428653139 9 65} {5566792798167165694 9 66} {5440386168592980111 9 67} {2911631733082643588 9 68} {8079835414585082268 9 69} {101692925995105483 9 70} {1228327313770195539 9 71}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=71
-------------------------------------------------------------
term 9 Server2 start snapshot! index=69
term 9 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=71
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 56->55
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 55
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 40502 term 9 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=71
-------------------------------------------------------------
term 9 Server1 start snapshot! index=69
term 9 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=71
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8781217953672923081 (index 72) to leader 2
term 9 server 2 not vote for server 0, 日志不够新
term 9 server 1 not vote for server 0, 日志不够新
term 11 server 1 vote for server 2
term 11 server 0 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
term 11 server 2 get outdate rpc reply from server 0
flag 10320 term 11 leader 2 nextIndex[0]: 73  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 50629 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 73->72
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 73->72
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 56  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 37595 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 11 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 9 rf.commitIndex 69 rf.lastApplied 69
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91708 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 22346 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
flag 70781 term 11 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 92937 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72185 term 11 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 17286 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84222 term 11 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 72095 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
flag 64583 term 11 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 71771 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
flag 14318 term 11 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 73889 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71847 term 11 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 12851 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87575 term 11 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 2659 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28133 term 11 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 57329 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61007 term 11 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 49311 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41059 term 11 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 84358 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
flag 11335 term 11 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 57081 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
flag 85480 term 11 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 61506 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
flag 5974 term 11 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 99625 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
flag 63482 term 11 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 95341 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
flag 10038 term 11 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 52172 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
flag 90295 term 11 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 88054 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8781217953672923081 (index 73) to leader 2
term 11 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65722 term 11 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 93544 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72} {8781217953672923081 11 73}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72} {8781217953672923081 11 73}]
------------------------------------------------------
flag 84707 term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
flag 8599 term 11 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72} {8781217953672923081 11 73}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72} {8781217953672923081 11 73}]
------------------------------------------------------
flag 82866 term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
flag 14819 term 11 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72} {8781217953672923081 11 73}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72} {8781217953672923081 11 73}]
------------------------------------------------------
flag 64885 term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
flag 80359 term 11 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72} {8781217953672923081 11 73}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72} {8781217953672923081 11 73}]
------------------------------------------------------
flag 95987 term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
flag 29338 term 11 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72} {8781217953672923081 11 73}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72} {8781217953672923081 11 73}]
------------------------------------------------------
flag 70749 term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
flag 68188 term 11 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72} {8781217953672923081 11 73}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72} {8781217953672923081 11 73}]
------------------------------------------------------
flag 51063 term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
flag 87124 term 11 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72} {8781217953672923081 11 73}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72} {8781217953672923081 11 73}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2929698868141534118 (index 74) to leader 2
flag 50674 term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
flag 67535 term 11 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72} {8781217953672923081 11 73} {2929698868141534118 11 74}]
------------------------------------------------------
flag 23483 term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 93215 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72} {8781217953672923081 11 73} {2929698868141534118 11 74}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8028924642773185291 (index 75) to leader 2
client write log 8438705880566384193 (index 76) to leader 2
client write log 8079153395210172240 (index 77) to leader 2
client write log 2948804103825034772 (index 78) to leader 2
client write log 1290134773252114473 (index 79) to leader 2
client write log 1242529252069142356 (index 80) to leader 2
client write log 3969580928316875828 (index 81) to leader 2
client write log 7636302779079961363 (index 82) to leader 2
client write log 1642002809807587577 (index 83) to leader 2
client write log 2043683364325729595 (index 84) to leader 2
client write log 2565401331897264312 (index 85) to leader 2
client write log 7182520367640930782 (index 86) to leader 2
client write log 2615806962837172107 (index 87) to leader 2
client write log 3673508239004150663 (index 88) to leader 2
client write log 1734672506275376936 (index 89) to leader 2
flag 91434 term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 53693 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 9 69} {101692925995105483 9 70} {1228327313770195539 9 71} {8781217953672923081 9 72} {8781217953672923081 11 73} {2929698868141534118 11 74} {8028924642773185291 11 75} {8438705880566384193 11 76} {8079153395210172240 11 77} {2948804103825034772 11 78} {1290134773252114473 11 79} {1242529252069142356 11 80} {3969580928316875828 11 81} {7636302779079961363 11 82} {1642002809807587577 11 83} {2043683364325729595 11 84} {2565401331897264312 11 85} {7182520367640930782 11 86} {2615806962837172107 11 87} {3673508239004150663 11 88} {1734672506275376936 11 89}]
------------------------------------------------------
term 11 Server2 start snapshot! index=79
term 11 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=89
-------------------------------------------------------------
term 11 Server2 start snapshot! index=89
term 11 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
flag 3337 term 11 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 11 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
term 11 Server1 start snapshot! index=79
term 11 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=89
-------------------------------------------------------------
term 11 Server1 start snapshot! index=89
term 11 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
!!!!!!connect server 0
client write log 253235462316046215 (index 90) to leader 2
term 11 server 2 not vote for server 0, 日志不够新
term 11 server 1 not vote for server 0, 日志不够新
term 13 server 1 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 0 vote for server 2
term 13 server 2 become leader
------------------------------------------------------
term 13 server 2 get outdate rpc reply from server 0
flag 85624 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 19520 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 91->90
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 91->90
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 74  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
flag 94865 term 13 leader 2 nextIndex[1]: 90  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 11 rf.commitIndex 89 rf.lastApplied 89
term 13 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10464 term 13 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 64075 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
flag 55012 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 12776 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
flag 39668 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 81987 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
flag 23653 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 11312 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
flag 66126 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 80750 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
flag 29593 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 38587 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
flag 28318 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 57147 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
flag 48596 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 45302 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
flag 88973 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 25799 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
flag 36613 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 79375 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
flag 44220 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 19867 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
flag 24747 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 20834 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
flag 79902 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 33094 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
flag 6804 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 49900 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
flag 89528 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 344 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
flag 43376 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 88398 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
flag 19306 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 79971 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 11 89} {253235462316046215 11 90}]
------------------------------------------------------
client write log 253235462316046215 (index 91) to leader 2
flag 7573 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 31543 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
update leader CommitIndex=91
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91}]
------------------------------------------------------
flag 87277 term 13 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
flag 61313 term 13 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91}]
------------------------------------------------------
flag 99391 term 13 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
flag 91687 term 13 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91}]
------------------------------------------------------
flag 97938 term 13 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
flag 66888 term 13 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91}]
------------------------------------------------------
flag 47676 term 13 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
flag 76399 term 13 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91}]
------------------------------------------------------
flag 16145 term 13 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
flag 13075 term 13 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91}]
------------------------------------------------------
flag 62022 term 13 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
flag 15784 term 13 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
term 13 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 55288 term 13 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
flag 42482 term 13 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
flag 14931 term 13 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
flag 15632 term 13 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
flag 70785 term 13 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
flag 47230 term 13 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
flag 43534 term 13 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
flag 89711 term 13 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
term 14 server 0 vote for server 1
term 14 server 1 get vote from server 0
term 14 server 1 become leader
------------------------------------------------------
client write log 7409382568969521420 (index 92) to leader 1
flag 94329 term 14 leader 1 nextIndex[0]: 92  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
flag 96927 term 14 leader 1 nextIndex[2]: 92  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91} {7409382568969521420 14 92}]
------------------------------------------------------
flag 83769 term 13 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
flag 70891 term 13 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5684 term 14 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 14 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 29755 term 14 leader 1 nextIndex[2]: 92  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 92 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91} {7409382568969521420 14 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 92->91
------------------------------------------------------
client write log 4806419500259676533 (index 93) to leader 1
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 91
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
flag 88931 term 13 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
flag 797 term 14 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 14 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 88950 term 14 leader 1 nextIndex[2]: 92  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 92 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91} {7409382568969521420 14 92} {4806419500259676533 14 93}]
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 91
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
flag 77663 term 13 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 13 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 92->91
------------------------------------------------------
flag 25234 term 14 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 2260 term 14 leader 1 nextIndex[2]: 92  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91} {7409382568969521420 14 92} {4806419500259676533 14 93}]
------------------------------------------------------
!!!!!!connect server 2
client write log 2354091824601699481 (index 94) to leader 1
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 91
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 91
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
term 14 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89007 term 14 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 35580 term 14 leader 1 nextIndex[2]: 92  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91} {7409382568969521420 14 92} {4806419500259676533 14 93} {2354091824601699481 14 94}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91} {7409382568969521420 14 92} {4806419500259676533 14 93} {2354091824601699481 14 94}]
------------------------------------------------------
flag 10288 term 14 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 42126 term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91} {7409382568969521420 14 92} {4806419500259676533 14 93} {2354091824601699481 14 94}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91} {7409382568969521420 14 92} {4806419500259676533 14 93} {2354091824601699481 14 94}]
------------------------------------------------------
flag 79175 term 14 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 81542 term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91} {7409382568969521420 14 92} {4806419500259676533 14 93} {2354091824601699481 14 94}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91} {7409382568969521420 14 92} {4806419500259676533 14 93} {2354091824601699481 14 94}]
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38935 term 14 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 89772 term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91} {7409382568969521420 14 92} {4806419500259676533 14 93} {2354091824601699481 14 94}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91} {7409382568969521420 14 92} {4806419500259676533 14 93} {2354091824601699481 14 94}]
------------------------------------------------------
flag 51083 term 14 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 65931 term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91} {7409382568969521420 14 92} {4806419500259676533 14 93} {2354091824601699481 14 94}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91} {7409382568969521420 14 92} {4806419500259676533 14 93} {2354091824601699481 14 94}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16627 term 14 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 38101 term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91} {7409382568969521420 14 92} {4806419500259676533 14 93} {2354091824601699481 14 94}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91} {7409382568969521420 14 92} {4806419500259676533 14 93} {2354091824601699481 14 94}]
------------------------------------------------------
flag 3564 term 14 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 93875 term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91} {7409382568969521420 14 92} {4806419500259676533 14 93} {2354091824601699481 14 94}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91} {7409382568969521420 14 92} {4806419500259676533 14 93} {2354091824601699481 14 94}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1675133084276797225 (index 95) to leader 1
flag 72680 term 14 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 53621 term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91} {7409382568969521420 14 92} {4806419500259676533 14 93} {2354091824601699481 14 94} {1675133084276797225 14 95}]
------------------------------------------------------
flag 23409 term 14 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 14 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 35736 term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91} {7409382568969521420 14 92} {4806419500259676533 14 93} {2354091824601699481 14 94} {1675133084276797225 14 95}]
------------------------------------------------------
client write log 1518499168504492827 (index 96) to leader 1
client write log 4125859026266925888 (index 97) to leader 1
client write log 8740711214086253676 (index 98) to leader 1
client write log 1823912212981825412 (index 99) to leader 1
client write log 6002995383758811487 (index 100) to leader 1
client write log 5881518861873807165 (index 101) to leader 1
client write log 4625275709109435372 (index 102) to leader 1
client write log 545646940641275087 (index 103) to leader 1
client write log 1227686935359583142 (index 104) to leader 1
client write log 2656604778843065141 (index 105) to leader 1
flag 9140 term 14 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 14 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 7367 term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 89} {253235462316046215 11 90} {253235462316046215 13 91} {7409382568969521420 14 92} {4806419500259676533 14 93} {2354091824601699481 14 94} {1675133084276797225 14 95} {1518499168504492827 14 96} {4125859026266925888 14 97} {8740711214086253676 14 98} {1823912212981825412 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105}]
------------------------------------------------------
term 14 Server1 start snapshot! index=99
term 14 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=105
-------------------------------------------------------------
flag 34320 term 14 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 14 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105}]
------------------------------------------------------
term 14 Server0 start snapshot! index=99
term 14 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=105
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8528981320254819464 (index 106) to leader 1
flag 95947 term 14 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 14 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
term 15 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 vote for server 1
term 16 server 0 vote for server 1
term 16 server 1 get vote from server 2
term 16 server 1 become leader
------------------------------------------------------
term 16 server 1 get outdate rpc reply from server 0
flag 70429 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 69701 term 16 leader 1 nextIndex[2]: 107  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 107->106
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
flag 49538 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 0
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
term 16 server 2 InstallSnapshot success
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 14 rf.commitIndex 99 rf.lastApplied 99
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
flag 78205 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 74677 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
flag 47083 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 76435 term 16 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
flag 35422 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 34723 term 16 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12736 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 85832 term 16 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
flag 87769 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 18555 term 16 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 408 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 17918 term 16 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
flag 75109 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 8095 term 16 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39228 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 29271 term 16 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
flag 68025 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 50189 term 16 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69834 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 23092 term 16 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61543 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 15661 term 16 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
flag 45973 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 12799 term 16 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22243 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 39026 term 16 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25896 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 64426 term 16 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
flag 18540 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 44834 term 16 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78873 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 34743 term 16 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20013 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 48400 term 16 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106}]
------------------------------------------------------
client write log 8528981320254819464 (index 107) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95396 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 48395 term 16 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106} {8528981320254819464 16 107}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106} {8528981320254819464 16 107}]
------------------------------------------------------
flag 81296 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 55376 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106} {8528981320254819464 16 107}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106} {8528981320254819464 16 107}]
------------------------------------------------------
flag 73498 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 51277 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
term 16 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106} {8528981320254819464 16 107}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106} {8528981320254819464 16 107}]
------------------------------------------------------
flag 16995 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 66916 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106} {8528981320254819464 16 107}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106} {8528981320254819464 16 107}]
------------------------------------------------------
flag 268 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 59985 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106} {8528981320254819464 16 107}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106} {8528981320254819464 16 107}]
------------------------------------------------------
flag 40415 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 35715 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
term 16 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106} {8528981320254819464 16 107}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106} {8528981320254819464 16 107}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4000508369065627155 (index 108) to leader 1
flag 66781 term 16 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 11326 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106} {8528981320254819464 16 107} {4000508369065627155 16 108}]
------------------------------------------------------
flag 5268 term 16 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 16 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 77852 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106} {8528981320254819464 16 107} {4000508369065627155 16 108}]
------------------------------------------------------
client write log 7465780306511456060 (index 109) to leader 1
client write log 2795944599273903613 (index 110) to leader 1
client write log 6800331047951254464 (index 111) to leader 1
client write log 3019442441385835515 (index 112) to leader 1
client write log 4942312913082401138 (index 113) to leader 1
client write log 1555456729133791020 (index 114) to leader 1
flag 76004 term 16 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 16 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 81875 term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 14 99} {6002995383758811487 14 100} {5881518861873807165 14 101} {4625275709109435372 14 102} {545646940641275087 14 103} {1227686935359583142 14 104} {2656604778843065141 14 105} {8528981320254819464 14 106} {8528981320254819464 16 107} {4000508369065627155 16 108} {7465780306511456060 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114}]
------------------------------------------------------
term 16 Server1 start snapshot! index=109
term 16 server1 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=114
-------------------------------------------------------------
flag 46158 term 16 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 16 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
term 16 Server0 start snapshot! index=109
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114}]
------------------------------------------------------
term 16 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=114
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8289784690774959203 (index 115) to leader 1
flag 69085 term 16 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 16 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 17 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 0 vote for server 1
term 18 server 1 get outdate rpc reply from server 0
flag 20313 term 18 leader 1 nextIndex[0]: 116  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 90565 term 18 leader 1 nextIndex[2]: 116  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 116->115
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
term 18 server 2 not vote for server 1, 任期不够新
term 18 server 1 get outdate rpc reply from server 2
flag 51997 term 18 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 16 rf.commitIndex 109 rf.lastApplied 109
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
flag 40983 term 18 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 80564 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
flag 51860 term 18 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 54385 term 18 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
flag 16556 term 18 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 64889 term 18 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
term 18 server 0 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 0
flag 89965 term 18 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 50886 term 18 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
flag 96007 term 18 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 26840 term 18 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47139 term 18 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 21848 term 18 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
term 18 server 1 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36363 term 18 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 53540 term 18 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39188 term 18 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 23792 term 18 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
flag 25344 term 18 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 16588 term 18 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
flag 15403 term 18 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 31571 term 18 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
flag 22364 term 18 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 75738 term 18 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
flag 98873 term 18 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 76781 term 18 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
flag 49684 term 18 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 67952 term 18 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
flag 65676 term 18 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 77976 term 18 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
flag 38578 term 18 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 77757 term 18 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
flag 69665 term 18 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 23936 term 18 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50769 term 18 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 15527 term 18 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
client write log 8289784690774959203 (index 116) to leader 1
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115} {8289784690774959203 18 116}]
------------------------------------------------------
flag 5967 term 18 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
flag 85285 term 18 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 18 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
term 18 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115} {8289784690774959203 18 116}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115} {8289784690774959203 18 116}]
------------------------------------------------------
flag 22805 term 18 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
flag 68657 term 18 leader 1 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115} {8289784690774959203 18 116}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115} {8289784690774959203 18 116}]
------------------------------------------------------
flag 12625 term 18 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
flag 71812 term 18 leader 1 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115} {8289784690774959203 18 116}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115} {8289784690774959203 18 116}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70048 term 18 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
flag 51309 term 18 leader 1 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115} {8289784690774959203 18 116}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115} {8289784690774959203 18 116}]
------------------------------------------------------
flag 81539 term 18 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
flag 74772 term 18 leader 1 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115} {8289784690774959203 18 116}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115} {8289784690774959203 18 116}]
------------------------------------------------------
flag 85119 term 18 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
flag 78840 term 18 leader 1 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115} {8289784690774959203 18 116}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115} {8289784690774959203 18 116}]
------------------------------------------------------
flag 73553 term 18 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
flag 33026 term 18 leader 1 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115} {8289784690774959203 18 116}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115} {8289784690774959203 18 116}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 19144 term 18 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
flag 32634 term 18 leader 1 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
flag 82071 term 18 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
flag 44614 term 18 leader 1 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 117->116
------------------------------------------------------
flag 94630 term 18 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 0  matchIndex[2]: 116
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 19 server 0 vote for server 2
term 19 server 2 get vote from server 0
term 19 server 2 become leader
------------------------------------------------------
flag 50262 term 19 leader 2 nextIndex[0]: 117  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
flag 53464 term 19 leader 2 nextIndex[1]: 117  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115} {8289784690774959203 18 116}]
------------------------------------------------------
client write log 4457948773282986132 (index 117) to leader 2
flag 18446 term 18 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 0  matchIndex[2]: 116
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 45678 term 19 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 19 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
flag 23709 term 19 leader 2 nextIndex[1]: 117  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115} {8289784690774959203 18 116} {4457948773282986132 19 117}]
------------------------------------------------------
flag 30986 term 18 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 0  matchIndex[2]: 116
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27089 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 3044 term 19 leader 2 nextIndex[1]: 117  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115} {8289784690774959203 18 116} {4457948773282986132 19 117}]
------------------------------------------------------
flag 25150 term 18 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 0  matchIndex[2]: 116
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
client write log 5434860349965014372 (index 118) to leader 2
client write log 3126158026107624093 (index 119) to leader 2
client write log 7927595103541012534 (index 120) to leader 2
client write log 6392698676087414733 (index 121) to leader 2
client write log 6598095722729688884 (index 122) to leader 2
client write log 2537916445706701677 (index 123) to leader 2
client write log 261460850010426286 (index 124) to leader 2
flag 55565 term 19 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 23988 term 19 leader 2 nextIndex[1]: 117  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 109} {2795944599273903613 16 110} {6800331047951254464 16 111} {3019442441385835515 16 112} {4942312913082401138 16 113} {1555456729133791020 16 114} {8289784690774959203 16 115} {8289784690774959203 18 116} {4457948773282986132 19 117} {5434860349965014372 19 118} {3126158026107624093 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
term 19 Server2 start snapshot! index=119
term 19 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=124
-------------------------------------------------------------
flag 4495 term 18 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 0  matchIndex[2]: 116
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 35428 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 117  matchIndex[1]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
term 19 Server0 start snapshot! index=119
term 19 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=124
-------------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
!!!!!!connect server 1
client write log 426084443832497335 (index 117) to leader 1
flag 4965 term 18 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 18 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 18 leaderCommit: 116 
------------------------------------------------------
flag 98216 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 19 server 0 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 19 server 2 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93610 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 117  matchIndex[1]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 1 InstallSnapshot success
------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93744 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 18181 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
flag 80243 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 29611 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
term 19 server 0 not vote for server 2, 任期不够新
term 19 server 2 get outdate rpc reply from server 0
flag 85147 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 60267 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
flag 45875 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 17326 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33748 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 60086 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
flag 70894 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 31691 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
flag 97207 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 98528 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
term 19 server 1 not vote for server 2, 任期不够新
term 19 server 2 get outdate rpc reply from server 1
flag 1095 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 94036 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
flag 79885 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 35014 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
flag 36757 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 51528 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67567 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 95898 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83869 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 74768 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
flag 47568 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 29662 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59346 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 26211 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
flag 86970 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 46213 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
flag 6207 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 29933 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
flag 92980 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 21038 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16773 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 1536 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
flag 43661 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 73871 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124}]
------------------------------------------------------
client write log 426084443832497335 (index 125) to leader 2
flag 95218 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 1914 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124} {426084443832497335 19 125}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124} {426084443832497335 19 125}]
------------------------------------------------------
flag 49746 term 19 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 57113 term 19 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124} {426084443832497335 19 125}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124} {426084443832497335 19 125}]
------------------------------------------------------
flag 65966 term 19 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 43537 term 19 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124} {426084443832497335 19 125}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124} {426084443832497335 19 125}]
------------------------------------------------------
flag 5882 term 19 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 17072 term 19 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124} {426084443832497335 19 125}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124} {426084443832497335 19 125}]
------------------------------------------------------
flag 29569 term 19 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 32428 term 19 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124} {426084443832497335 19 125}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124} {426084443832497335 19 125}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40751 term 19 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 23206 term 19 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124} {426084443832497335 19 125}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124} {426084443832497335 19 125}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6208024043108479428 (index 126) to leader 2
flag 89664 term 19 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 72344 term 19 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124} {426084443832497335 19 125} {6208024043108479428 19 126}]
------------------------------------------------------
flag 9635 term 19 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 92898 term 19 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124} {426084443832497335 19 125} {6208024043108479428 19 126}]
------------------------------------------------------
client write log 6071572351537280357 (index 127) to leader 2
client write log 527055510524459993 (index 128) to leader 2
client write log 2565798185517315790 (index 129) to leader 2
client write log 4981107052027078473 (index 130) to leader 2
client write log 3056835421630731497 (index 131) to leader 2
client write log 7568976114583287485 (index 132) to leader 2
client write log 3975103329495067354 (index 133) to leader 2
client write log 3682225331244757936 (index 134) to leader 2
client write log 4797511499295380846 (index 135) to leader 2
client write log 741986461122980427 (index 136) to leader 2
client write log 6990044400363804104 (index 137) to leader 2
flag 983 term 19 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 19590 term 19 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 19 119} {7927595103541012534 19 120} {6392698676087414733 19 121} {6598095722729688884 19 122} {2537916445706701677 19 123} {261460850010426286 19 124} {426084443832497335 19 125} {6208024043108479428 19 126} {6071572351537280357 19 127} {527055510524459993 19 128} {2565798185517315790 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137}]
------------------------------------------------------
term 19 Server2 start snapshot! index=129
term 19 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=137
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 138->137
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 137
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 1 InstallSnapshot success
------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 19 rf.commitIndex 129 rf.lastApplied 129
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 12522 term 19 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 19 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 138->137
------------------------------------------------------
!!!!!!connect server 0
client write log 1418902693200091166 (index 138) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 126->125
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 125
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 137
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 137 args.LastIncludedIndex 129
------------------------------------------------------
term 20 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 1 vote for server 2
term 21 server 0 vote for server 2
term 21 server 2 get vote from server 1
term 21 server 2 become leader
------------------------------------------------------
term 21 server 2 get outdate rpc reply from server 0
flag 54942 term 21 leader 2 nextIndex[0]: 139  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 70269 term 21 leader 2 nextIndex[1]: 139  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 139->138
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 139->138
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 126  matchIndex[0]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 3441 term 21 leader 2 nextIndex[1]: 138  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 21 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 19 rf.commitIndex 129 rf.lastApplied 129
flag 21365 term 21 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 45069 term 21 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
flag 13205 term 21 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 85072 term 21 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42333 term 21 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 34709 term 21 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
flag 87886 term 21 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 46289 term 21 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
flag 50805 term 21 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 86150 term 21 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
flag 75506 term 21 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 56526 term 21 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
flag 77077 term 21 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 84037 term 21 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
flag 71735 term 21 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 70708 term 21 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
term 21 server 1 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 1
flag 13994 term 21 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 12857 term 21 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
flag 16053 term 21 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 57769 term 21 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
flag 56641 term 21 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 55624 term 21 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12667 term 21 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 94572 term 21 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9275 term 21 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 95264 term 21 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
term 21 server 2 not vote for server 0, 任期不够新
term 21 server 0 get outdate rpc reply from server 2
flag 60114 term 21 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 71337 term 21 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
flag 78441 term 21 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 45402 term 21 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
term 21 server 1 not vote for server 0, 任期不够新
term 21 server 0 get outdate rpc reply from server 1
flag 17078 term 21 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 62594 term 21 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
flag 53090 term 21 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 65797 term 21 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138}]
------------------------------------------------------
client write log 1418902693200091166 (index 139) to leader 2
flag 34183 term 21 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 48130 term 21 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138} {1418902693200091166 21 139}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 19 129} {4981107052027078473 19 130} {3056835421630731497 19 131} {7568976114583287485 19 132} {3975103329495067354 19 133} {3682225331244757936 19 134} {4797511499295380846 19 135} {741986461122980427 19 136} {6990044400363804104 19 137} {1418902693200091166 19 138} {1418902693200091166 21 139}]
------------------------------------------------------
term 21 Server2 start snapshot! index=139
term 21 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
flag 83217 term 21 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 3139 term 21 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 21 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
term 21 Server1 start snapshot! index=139
term 21 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
term 21 Server0 start snapshot! index=139
term 21 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
flag 54715 term 21 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 91618 term 21 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 21 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
flag 58061 term 21 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 97203 term 21 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 21 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
flag 661 term 21 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 99558 term 21 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 21 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
flag 23729 term 21 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 10618 term 21 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 21 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 0
client write log 2196500649629631861 (index 140) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17405 term 21 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 71021 term 21 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 21 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {2196500649629631861 21 140}]
------------------------------------------------------
flag 48606 term 21 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 52323 term 21 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 21 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {2196500649629631861 21 140}]
------------------------------------------------------
client write log 7174441642163089632 (index 141) to leader 2
client write log 8827124657239397158 (index 142) to leader 2
client write log 6763237020397873498 (index 143) to leader 2
client write log 8004938481205324017 (index 144) to leader 2
client write log 6367139963927087602 (index 145) to leader 2
client write log 7994547644452009009 (index 146) to leader 2
client write log 5991245511302128779 (index 147) to leader 2
client write log 4108356684679386406 (index 148) to leader 2
client write log 3108351691869949419 (index 149) to leader 2
client write log 2790443992372854073 (index 150) to leader 2
client write log 2307493831081292005 (index 151) to leader 2
flag 37107 term 21 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 74087 term 21 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 21 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 21 139} {2196500649629631861 21 140} {7174441642163089632 21 141} {8827124657239397158 21 142} {6763237020397873498 21 143} {8004938481205324017 21 144} {6367139963927087602 21 145} {7994547644452009009 21 146} {5991245511302128779 21 147} {4108356684679386406 21 148} {3108351691869949419 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151}]
------------------------------------------------------
term 21 Server2 start snapshot! index=149
term 21 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=151
-------------------------------------------------------------
term 21 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
flag 94268 term 21 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 21 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151}]
------------------------------------------------------
term 21 Server1 start snapshot! index=149
term 21 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=151
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3931625364828490295 (index 152) to leader 2
term 21 server 1 not vote for server 0, 日志不够新
term 21 server 2 not vote for server 0, 日志不够新
term 23 server 1 vote for server 2
term 23 server 2 get vote from server 1
term 23 server 0 vote for server 2
term 23 server 2 become leader
------------------------------------------------------
term 23 server 2 get outdate rpc reply from server 0
flag 52669 term 23 leader 2 nextIndex[0]: 153  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 34078 term 23 leader 2 nextIndex[1]: 153  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 153->152
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 153->152
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 0
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
flag 87619 term 23 leader 2 nextIndex[1]: 152  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
term 23 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 21 rf.commitIndex 149 rf.lastApplied 149
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
flag 39059 term 23 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 14967 term 23 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
flag 82581 term 23 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 67691 term 23 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
flag 43355 term 23 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 24370 term 23 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86378 term 23 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 47419 term 23 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
flag 10351 term 23 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 32194 term 23 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19609 term 23 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 2757 term 23 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
flag 97581 term 23 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 46933 term 23 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
flag 26685 term 23 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 30642 term 23 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
flag 92557 term 23 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 64569 term 23 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
flag 44626 term 23 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 61133 term 23 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
flag 63995 term 23 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 46425 term 23 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
flag 95496 term 23 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 51136 term 23 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
flag 47691 term 23 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 14658 term 23 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
flag 27408 term 23 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 59372 term 23 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55832 term 23 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 1178 term 23 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
flag 67828 term 23 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 97276 term 23 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
flag 12026 term 23 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 56781 term 23 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=151
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152}]
------------------------------------------------------
client write log 3931625364828490295 (index 153) to leader 2
flag 59516 term 23 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 84431 term 23 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152} {3931625364828490295 23 153}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152} {3931625364828490295 23 153}]
------------------------------------------------------
flag 68324 term 23 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
flag 42147 term 23 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152} {3931625364828490295 23 153}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152} {3931625364828490295 23 153}]
------------------------------------------------------
flag 28208 term 23 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
flag 37825 term 23 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152} {3931625364828490295 23 153}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152} {3931625364828490295 23 153}]
------------------------------------------------------
flag 24507 term 23 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
flag 25153 term 23 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152} {3931625364828490295 23 153}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152} {3931625364828490295 23 153}]
------------------------------------------------------
flag 58478 term 23 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
flag 48642 term 23 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152} {3931625364828490295 23 153}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152} {3931625364828490295 23 153}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2147 term 23 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
flag 45112 term 23 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152} {3931625364828490295 23 153}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152} {3931625364828490295 23 153}]
------------------------------------------------------
flag 51900 term 23 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
flag 46276 term 23 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152} {3931625364828490295 23 153}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152} {3931625364828490295 23 153}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 42445 term 23 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
flag 36773 term 23 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
flag 57449 term 23 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
flag 45061 term 23 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
flag 96703 term 23 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
flag 91329 term 23 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 1 vote for server 0
term 24 server 0 get vote from server 1
term 24 server 0 become leader
------------------------------------------------------
client write log 1767540870952336262 (index 154) to leader 0
flag 37223 term 24 leader 0 nextIndex[1]: 154  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
flag 65560 term 24 leader 0 nextIndex[2]: 154  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152} {3931625364828490295 23 153} {1767540870952336262 24 154}]
------------------------------------------------------
flag 5733 term 23 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
flag 69197 term 23 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
flag 87219 term 24 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 49419 term 24 leader 0 nextIndex[2]: 154  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152} {3931625364828490295 23 153} {1767540870952336262 24 154}]
------------------------------------------------------
flag 27303 term 23 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
flag 44580 term 23 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
client write log 4112663287264727898 (index 155) to leader 0
client write log 4535725888109891991 (index 156) to leader 0
client write log 6413826841323456960 (index 157) to leader 0
client write log 7432251118216766708 (index 158) to leader 0
client write log 1630027499725460004 (index 159) to leader 0
client write log 3933800473661988559 (index 160) to leader 0
client write log 5967046200501970927 (index 161) to leader 0
client write log 8744535327948579454 (index 162) to leader 0
flag 70846 term 24 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 64780 term 24 leader 0 nextIndex[2]: 154  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 21 149} {2790443992372854073 21 150} {2307493831081292005 21 151} {3931625364828490295 21 152} {3931625364828490295 23 153} {1767540870952336262 24 154} {4112663287264727898 24 155} {4535725888109891991 24 156} {6413826841323456960 24 157} {7432251118216766708 24 158} {1630027499725460004 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
flag 39273 term 23 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
flag 42918 term 23 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
term 24 Server0 start snapshot! index=159
term 24 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=162
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63859 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 154  matchIndex[2]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
flag 61060 term 23 leader 2 nextIndex[0]: 154  matchIndex[0]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
flag 72958 term 23 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 23 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
term 24 Server1 start snapshot! index=159
term 24 server1 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=162
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6290324246433942125 (index 154) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 154->153
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 154->153
------------------------------------------------------
flag 44516 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 2 InstallSnapshot success
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
term 24 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueServer2 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 24 rf.commitIndex 159 rf.lastApplied 159
update nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
flag 13315 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 3736 term 24 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
flag 36485 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 7991 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
flag 40140 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 60274 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92049 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 77626 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
flag 65992 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 33179 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76192 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 72484 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
flag 88440 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 7645 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60774 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 63118 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
flag 28559 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 74611 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
flag 89118 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 60705 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81744 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 79050 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
flag 3849 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 962 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
flag 66187 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 66177 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
flag 44820 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 21938 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
flag 75600 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 27210 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
flag 54689 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 45750 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
flag 93509 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 21508 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
flag 60249 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 41266 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
flag 34934 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 55848 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6290324246433942125 (index 163) to leader 0
flag 56741 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
flag 34061 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 24 leaderCommit: 162 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162} {6290324246433942125 24 163}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162} {6290324246433942125 24 163}]
------------------------------------------------------
flag 4901 term 24 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 24 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
flag 93309 term 24 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 24 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162} {6290324246433942125 24 163}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162} {6290324246433942125 24 163}]
------------------------------------------------------
flag 86313 term 24 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 24 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
flag 6124 term 24 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 24 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162} {6290324246433942125 24 163}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162} {6290324246433942125 24 163}]
------------------------------------------------------
flag 59013 term 24 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 24 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
flag 34136 term 24 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 24 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162} {6290324246433942125 24 163}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162} {6290324246433942125 24 163}]
------------------------------------------------------
flag 39191 term 24 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 24 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
flag 58178 term 24 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 24 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162} {6290324246433942125 24 163}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162} {6290324246433942125 24 163}]
------------------------------------------------------
flag 84510 term 24 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 24 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
flag 7112 term 24 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 24 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162} {6290324246433942125 24 163}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162} {6290324246433942125 24 163}]
------------------------------------------------------
term 24 server 2 not vote for server 0, 日志不够新
term 24 server 0 get outdate rpc reply from server 2
!!!!!!diconnect server 1
client write log 2676059139925624885 (index 164) to leader 0
flag 50024 term 24 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 24 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
flag 46644 term 24 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 24 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162} {6290324246433942125 24 163} {2676059139925624885 24 164}]
------------------------------------------------------
flag 69065 term 24 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 24 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 31639 term 24 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162} {6290324246433942125 24 163} {2676059139925624885 24 164}]
------------------------------------------------------
client write log 1645504983802595571 (index 165) to leader 0
client write log 8343002681206220266 (index 166) to leader 0
client write log 6585104617813047499 (index 167) to leader 0
client write log 4004464977773018866 (index 168) to leader 0
client write log 7364849397456251613 (index 169) to leader 0
client write log 9118036055840178016 (index 170) to leader 0
client write log 2767951607992435836 (index 171) to leader 0
client write log 8921903719805613072 (index 172) to leader 0
flag 82399 term 24 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 24 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 64653 term 24 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 24 159} {3933800473661988559 24 160} {5967046200501970927 24 161} {8744535327948579454 24 162} {6290324246433942125 24 163} {2676059139925624885 24 164} {1645504983802595571 24 165} {8343002681206220266 24 166} {6585104617813047499 24 167} {4004464977773018866 24 168} {7364849397456251613 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172}]
------------------------------------------------------
term 24 Server0 start snapshot! index=169
term 24 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=172
-------------------------------------------------------------
term 24 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 24
------------------------------------------------------
flag 72505 term 24 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 24 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172}]
------------------------------------------------------
term 24 Server2 start snapshot! index=169
term 24 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=172
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6997480394183065166 (index 173) to leader 0
term 24 server 2 not vote for server 1, 日志不够新
term 24 server 0 not vote for server 1, 日志不够新
term 26 server 2 vote for server 0
term 26 server 1 vote for server 0
term 26 server 0 get vote from server 1
term 26 server 0 become leader
------------------------------------------------------
term 26 server 0 get outdate rpc reply from server 2
flag 27534 term 26 leader 0 nextIndex[1]: 174  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 41812 term 26 leader 0 nextIndex[2]: 174  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 174->173
------------------------------------------------------
term 26 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 174->173
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 164  matchIndex[1]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 24
------------------------------------------------------
flag 18544 term 26 leader 0 nextIndex[2]: 173  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
term 26 server 1 InstallSnapshot success
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 24 rf.commitIndex 169 rf.lastApplied 169
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64787 term 26 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 26 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 44637 term 26 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94272 term 26 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 11702 term 26 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
flag 50038 term 26 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 94315 term 26 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
flag 678 term 26 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 27158 term 26 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42871 term 26 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 57043 term 26 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
flag 67496 term 26 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 46902 term 26 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87746 term 26 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 87787 term 26 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41109 term 26 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 72640 term 26 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
flag 64887 term 26 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 86598 term 26 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
flag 11141 term 26 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 34194 term 26 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93745 term 26 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 98862 term 26 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
flag 99515 term 26 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 81224 term 26 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55503 term 26 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 19140 term 26 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
flag 2112 term 26 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 2534 term 26 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
flag 40737 term 26 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 64099 term 26 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5116 term 26 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 2418 term 26 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
flag 37916 term 26 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 77607 term 26 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
flag 75633 term 26 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 42610 term 26 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173}]
------------------------------------------------------
client write log 6997480394183065166 (index 174) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48511 term 26 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 220 term 26 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173} {6997480394183065166 26 174}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173} {6997480394183065166 26 174}]
------------------------------------------------------
flag 66579 term 26 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 26 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
flag 33150 term 26 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 26 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
term 26 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173} {6997480394183065166 26 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173} {6997480394183065166 26 174}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54336 term 26 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 26 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
flag 45283 term 26 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 26 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173} {6997480394183065166 26 174}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173} {6997480394183065166 26 174}]
------------------------------------------------------
flag 62804 term 26 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 26 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
flag 55249 term 26 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 26 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173} {6997480394183065166 26 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173} {6997480394183065166 26 174}]
------------------------------------------------------
flag 59010 term 26 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 26 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
flag 51186 term 26 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 26 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173} {6997480394183065166 26 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173} {6997480394183065166 26 174}]
------------------------------------------------------
flag 21232 term 26 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 26 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
flag 26838 term 26 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 26 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173} {6997480394183065166 26 174}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173} {6997480394183065166 26 174}]
------------------------------------------------------
flag 80470 term 26 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 26 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
flag 26418 term 26 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 26 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173} {6997480394183065166 26 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173} {6997480394183065166 26 174}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3815952132061863136 (index 175) to leader 0
flag 98112 term 26 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 26 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
flag 78518 term 26 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 26 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173} {6997480394183065166 26 174} {3815952132061863136 26 175}]
------------------------------------------------------
flag 15365 term 26 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 26 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 30680 term 26 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 26 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173} {6997480394183065166 26 174} {3815952132061863136 26 175}]
------------------------------------------------------
client write log 3696359042490191569 (index 176) to leader 0
client write log 3545973174468205548 (index 177) to leader 0
client write log 101233232219611699 (index 178) to leader 0
client write log 740112486306216969 (index 179) to leader 0
client write log 997417995028868489 (index 180) to leader 0
client write log 570688773139564686 (index 181) to leader 0
client write log 2885717625401190878 (index 182) to leader 0
client write log 1551904309108702213 (index 183) to leader 0
client write log 8764989186811929726 (index 184) to leader 0
flag 50230 term 26 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 26 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 69350 term 26 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 26 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 169} {9118036055840178016 24 170} {2767951607992435836 24 171} {8921903719805613072 24 172} {6997480394183065166 24 173} {6997480394183065166 26 174} {3815952132061863136 26 175} {3696359042490191569 26 176} {3545973174468205548 26 177} {101233232219611699 26 178} {740112486306216969 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184}]
------------------------------------------------------
term 26 Server0 start snapshot! index=179
term 26 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=184
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 21768 term 26 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 26 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184}]
------------------------------------------------------
term 26 Server2 start snapshot! index=179
term 26 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=184
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4664295711036769164 (index 185) to leader 0
term 26 server 2 not vote for server 1, 日志不够新
term 26 server 0 not vote for server 1, 日志不够新
term 28 server 2 vote for server 0
term 28 server 0 get vote from server 2
term 28 server 0 become leader
------------------------------------------------------
term 28 server 1 vote for server 0
term 28 server 0 get outdate rpc reply from server 1
flag 29023 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 61849 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 186->185
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 186->185
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 175  matchIndex[1]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 52874 term 28 leader 0 nextIndex[2]: 185  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
term 28 server 1 InstallSnapshot success
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 26 rf.commitIndex 179 rf.lastApplied 179
flag 20237 term 28 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 43501 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14336 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 56546 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
flag 58946 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 34482 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
flag 26464 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 6051 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
flag 3350 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 32108 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2947 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 49874 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
flag 19029 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 39392 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
flag 3452 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 82 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
flag 41663 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 49818 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
flag 62221 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 87988 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
term 28 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
flag 20739 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 24344 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
flag 80058 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 72753 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
flag 84092 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 74550 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
flag 19232 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 41070 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
flag 6751 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 54722 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
flag 92993 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 60988 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
flag 3414 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 55687 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
flag 65624 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 53110 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185}]
------------------------------------------------------
client write log 4664295711036769164 (index 186) to leader 0
flag 36257 term 28 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 25494 term 28 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 28 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185} {4664295711036769164 28 186}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185} {4664295711036769164 28 186}]
------------------------------------------------------
flag 32631 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 51392 term 28 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185} {4664295711036769164 28 186}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185} {4664295711036769164 28 186}]
------------------------------------------------------
flag 61753 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 38369 term 28 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185} {4664295711036769164 28 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185} {4664295711036769164 28 186}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64452 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 13952 term 28 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185} {4664295711036769164 28 186}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185} {4664295711036769164 28 186}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29606 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 17626 term 28 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185} {4664295711036769164 28 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185} {4664295711036769164 28 186}]
------------------------------------------------------
flag 57052 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 47986 term 28 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185} {4664295711036769164 28 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185} {4664295711036769164 28 186}]
------------------------------------------------------
flag 15823 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 78164 term 28 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185} {4664295711036769164 28 186}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185} {4664295711036769164 28 186}]
------------------------------------------------------
!!!!!!diconnect server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51118 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 35212 term 28 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 68366 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 80869 term 28 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 26954 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 64682 term 28 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 39808 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 63524 term 28 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
term 29 server 1 vote for server 2
term 29 server 2 get vote from server 1
term 29 server 2 become leader
------------------------------------------------------
flag 64123 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 84099 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185} {4664295711036769164 28 186}]
------------------------------------------------------
client write log 4406514042676255185 (index 187) to leader 2
flag 7940 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 9768 term 28 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 27092 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 41032 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185} {4664295711036769164 28 186} {4406514042676255185 29 187}]
------------------------------------------------------
flag 45514 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 20303 term 28 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 31776 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 187 
------------------------------------------------------
flag 74870 term 29 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185} {4664295711036769164 28 186} {4406514042676255185 29 187}]
------------------------------------------------------
client write log 7835489852154784593 (index 188) to leader 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 187->186
------------------------------------------------------
flag 15987 term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 28 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
term 28 leader 0 nextIndex[2]: 0  matchIndex[2]: 186
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 18545 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 187 
------------------------------------------------------
flag 2592 term 29 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185} {4664295711036769164 28 186} {4406514042676255185 29 187} {7835489852154784593 29 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 187->186
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 0  matchIndex[1]: 186
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
term 28 leader 0 nextIndex[2]: 0  matchIndex[2]: 186
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 61999 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 188 
------------------------------------------------------
flag 9924 term 29 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 29 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185} {4664295711036769164 28 186} {4406514042676255185 29 187} {7835489852154784593 29 188}]
------------------------------------------------------
!!!!!!connect server 0
client write log 3705303565514953299 (index 189) to leader 2
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 0  matchIndex[1]: 186
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
term 28 leader 0 nextIndex[2]: 0  matchIndex[2]: 186
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
term 29 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89942 term 29 leader 2 nextIndex[0]: 187  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 28 leaderCommit: 188 
------------------------------------------------------
flag 66445 term 29 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 29 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185} {4664295711036769164 28 186} {4406514042676255185 29 187} {7835489852154784593 29 188} {3705303565514953299 29 189}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 179} {997417995028868489 26 180} {570688773139564686 26 181} {2885717625401190878 26 182} {1551904309108702213 26 183} {8764989186811929726 26 184} {4664295711036769164 26 185} {4664295711036769164 28 186} {4406514042676255185 29 187} {7835489852154784593 29 188} {3705303565514953299 29 189}]
------------------------------------------------------
term 29 Server2 start snapshot! index=189
term 29 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
flag 65734 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 62292 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 29 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 29 189}]
------------------------------------------------------
term 29 Server1 start snapshot! index=189
term 29 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
term 29 Server0 start snapshot! index=189
term 29 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
flag 1150 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 66675 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 29 189}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 29 189}]
------------------------------------------------------
flag 49156 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 13830 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 29 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 29 189}]
------------------------------------------------------
flag 82096 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 48915 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 29 189}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 29 189}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15211 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 43511 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 29 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 29 189}]
------------------------------------------------------
flag 88491 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 49953 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 29 189}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 29 189}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3516509152985302917 (index 190) to leader 2
flag 12646 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
flag 44769 term 29 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {3516509152985302917 29 190}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21528 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 78349 term 29 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {3516509152985302917 29 190}]
------------------------------------------------------
client write log 942457081880177351 (index 191) to leader 2
client write log 3274644677499124713 (index 192) to leader 2
client write log 50760805192912080 (index 193) to leader 2
client write log 7874707657533870727 (index 194) to leader 2
client write log 2618658625442449807 (index 195) to leader 2
client write log 2131586904405623434 (index 196) to leader 2
client write log 9097346619335191015 (index 197) to leader 2
client write log 367568207407422406 (index 198) to leader 2
client write log 5927027678614630997 (index 199) to leader 2
client write log 2703427682612875599 (index 200) to leader 2
client write log 8819333974736113505 (index 201) to leader 2
client write log 4033878966962148102 (index 202) to leader 2
flag 74314 term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 47012 term 29 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 189} {3516509152985302917 29 190} {942457081880177351 29 191} {3274644677499124713 29 192} {50760805192912080 29 193} {7874707657533870727 29 194} {2618658625442449807 29 195} {2131586904405623434 29 196} {9097346619335191015 29 197} {367568207407422406 29 198} {5927027678614630997 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202}]
------------------------------------------------------
term 29 Server2 start snapshot! index=199
term 29 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=202
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
flag 30292 term 29 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 29 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202}]
------------------------------------------------------
term 29 Server1 start snapshot! index=199
term 29 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=202
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7239231021643507511 (index 203) to leader 2
term 29 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
flag 73669 term 29 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 29 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202} {7239231021643507511 29 203}]
------------------------------------------------------
term 30 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 server 1 vote for server 2
term 31 server 0 vote for server 2
term 31 server 2 get vote from server 1
term 31 server 2 become leader
------------------------------------------------------
term 31 server 2 get outdate rpc reply from server 0
flag 8471 term 31 leader 2 nextIndex[0]: 204  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
flag 28138 term 31 leader 2 nextIndex[1]: 204  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 204->203
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202} {7239231021643507511 29 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 190  matchIndex[0]: 0
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
flag 48050 term 31 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 31 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
term 31 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 29 rf.commitIndex 199 rf.lastApplied 199
term 31 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 200 matchIndex[0] 199 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202} {7239231021643507511 29 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4320 term 31 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
flag 84219 term 31 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 31 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202} {7239231021643507511 29 203}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202} {7239231021643507511 29 203}]
------------------------------------------------------
flag 49790 term 31 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
flag 84478 term 31 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 31 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202} {7239231021643507511 29 203}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202} {7239231021643507511 29 203}]
------------------------------------------------------
flag 25451 term 31 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
flag 47488 term 31 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 31 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202} {7239231021643507511 29 203}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202} {7239231021643507511 29 203}]
------------------------------------------------------
term 31 server 1 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 1
flag 12345 term 31 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
flag 97751 term 31 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 31 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202} {7239231021643507511 29 203}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202} {7239231021643507511 29 203}]
------------------------------------------------------
flag 11700 term 31 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
flag 68704 term 31 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 31 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202} {7239231021643507511 29 203}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202} {7239231021643507511 29 203}]
------------------------------------------------------
flag 10210 term 31 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
flag 37755 term 31 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 31 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202} {7239231021643507511 29 203}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202} {7239231021643507511 29 203}]
------------------------------------------------------
flag 16196 term 31 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
flag 76311 term 31 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 31 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202} {7239231021643507511 29 203}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202} {7239231021643507511 29 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8089502728503363882 (index 204) to leader 2
flag 60354 term 31 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
flag 85528 term 31 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 31 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202} {7239231021643507511 29 203} {8089502728503363882 31 204}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63110 term 31 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 204 
------------------------------------------------------
flag 1562 term 31 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 31 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202} {7239231021643507511 29 203} {8089502728503363882 31 204}]
------------------------------------------------------
client write log 1230493643863080876 (index 205) to leader 2
client write log 1952034086811810938 (index 206) to leader 2
client write log 2169375365996037855 (index 207) to leader 2
client write log 2250082422842742492 (index 208) to leader 2
client write log 6907673039659482088 (index 209) to leader 2
client write log 3661145479932932967 (index 210) to leader 2
client write log 6524054737289943593 (index 211) to leader 2
client write log 5196719946575600142 (index 212) to leader 2
client write log 1544651331615360813 (index 213) to leader 2
client write log 3843348354507044533 (index 214) to leader 2
client write log 6026002102533829531 (index 215) to leader 2
client write log 2572327633825049695 (index 216) to leader 2
client write log 4407127117571857375 (index 217) to leader 2
flag 55814 term 31 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 204 
------------------------------------------------------
flag 11713 term 31 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 31 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 29 199} {2703427682612875599 29 200} {8819333974736113505 29 201} {4033878966962148102 29 202} {7239231021643507511 29 203} {8089502728503363882 31 204} {1230493643863080876 31 205} {1952034086811810938 31 206} {2169375365996037855 31 207} {2250082422842742492 31 208} {6907673039659482088 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217}]
------------------------------------------------------
term 31 Server2 start snapshot! index=209
term 31 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=217
-------------------------------------------------------------
term 31 leader 2 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 34061 term 31 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217}]
------------------------------------------------------
term 31 Server1 start snapshot! index=209
term 31 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=217
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4999213452179750473 (index 218) to leader 2
term 31 server 2 not vote for server 0, 日志不够新
term 31 server 1 not vote for server 0, 日志不够新
term 33 server 0 vote for server 2
term 33 server 2 get vote from server 0
term 33 server 2 become leader
------------------------------------------------------
term 33 server 1 vote for server 2
term 33 server 2 get outdate rpc reply from server 1
flag 58737 term 33 leader 2 nextIndex[0]: 219  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
flag 67161 term 33 leader 2 nextIndex[1]: 219  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 219->218
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 219->218
------------------------------------------------------
term 33 leader 2 nextIndex[0]: 204  matchIndex[0]: 0
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 2929 term 33 leader 2 nextIndex[1]: 218  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
term 33 server 0 InstallSnapshot success
------------------------------------------------------
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 31 rf.commitIndex 209 rf.lastApplied 209
term 33 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12055 term 33 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 33 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
flag 22148 term 33 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
flag 82573 term 33 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
flag 97284 term 33 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
flag 7938 term 33 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
flag 89124 term 33 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
flag 35683 term 33 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
flag 32023 term 33 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47951 term 33 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
flag 93821 term 33 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
flag 92191 term 33 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
flag 26957 term 33 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
flag 67620 term 33 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
flag 96946 term 33 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
flag 13082 term 33 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
flag 86503 term 33 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
flag 27758 term 33 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
flag 71640 term 33 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
flag 25899 term 33 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
flag 13921 term 33 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
flag 30235 term 33 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
flag 37284 term 33 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65811 term 33 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
flag 48810 term 33 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
flag 45981 term 33 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
flag 23867 term 33 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
flag 2099 term 33 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
flag 13959 term 33 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
flag 8179 term 33 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
flag 98872 term 33 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
term 33 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
flag 60758 term 33 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
flag 77961 term 33 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
term 33 server 0 not vote for server 2, 任期不够新
term 33 server 2 get outdate rpc reply from server 0
flag 55507 term 33 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
flag 51002 term 33 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4999213452179750473 (index 219) to leader 2
flag 90830 term 33 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
flag 32720 term 33 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 33 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 217 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218} {4999213452179750473 33 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 209} {3661145479932932967 31 210} {6524054737289943593 31 211} {5196719946575600142 31 212} {1544651331615360813 31 213} {3843348354507044533 31 214} {6026002102533829531 31 215} {2572327633825049695 31 216} {4407127117571857375 31 217} {4999213452179750473 31 218} {4999213452179750473 33 219}]
------------------------------------------------------
term 33 Server2 start snapshot! index=219
term 33 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48974 term 33 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
flag 62429 term 33 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 33 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 33 219}]
------------------------------------------------------
term 33 Server1 start snapshot! index=219
term 33 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
term 33 Server0 start snapshot! index=219
term 33 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 96679 term 33 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
flag 80165 term 33 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 33 219}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 33 219}]
------------------------------------------------------
flag 16267 term 33 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
flag 52983 term 33 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 33 219}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 33 219}]
------------------------------------------------------
flag 80958 term 33 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
flag 147 term 33 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 33 219}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 33 219}]
------------------------------------------------------
flag 87319 term 33 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
flag 90641 term 33 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 33 219}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 33 219}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 2 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 2
!!!!!!diconnect server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81760 term 33 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
flag 71433 term 33 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
flag 18228 term 33 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
flag 60855 term 33 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4011 term 33 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
flag 84357 term 33 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 0 vote for server 1
term 34 server 1 get vote from server 0
term 34 server 1 become leader
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95702 term 33 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
flag 6653 term 33 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
flag 78620 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
flag 11780 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 33 219}]
------------------------------------------------------
client write log 3737786258717019885 (index 220) to leader 1
flag 19399 term 33 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
flag 78613 term 33 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
flag 42273 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
flag 87249 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 33 219} {3737786258717019885 34 220}]
------------------------------------------------------
flag 69111 term 33 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
flag 54060 term 33 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
flag 74590 term 34 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 52938 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 220 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 33 219} {3737786258717019885 34 220}]
------------------------------------------------------
client write log 2384040026117906490 (index 221) to leader 1
flag 80502 term 33 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
flag 37350 term 33 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
flag 13954 term 34 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 34 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 99557 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 220 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 33 219} {3737786258717019885 34 220} {2384040026117906490 34 221}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95813 term 33 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
flag 89926 term 33 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
flag 10143 term 34 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 34 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 4459 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 221 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 33 219} {3737786258717019885 34 220} {2384040026117906490 34 221}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3507439253992128198 (index 222) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 220->219
------------------------------------------------------
flag 54433 term 33 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 219 
------------------------------------------------------
term 33 leader 2 nextIndex[1]: 0  matchIndex[1]: 219
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 33
------------------------------------------------------
term 34 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 0 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55697 term 34 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 34 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 35164 term 34 leader 1 nextIndex[2]: 220  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 33 leaderCommit: 221 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {3737786258717019885 34 220} {2384040026117906490 34 221} {3507439253992128198 34 222}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {3737786258717019885 34 220} {2384040026117906490 34 221} {3507439253992128198 34 222}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72445 term 34 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
flag 23291 term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {3737786258717019885 34 220} {2384040026117906490 34 221} {3507439253992128198 34 222}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {3737786258717019885 34 220} {2384040026117906490 34 221} {3507439253992128198 34 222}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81820 term 34 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
flag 20828 term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {3737786258717019885 34 220} {2384040026117906490 34 221} {3507439253992128198 34 222}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {3737786258717019885 34 220} {2384040026117906490 34 221} {3507439253992128198 34 222}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53507 term 34 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
flag 47709 term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {3737786258717019885 34 220} {2384040026117906490 34 221} {3507439253992128198 34 222}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {3737786258717019885 34 220} {2384040026117906490 34 221} {3507439253992128198 34 222}]
------------------------------------------------------
flag 84610 term 34 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
flag 62990 term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {3737786258717019885 34 220} {2384040026117906490 34 221} {3507439253992128198 34 222}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {3737786258717019885 34 220} {2384040026117906490 34 221} {3507439253992128198 34 222}]
------------------------------------------------------
flag 34390 term 34 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
flag 6271 term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {3737786258717019885 34 220} {2384040026117906490 34 221} {3507439253992128198 34 222}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {3737786258717019885 34 220} {2384040026117906490 34 221} {3507439253992128198 34 222}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31131 term 34 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
flag 77391 term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {3737786258717019885 34 220} {2384040026117906490 34 221} {3507439253992128198 34 222}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 33 219} {3737786258717019885 34 220} {2384040026117906490 34 221} {3507439253992128198 34 222}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6747659244133568055 (index 223) to leader 1
flag 95069 term 34 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
flag 18008 term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 33 219} {3737786258717019885 34 220} {2384040026117906490 34 221} {3507439253992128198 34 222} {6747659244133568055 34 223}]
------------------------------------------------------
flag 82245 term 34 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 34 leaderCommit: 223 
------------------------------------------------------
flag 49916 term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 223 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 33 219} {3737786258717019885 34 220} {2384040026117906490 34 221} {3507439253992128198 34 222} {6747659244133568055 34 223}]
------------------------------------------------------
client write log 3959748161657422414 (index 224) to leader 1
client write log 8642296382698044092 (index 225) to leader 1
client write log 5954114647028744011 (index 226) to leader 1
client write log 5344371667106188738 (index 227) to leader 1
client write log 8202895639768149097 (index 228) to leader 1
client write log 7052728576454865293 (index 229) to leader 1
client write log 2127715231111590225 (index 230) to leader 1
flag 66629 term 34 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 34 leaderCommit: 223 
------------------------------------------------------
flag 30434 term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 223 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 33 219} {3737786258717019885 34 220} {2384040026117906490 34 221} {3507439253992128198 34 222} {6747659244133568055 34 223} {3959748161657422414 34 224} {8642296382698044092 34 225} {5954114647028744011 34 226} {5344371667106188738 34 227} {8202895639768149097 34 228} {7052728576454865293 34 229} {2127715231111590225 34 230}]
------------------------------------------------------
term 34 Server1 start snapshot! index=229
term 34 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
flag 16637 term 34 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 34 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230}]
------------------------------------------------------
term 34 Server0 start snapshot! index=229
term 34 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=230
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7092504714407591474 (index 231) to leader 1
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 1 not vote for server 2, 日志不够新
term 34 server 0 not vote for server 2, 日志不够新
term 36 server 2 vote for server 1
term 36 server 0 vote for server 1
term 36 server 1 get vote from server 2
term 36 server 1 become leader
------------------------------------------------------
term 36 server 1 get outdate rpc reply from server 0
flag 56526 term 36 leader 1 nextIndex[0]: 232  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
flag 51972 term 36 leader 1 nextIndex[2]: 232  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 36 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 232->231
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 232->231
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53918 term 36 leader 1 nextIndex[0]: 231  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 223  matchIndex[2]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 36 server 2 InstallSnapshot success
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 34 rf.commitIndex 229 rf.lastApplied 229
term 36 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
flag 48265 term 36 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
flag 76112 term 36 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 36 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
flag 56004 term 36 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
flag 78613 term 36 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28724 term 36 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
flag 1313 term 36 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40101 term 36 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
flag 79887 term 36 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
flag 62357 term 36 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
flag 67372 term 36 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
flag 48096 term 36 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
flag 21427 term 36 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1134 term 36 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
flag 41621 term 36 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
flag 3249 term 36 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
flag 77994 term 36 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
flag 1024 term 36 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
flag 83650 term 36 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37255 term 36 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
flag 88572 term 36 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
flag 33609 term 36 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
flag 49772 term 36 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
flag 77925 term 36 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
flag 64181 term 36 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
flag 9046 term 36 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
flag 94033 term 36 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99322 term 36 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
flag 31897 term 36 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22328 term 36 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
flag 95734 term 36 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
flag 64166 term 36 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
flag 36168 term 36 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
flag 2702 term 36 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
flag 57067 term 36 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
flag 53752 term 36 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
flag 79098 term 36 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231}]
------------------------------------------------------
client write log 7092504714407591474 (index 232) to leader 1
flag 64272 term 36 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
flag 8706 term 36 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 36 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 230 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231} {7092504714407591474 36 232}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231} {7092504714407591474 36 232}]
------------------------------------------------------
flag 61134 term 36 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 36 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 36 leaderCommit: 232 
------------------------------------------------------
flag 57315 term 36 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 36 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 36 leaderCommit: 232 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231} {7092504714407591474 36 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231} {7092504714407591474 36 232}]
------------------------------------------------------
flag 32444 term 36 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 36 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 36 leaderCommit: 232 
------------------------------------------------------
flag 72312 term 36 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 36 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 36 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231} {7092504714407591474 36 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231} {7092504714407591474 36 232}]
------------------------------------------------------
term 36 server 2 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 2
flag 67107 term 36 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 36 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 36 leaderCommit: 232 
------------------------------------------------------
flag 23949 term 36 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 36 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 36 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231} {7092504714407591474 36 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231} {7092504714407591474 36 232}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45697 term 36 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 36 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 36 leaderCommit: 232 
------------------------------------------------------
flag 42508 term 36 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 36 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 36 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231} {7092504714407591474 36 232}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231} {7092504714407591474 36 232}]
------------------------------------------------------
flag 69873 term 36 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 36 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 36 leaderCommit: 232 
------------------------------------------------------
flag 45686 term 36 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 36 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 36 leaderCommit: 232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231} {7092504714407591474 36 232}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231} {7092504714407591474 36 232}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50066 term 36 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 36 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 36 leaderCommit: 232 
------------------------------------------------------
flag 48037 term 36 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 36 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 36 leaderCommit: 232 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231} {7092504714407591474 36 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231} {7092504714407591474 36 232}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8396520033835635476 (index 233) to leader 1
flag 3292 term 36 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 36 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 36 leaderCommit: 232 
------------------------------------------------------
flag 35976 term 36 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 36 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 36 leaderCommit: 232 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231} {7092504714407591474 36 232} {8396520033835635476 36 233}]
------------------------------------------------------
flag 36309 term 36 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 29576 term 36 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 36 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231} {7092504714407591474 36 232} {8396520033835635476 36 233}]
------------------------------------------------------
client write log 8323946460157875386 (index 234) to leader 1
client write log 3938469404070877264 (index 235) to leader 1
client write log 7806732895905555932 (index 236) to leader 1
client write log 5326924684780330400 (index 237) to leader 1
client write log 4278899132877511269 (index 238) to leader 1
client write log 8354526303179517295 (index 239) to leader 1
client write log 822413355888613516 (index 240) to leader 1
client write log 5734561743537411322 (index 241) to leader 1
client write log 5859611530087985474 (index 242) to leader 1
client write log 5755131914407651183 (index 243) to leader 1
client write log 7438943310600890902 (index 244) to leader 1
client write log 6551239038732977617 (index 245) to leader 1
client write log 2121077553036644419 (index 246) to leader 1
flag 94054 term 36 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
flag 85725 term 36 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 36 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 34 229} {2127715231111590225 34 230} {7092504714407591474 34 231} {7092504714407591474 36 232} {8396520033835635476 36 233} {8323946460157875386 36 234} {3938469404070877264 36 235} {7806732895905555932 36 236} {5326924684780330400 36 237} {4278899132877511269 36 238} {8354526303179517295 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246}]
------------------------------------------------------
term 36 Server1 start snapshot! index=239
term 36 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=246
-------------------------------------------------------------
flag 54870 term 36 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 36 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246}]
------------------------------------------------------
term 36 Server0 start snapshot! index=239
term 36 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=246
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3950426364619365353 (index 247) to leader 1
term 36 server 1 not vote for server 2, 日志不够新
term 36 server 0 not vote for server 2, 日志不够新
term 38 server 2 vote for server 1
term 38 server 0 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
term 38 server 1 get outdate rpc reply from server 0
flag 37447 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 69309 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 248->247
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 248->247
------------------------------------------------------
flag 87691 term 38 leader 1 nextIndex[0]: 247  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 233  matchIndex[2]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 38 server 2 InstallSnapshot success
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 36 rf.commitIndex 239 rf.lastApplied 239
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5239 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 47321 term 38 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
flag 72119 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 84183 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
flag 94532 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 69199 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
flag 85952 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 73073 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
flag 63034 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 64460 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22955 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 28420 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
flag 47663 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 63914 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15919 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 86369 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45204 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 3568 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49545 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 32671 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
flag 61855 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 4217 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57661 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 8333 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
flag 92828 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 45368 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
flag 69094 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 16232 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58008 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 75844 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
flag 60400 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 99246 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13932 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 12988 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
flag 38087 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 20100 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247}]
------------------------------------------------------
client write log 3950426364619365353 (index 248) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11339 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 22269 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247} {3950426364619365353 38 248}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247} {3950426364619365353 38 248}]
------------------------------------------------------
flag 40318 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 53167 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247} {3950426364619365353 38 248}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247} {3950426364619365353 38 248}]
------------------------------------------------------
flag 50301 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 63871 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247} {3950426364619365353 38 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247} {3950426364619365353 38 248}]
------------------------------------------------------
flag 81519 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 75363 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247} {3950426364619365353 38 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247} {3950426364619365353 38 248}]
------------------------------------------------------
flag 6604 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 97731 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247} {3950426364619365353 38 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247} {3950426364619365353 38 248}]
------------------------------------------------------
flag 69248 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 67245 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247} {3950426364619365353 38 248}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247} {3950426364619365353 38 248}]
------------------------------------------------------
flag 35965 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 76900 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247} {3950426364619365353 38 248}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247} {3950426364619365353 38 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
flag 65335 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 57290 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38032 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 49006 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4879 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 56178 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 39 server 0 vote for server 2
term 39 server 2 get vote from server 0
term 39 server 2 become leader
------------------------------------------------------
flag 82943 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 68602 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 45451 term 39 leader 2 nextIndex[0]: 249  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 93041 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247} {3950426364619365353 38 248}]
------------------------------------------------------
client write log 1980689762012142160 (index 249) to leader 2
flag 78054 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 30322 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 94810 term 39 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 94076 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 239} {822413355888613516 36 240} {5734561743537411322 36 241} {5859611530087985474 36 242} {5755131914407651183 36 243} {7438943310600890902 36 244} {6551239038732977617 36 245} {2121077553036644419 36 246} {3950426364619365353 36 247} {3950426364619365353 38 248} {1980689762012142160 39 249}]
------------------------------------------------------
term 39 Server2 start snapshot! index=249
term 39 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 92569 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 53904 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 44473 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 Server0 start snapshot! index=249
term 39 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
client write log 2529404258328657808 (index 250) to leader 2
client write log 5037171947133125866 (index 251) to leader 2
client write log 4721042940695105367 (index 252) to leader 2
client write log 7825615352863908193 (index 253) to leader 2
client write log 5754723345416355046 (index 254) to leader 2
client write log 5050933229801464698 (index 255) to leader 2
client write log 1468737866451016237 (index 256) to leader 2
client write log 884534468813993439 (index 257) to leader 2
client write log 7588198322464287754 (index 258) to leader 2
client write log 4402409756290190684 (index 259) to leader 2
client write log 2267055625636334307 (index 260) to leader 2
client write log 7756437113571204988 (index 261) to leader 2
client write log 4228248120236560017 (index 262) to leader 2
client write log 8800689412207196797 (index 263) to leader 2
flag 40793 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 98938 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 31388 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 249} {2529404258328657808 39 250} {5037171947133125866 39 251} {4721042940695105367 39 252} {7825615352863908193 39 253} {5754723345416355046 39 254} {5050933229801464698 39 255} {1468737866451016237 39 256} {884534468813993439 39 257} {7588198322464287754 39 258} {4402409756290190684 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
term 39 Server2 start snapshot! index=259
term 39 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=263
-------------------------------------------------------------
flag 60906 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 39494 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 79662 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
term 39 Server0 start snapshot! index=259
term 39 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=263
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3076884126863774762 (index 249) to leader 1
flag 66310 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 57286 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 39 server 2 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 39 server 0 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94878 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 1 InstallSnapshot success
------------------------------------------------------
term 39 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 39 rf.commitIndex 259 rf.lastApplied 259
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
flag 49384 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 60075 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
flag 8460 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 96103 term 39 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
flag 17047 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 45168 term 39 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
flag 16878 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 9407 term 39 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
flag 56051 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 60524 term 39 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
term 39 server 1 not vote for server 2, 日志不够新
term 39 server 2 get outdate rpc reply from server 1
flag 88231 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 73898 term 39 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
flag 55315 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 35957 term 39 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
flag 60899 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 2059 term 39 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
flag 79094 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 526 term 39 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
flag 37892 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 81715 term 39 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
flag 6013 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 22921 term 39 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
flag 57258 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 79758 term 39 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
flag 11668 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 50131 term 39 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
flag 25700 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 8803 term 39 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
flag 45712 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 70092 term 39 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
flag 38449 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 19205 term 39 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
flag 12834 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 60344 term 39 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1842 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 71541 term 39 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
flag 38111 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 54670 term 39 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263}]
------------------------------------------------------
client write log 3076884126863774762 (index 264) to leader 2
flag 81241 term 39 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 3505 term 39 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 39 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:263 
term 39 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263} {3076884126863774762 39 264}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263} {3076884126863774762 39 264}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21012 term 39 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 39 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
flag 71064 term 39 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 39 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263} {3076884126863774762 39 264}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263} {3076884126863774762 39 264}]
------------------------------------------------------
term 39 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
flag 78869 term 39 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 39 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
flag 33395 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263} {3076884126863774762 39 264}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263} {3076884126863774762 39 264}]
------------------------------------------------------
flag 48071 term 39 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 39 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
flag 3356 term 39 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 39 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263} {3076884126863774762 39 264}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263} {3076884126863774762 39 264}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57544 term 39 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 39 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
flag 63532 term 39 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 39 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263} {3076884126863774762 39 264}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263} {3076884126863774762 39 264}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20180 term 39 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 39 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
flag 41224 term 39 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 39 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263} {3076884126863774762 39 264}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263} {3076884126863774762 39 264}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 891693116602697326 (index 265) to leader 2
flag 2521 term 39 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 39 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
flag 49994 term 39 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 39 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263} {3076884126863774762 39 264} {891693116602697326 39 265}]
------------------------------------------------------
flag 12791 term 39 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 39 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 265 
------------------------------------------------------
flag 31532 term 39 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 39 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 39 leaderCommit: 265 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263} {3076884126863774762 39 264} {891693116602697326 39 265}]
------------------------------------------------------
client write log 5217419639284020772 (index 266) to leader 2
client write log 2214513249434181487 (index 267) to leader 2
client write log 14094348500126526 (index 268) to leader 2
client write log 766273030314214234 (index 269) to leader 2
client write log 3700496544790110229 (index 270) to leader 2
client write log 2807791044710964927 (index 271) to leader 2
client write log 1738768821197284379 (index 272) to leader 2
client write log 2970180498839410786 (index 273) to leader 2
client write log 3746453493698796484 (index 274) to leader 2
client write log 7519365095451700386 (index 275) to leader 2
client write log 3016593984248995502 (index 276) to leader 2
client write log 3574761889065008841 (index 277) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 266->265
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19421 term 39 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 39 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 265 
------------------------------------------------------
term 39 leader 2 nextIndex[1]: 0  matchIndex[1]: 265
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 1 InstallSnapshot fail
rf.commitIndex 265 args.LastIncludedIndex 259
------------------------------------------------------
term 39 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
flag 76098 term 39 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 39 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 39 leaderCommit: 265 
------------------------------------------------------
flag 44677 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 265 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 39 259} {2267055625636334307 39 260} {7756437113571204988 39 261} {4228248120236560017 39 262} {8800689412207196797 39 263} {3076884126863774762 39 264} {891693116602697326 39 265} {5217419639284020772 39 266} {2214513249434181487 39 267} {14094348500126526 39 268} {766273030314214234 39 269} {3700496544790110229 39 270} {2807791044710964927 39 271} {1738768821197284379 39 272} {2970180498839410786 39 273} {3746453493698796484 39 274} {7519365095451700386 39 275} {3016593984248995502 39 276} {3574761889065008841 39 277}]
------------------------------------------------------
term 39 Server2 start snapshot! index=269
term 39 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=277
-------------------------------------------------------------
term 39 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
flag 19946 term 39 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 39 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 39 leaderCommit: 277 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 39 269} {3700496544790110229 39 270} {2807791044710964927 39 271} {1738768821197284379 39 272} {2970180498839410786 39 273} {3746453493698796484 39 274} {7519365095451700386 39 275} {3016593984248995502 39 276} {3574761889065008841 39 277}]
------------------------------------------------------
term 39 Server1 start snapshot! index=269
term 39 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=277
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7880985772803685044 (index 278) to leader 2
term 39 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
flag 88278 term 39 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 39 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 39 leaderCommit: 277 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
term 40 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {3700496544790110229 39 270} {2807791044710964927 39 271} {1738768821197284379 39 272} {2970180498839410786 39 273} {3746453493698796484 39 274} {7519365095451700386 39 275} {3016593984248995502 39 276} {3574761889065008841 39 277} {7880985772803685044 39 278}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 server 1 vote for server 2
term 41 server 2 get vote from server 1
term 41 server 2 become leader
------------------------------------------------------
term 41 server 0 vote for server 2
term 41 server 2 get outdate rpc reply from server 0
flag 16504 term 41 leader 2 nextIndex[0]: 279  matchIndex[0]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 13138 term 41 leader 2 nextIndex[1]: 279  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 279->278
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {3700496544790110229 39 270} {2807791044710964927 39 271} {1738768821197284379 39 272} {2970180498839410786 39 273} {3746453493698796484 39 274} {7519365095451700386 39 275} {3016593984248995502 39 276} {3574761889065008841 39 277} {7880985772803685044 39 278}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 2 nextIndex[0]: 265  matchIndex[0]: 0
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
flag 32309 term 41 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 41 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 0 InstallSnapshot success
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 39 rf.commitIndex 269 rf.lastApplied 269
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {3700496544790110229 39 270} {2807791044710964927 39 271} {1738768821197284379 39 272} {2970180498839410786 39 273} {3746453493698796484 39 274} {7519365095451700386 39 275} {3016593984248995502 39 276} {3574761889065008841 39 277} {7880985772803685044 39 278}]
------------------------------------------------------
flag 39633 term 41 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 41 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 5145 term 41 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 41 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {3700496544790110229 39 270} {2807791044710964927 39 271} {1738768821197284379 39 272} {2970180498839410786 39 273} {3746453493698796484 39 274} {7519365095451700386 39 275} {3016593984248995502 39 276} {3574761889065008841 39 277} {7880985772803685044 39 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {3700496544790110229 39 270} {2807791044710964927 39 271} {1738768821197284379 39 272} {2970180498839410786 39 273} {3746453493698796484 39 274} {7519365095451700386 39 275} {3016593984248995502 39 276} {3574761889065008841 39 277} {7880985772803685044 39 278}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56370 term 41 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 41 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 95030 term 41 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 41 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {3700496544790110229 39 270} {2807791044710964927 39 271} {1738768821197284379 39 272} {2970180498839410786 39 273} {3746453493698796484 39 274} {7519365095451700386 39 275} {3016593984248995502 39 276} {3574761889065008841 39 277} {7880985772803685044 39 278}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {3700496544790110229 39 270} {2807791044710964927 39 271} {1738768821197284379 39 272} {2970180498839410786 39 273} {3746453493698796484 39 274} {7519365095451700386 39 275} {3016593984248995502 39 276} {3574761889065008841 39 277} {7880985772803685044 39 278}]
------------------------------------------------------
flag 58403 term 41 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 41 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 68514 term 41 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 41 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {3700496544790110229 39 270} {2807791044710964927 39 271} {1738768821197284379 39 272} {2970180498839410786 39 273} {3746453493698796484 39 274} {7519365095451700386 39 275} {3016593984248995502 39 276} {3574761889065008841 39 277} {7880985772803685044 39 278}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {3700496544790110229 39 270} {2807791044710964927 39 271} {1738768821197284379 39 272} {2970180498839410786 39 273} {3746453493698796484 39 274} {7519365095451700386 39 275} {3016593984248995502 39 276} {3574761889065008841 39 277} {7880985772803685044 39 278}]
------------------------------------------------------
term 41 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61037 term 41 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 41 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 12451 term 41 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 41 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {3700496544790110229 39 270} {2807791044710964927 39 271} {1738768821197284379 39 272} {2970180498839410786 39 273} {3746453493698796484 39 274} {7519365095451700386 39 275} {3016593984248995502 39 276} {3574761889065008841 39 277} {7880985772803685044 39 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {3700496544790110229 39 270} {2807791044710964927 39 271} {1738768821197284379 39 272} {2970180498839410786 39 273} {3746453493698796484 39 274} {7519365095451700386 39 275} {3016593984248995502 39 276} {3574761889065008841 39 277} {7880985772803685044 39 278}]
------------------------------------------------------
flag 54113 term 41 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 41 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 33100 term 41 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 41 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {3700496544790110229 39 270} {2807791044710964927 39 271} {1738768821197284379 39 272} {2970180498839410786 39 273} {3746453493698796484 39 274} {7519365095451700386 39 275} {3016593984248995502 39 276} {3574761889065008841 39 277} {7880985772803685044 39 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {3700496544790110229 39 270} {2807791044710964927 39 271} {1738768821197284379 39 272} {2970180498839410786 39 273} {3746453493698796484 39 274} {7519365095451700386 39 275} {3016593984248995502 39 276} {3574761889065008841 39 277} {7880985772803685044 39 278}]
------------------------------------------------------
flag 93729 term 41 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 41 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 1550 term 41 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 41 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {3700496544790110229 39 270} {2807791044710964927 39 271} {1738768821197284379 39 272} {2970180498839410786 39 273} {3746453493698796484 39 274} {7519365095451700386 39 275} {3016593984248995502 39 276} {3574761889065008841 39 277} {7880985772803685044 39 278}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 39 269} {3700496544790110229 39 270} {2807791044710964927 39 271} {1738768821197284379 39 272} {2970180498839410786 39 273} {3746453493698796484 39 274} {7519365095451700386 39 275} {3016593984248995502 39 276} {3574761889065008841 39 277} {7880985772803685044 39 278}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6034094928196605082 (index 279) to leader 2
flag 83539 term 41 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 41 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
flag 98881 term 41 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 41 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 39 leaderCommit: 278 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 39 269} {3700496544790110229 39 270} {2807791044710964927 39 271} {1738768821197284379 39 272} {2970180498839410786 39 273} {3746453493698796484 39 274} {7519365095451700386 39 275} {3016593984248995502 39 276} {3574761889065008841 39 277} {7880985772803685044 39 278} {6034094928196605082 41 279}]
------------------------------------------------------
term 41 Server2 start snapshot! index=279
term 41 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
term 41 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 41
------------------------------------------------------
flag 97491 term 41 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 41 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 41 leaderCommit: 279 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 41 279}]
------------------------------------------------------
term 41 Server1 start snapshot! index=279
term 41 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
client write log 5937539281720034942 (index 280) to leader 2
client write log 4834959502740334498 (index 281) to leader 2
client write log 5174869540888352000 (index 282) to leader 2
client write log 5063098469810546067 (index 283) to leader 2
client write log 6645013744727533049 (index 284) to leader 2
client write log 7012498414095913205 (index 285) to leader 2
client write log 8696344598895976744 (index 286) to leader 2
client write log 9199271577542750855 (index 287) to leader 2
client write log 3451860442192589967 (index 288) to leader 2
client write log 4491093246560749065 (index 289) to leader 2
client write log 7766429968025948202 (index 290) to leader 2
client write log 4610386059756680111 (index 291) to leader 2
term 41 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 41
------------------------------------------------------
flag 88694 term 41 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 41 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 41 leaderCommit: 279 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 279} {5937539281720034942 41 280} {4834959502740334498 41 281} {5174869540888352000 41 282} {5063098469810546067 41 283} {6645013744727533049 41 284} {7012498414095913205 41 285} {8696344598895976744 41 286} {9199271577542750855 41 287} {3451860442192589967 41 288} {4491093246560749065 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291}]
------------------------------------------------------
term 41 Server2 start snapshot! index=289
term 41 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=291
-------------------------------------------------------------
term 41 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 89784 term 41 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 41 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291}]
------------------------------------------------------
term 41 Server1 start snapshot! index=289
term 41 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=291
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5862039568556193321 (index 292) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 1 not vote for server 0, 日志不够新
term 41 server 2 not vote for server 0, 日志不够新
term 43 server 1 vote for server 2
term 43 server 2 get vote from server 1
term 43 server 2 become leader
------------------------------------------------------
term 43 server 0 vote for server 2
term 43 server 2 get outdate rpc reply from server 0
flag 50641 term 43 leader 2 nextIndex[0]: 293  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 5334 term 43 leader 2 nextIndex[1]: 293  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 293->292
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 293->292
------------------------------------------------------
term 43 server 2 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 2
term 43 leader 2 nextIndex[0]: 279  matchIndex[0]: 0
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 1733 term 43 leader 2 nextIndex[1]: 292  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
term 43 server 0 InstallSnapshot success
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 41 rf.commitIndex 289 rf.lastApplied 289
term 43 server 1 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 1
term 43 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82068 term 43 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 57300 term 43 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
flag 62577 term 43 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 29768 term 43 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12781 term 43 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 96283 term 43 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
flag 28189 term 43 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 64370 term 43 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
flag 78011 term 43 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 29975 term 43 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
flag 83581 term 43 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 32212 term 43 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27516 term 43 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 42645 term 43 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
flag 19441 term 43 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 76329 term 43 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
flag 41804 term 43 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 76902 term 43 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
flag 45571 term 43 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 15842 term 43 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
flag 92253 term 43 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 13215 term 43 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91820 term 43 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 65297 term 43 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
flag 77002 term 43 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 8815 term 43 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27356 term 43 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 33929 term 43 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
flag 46144 term 43 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 93257 term 43 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12656 term 43 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 92184 term 43 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57971 term 43 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 95928 term 43 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
flag 2847 term 43 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 88272 term 43 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292}]
------------------------------------------------------
client write log 5862039568556193321 (index 293) to leader 2
flag 53172 term 43 leader 2 nextIndex[0]: 293  matchIndex[0]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 46922 term 43 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 43 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292} {5862039568556193321 43 293}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292} {5862039568556193321 43 293}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97159 term 43 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 25035 term 43 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292} {5862039568556193321 43 293}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292} {5862039568556193321 43 293}]
------------------------------------------------------
flag 67114 term 43 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 21871 term 43 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292} {5862039568556193321 43 293}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292} {5862039568556193321 43 293}]
------------------------------------------------------
flag 54539 term 43 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 40222 term 43 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292} {5862039568556193321 43 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292} {5862039568556193321 43 293}]
------------------------------------------------------
flag 46185 term 43 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 81608 term 43 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292} {5862039568556193321 43 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292} {5862039568556193321 43 293}]
------------------------------------------------------
flag 34101 term 43 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 49295 term 43 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292} {5862039568556193321 43 293}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292} {5862039568556193321 43 293}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 79676 term 43 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 51657 term 43 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 72508 term 43 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 87795 term 43 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 27567 term 43 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 56073 term 43 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 44 server 1 vote for server 0
term 44 server 0 get vote from server 1
term 44 server 0 become leader
------------------------------------------------------
flag 76496 term 44 leader 0 nextIndex[1]: 294  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 5886 term 44 leader 0 nextIndex[2]: 294  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292} {5862039568556193321 43 293}]
------------------------------------------------------
client write log 8601011368214420521 (index 294) to leader 0
flag 20123 term 43 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 91495 term 43 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 39860 term 44 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 44 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 1106 term 44 leader 0 nextIndex[2]: 294  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292} {5862039568556193321 43 293} {8601011368214420521 44 294}]
------------------------------------------------------
flag 86160 term 43 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 81273 term 43 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45826 term 44 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 44 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 1884 term 44 leader 0 nextIndex[2]: 294  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292} {5862039568556193321 43 293} {8601011368214420521 44 294}]
------------------------------------------------------
flag 84866 term 43 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 15908 term 43 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
client write log 2752643688748380549 (index 295) to leader 0
client write log 177893613755194968 (index 296) to leader 0
client write log 2121645229927547650 (index 297) to leader 0
client write log 8185019704441388524 (index 298) to leader 0
client write log 7072671107335456583 (index 299) to leader 0
client write log 4774557140818050057 (index 300) to leader 0
client write log 7392814537290479858 (index 301) to leader 0
flag 72199 term 44 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 44 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 1154 term 44 leader 0 nextIndex[2]: 294  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 41 289} {7766429968025948202 41 290} {4610386059756680111 41 291} {5862039568556193321 41 292} {5862039568556193321 43 293} {8601011368214420521 44 294} {2752643688748380549 44 295} {177893613755194968 44 296} {2121645229927547650 44 297} {8185019704441388524 44 298} {7072671107335456583 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
term 44 Server0 start snapshot! index=299
term 44 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=301
-------------------------------------------------------------
flag 12494 term 43 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
flag 3533 term 43 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 294->293
------------------------------------------------------
flag 12063 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 294  matchIndex[2]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
term 44 Server1 start snapshot! index=299
term 44 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=301
-------------------------------------------------------------
flag 18678 term 43 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 43 leaderCommit: 293 
------------------------------------------------------
term 43 leader 2 nextIndex[1]: 0  matchIndex[1]: 293
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
!!!!!!connect server 2
client write log 7605847977655554706 (index 294) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
flag 32260 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 294  matchIndex[2]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 44 rf.commitIndex 299 rf.lastApplied 299
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
term 44 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 300->299
------------------------------------------------------
flag 63242 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 0  matchIndex[2]: 299
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 2 InstallSnapshot fail
rf.commitIndex 299 args.LastIncludedIndex 299
------------------------------------------------------
term 44 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
flag 69628 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 90296 term 44 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 44 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58489 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 74041 term 44 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
flag 36276 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 37211 term 44 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
flag 61909 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 37030 term 44 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
flag 32553 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 92470 term 44 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
flag 97398 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 72083 term 44 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 302->301
------------------------------------------------------
flag 41801 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 0  matchIndex[2]: 301
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 2 InstallSnapshot fail
rf.commitIndex 301 args.LastIncludedIndex 299
------------------------------------------------------
term 44 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59675 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 86061 term 44 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 44 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95137 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 62681 term 44 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1754 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 35080 term 44 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
flag 29449 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 10559 term 44 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
flag 61845 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 3531 term 44 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85459 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 44977 term 44 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 302->301
------------------------------------------------------
flag 85977 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 0  matchIndex[2]: 301
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 2 InstallSnapshot fail
rf.commitIndex 301 args.LastIncludedIndex 299
------------------------------------------------------
term 44 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
flag 15103 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 85838 term 44 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 44 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
flag 80190 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 82142 term 44 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58757 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 92819 term 44 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
flag 49721 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 83450 term 44 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301}]
------------------------------------------------------
client write log 7605847977655554706 (index 302) to leader 0
flag 37346 term 44 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 51219 term 44 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301} {7605847977655554706 44 302}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301} {7605847977655554706 44 302}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71397 term 44 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 44 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 7555 term 44 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 44 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301} {7605847977655554706 44 302}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301} {7605847977655554706 44 302}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64096 term 44 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 44 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 50916 term 44 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 44 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301} {7605847977655554706 44 302}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301} {7605847977655554706 44 302}]
------------------------------------------------------
flag 15869 term 44 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 44 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 8389 term 44 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 44 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301} {7605847977655554706 44 302}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301} {7605847977655554706 44 302}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7781 term 44 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 44 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 75044 term 44 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 44 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301} {7605847977655554706 44 302}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301} {7605847977655554706 44 302}]
------------------------------------------------------
flag 8092 term 44 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 44 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 59074 term 44 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 44 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301} {7605847977655554706 44 302}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301} {7605847977655554706 44 302}]
------------------------------------------------------
flag 70538 term 44 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 44 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 38807 term 44 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 44 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301} {7605847977655554706 44 302}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301} {7605847977655554706 44 302}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4925643100847408818 (index 303) to leader 0
flag 63481 term 44 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 44 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 15503 term 44 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 44 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301} {7605847977655554706 44 302} {4925643100847408818 44 303}]
------------------------------------------------------
flag 58975 term 44 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 44 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 303 
------------------------------------------------------
flag 82158 term 44 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 44 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 44 leaderCommit: 303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301} {7605847977655554706 44 302} {4925643100847408818 44 303}]
------------------------------------------------------
client write log 8374376007551752116 (index 304) to leader 0
client write log 8115993839759049173 (index 305) to leader 0
client write log 5081918673347748093 (index 306) to leader 0
client write log 6751459717127181301 (index 307) to leader 0
client write log 3002655118302130045 (index 308) to leader 0
client write log 8767813327815078448 (index 309) to leader 0
flag 87777 term 44 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 44 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 303 
------------------------------------------------------
flag 72964 term 44 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 44 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 44 leaderCommit: 303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 44 299} {4774557140818050057 44 300} {7392814537290479858 44 301} {7605847977655554706 44 302} {4925643100847408818 44 303} {8374376007551752116 44 304} {8115993839759049173 44 305} {5081918673347748093 44 306} {6751459717127181301 44 307} {3002655118302130045 44 308} {8767813327815078448 44 309}]
------------------------------------------------------
term 44 Server0 start snapshot! index=309
term 44 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
term 44 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
flag 56684 term 44 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 44 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 44 309}]
------------------------------------------------------
!!!!!!connect server 1
term 44 Server2 start snapshot! index=309
term 44 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
client write log 9220593115684371461 (index 310) to leader 0
term 44 server 0 not vote for server 1, 日志不够新
term 44 server 2 not vote for server 1, 日志不够新
term 46 server 2 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
term 46 server 1 vote for server 0
term 46 server 0 get outdate rpc reply from server 1
flag 84414 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 75121 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 46 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 311->310
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 311->310
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 303  matchIndex[1]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
flag 43552 term 46 leader 0 nextIndex[2]: 310  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
term 46 server 1 InstallSnapshot success
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 44 rf.commitIndex 309 rf.lastApplied 309
flag 69431 term 46 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 99275 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33330 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 38319 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
flag 47114 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 95648 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
flag 55911 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 54338 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
flag 43622 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 38203 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
flag 5145 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 66789 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
term 46 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
flag 42649 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 14399 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
term 46 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87450 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 84646 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
flag 75022 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 11502 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
flag 63989 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 85187 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
flag 96343 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 44687 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
term 46 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
flag 29221 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 55631 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
flag 58361 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 47090 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
flag 99173 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 41324 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
term 46 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
flag 11315 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 27387 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
flag 92066 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 84659 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
term 46 server 2 not vote for server 0, 任期不够新
term 46 server 0 get outdate rpc reply from server 2
flag 73385 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 66918 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=309
leader log:
[{snapshot 44 309} {9220593115684371461 44 310}]
------------------------------------------------------
client write log 9220593115684371461 (index 311) to leader 0
flag 2558 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
flag 61979 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 44 309} {9220593115684371461 44 310} {9220593115684371461 46 311}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 44 309} {9220593115684371461 44 310} {9220593115684371461 46 311}]
------------------------------------------------------
flag 3428 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 30066 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 44 309} {9220593115684371461 44 310} {9220593115684371461 46 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 44 309} {9220593115684371461 44 310} {9220593115684371461 46 311}]
------------------------------------------------------
flag 86185 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 638 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 44 309} {9220593115684371461 44 310} {9220593115684371461 46 311}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 44 309} {9220593115684371461 44 310} {9220593115684371461 46 311}]
------------------------------------------------------
flag 81200 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 8927 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 44 309} {9220593115684371461 44 310} {9220593115684371461 46 311}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 44 309} {9220593115684371461 44 310} {9220593115684371461 46 311}]
------------------------------------------------------
flag 30749 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 48676 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 44 309} {9220593115684371461 44 310} {9220593115684371461 46 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 44 309} {9220593115684371461 44 310} {9220593115684371461 46 311}]
------------------------------------------------------
flag 7001 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 80819 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 44 309} {9220593115684371461 44 310} {9220593115684371461 46 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 44 309} {9220593115684371461 44 310} {9220593115684371461 46 311}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 509592236111518074 (index 312) to leader 0
flag 58486 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 759 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 44 309} {9220593115684371461 44 310} {9220593115684371461 46 311} {509592236111518074 46 312}]
------------------------------------------------------
flag 61182 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 312 
------------------------------------------------------
flag 95984 term 46 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 46 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 46 leaderCommit: 312 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 44 309} {9220593115684371461 44 310} {9220593115684371461 46 311} {509592236111518074 46 312}]
------------------------------------------------------
client write log 8179605201038530146 (index 313) to leader 0
client write log 5237265697584430701 (index 314) to leader 0
client write log 4659155631898813415 (index 315) to leader 0
client write log 1771924329938788674 (index 316) to leader 0
client write log 3561978379495418705 (index 317) to leader 0
client write log 227459796810314514 (index 318) to leader 0
client write log 1301822895708651620 (index 319) to leader 0
client write log 6109360713145632793 (index 320) to leader 0
client write log 7000930492935042140 (index 321) to leader 0
client write log 5739714698692336163 (index 322) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93877 term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 312 
------------------------------------------------------
flag 77162 term 46 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 46 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 46 leaderCommit: 312 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 44 309} {9220593115684371461 44 310} {9220593115684371461 46 311} {509592236111518074 46 312} {8179605201038530146 46 313} {5237265697584430701 46 314} {4659155631898813415 46 315} {1771924329938788674 46 316} {3561978379495418705 46 317} {227459796810314514 46 318} {1301822895708651620 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322}]
------------------------------------------------------
term 46 Server0 start snapshot! index=319
term 46 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=322
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
flag 65766 term 46 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 46 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322}]
------------------------------------------------------
term 46 Server2 start snapshot! index=319
term 46 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=322
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4453353148821097333 (index 323) to leader 0
term 46 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
flag 58842 term 46 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 46 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 47 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 1 vote for server 0
term 48 server 0 get vote from server 1
term 48 server 0 become leader
------------------------------------------------------
term 48 server 2 vote for server 0
term 48 server 0 get outdate rpc reply from server 2
flag 89595 term 48 leader 0 nextIndex[1]: 324  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 14122 term 48 leader 0 nextIndex[2]: 324  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 324->323
------------------------------------------------------
term 48 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 0
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
flag 14124 term 48 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
term 48 server 1 InstallSnapshot success
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 46 rf.commitIndex 319 rf.lastApplied 319
flag 56325 term 48 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 48 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 19350 term 48 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9186 term 48 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 60042 term 48 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
term 48 server 0 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 0
flag 42311 term 48 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 8673 term 48 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18811 term 48 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 83457 term 48 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
flag 30057 term 48 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 6381 term 48 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
flag 68580 term 48 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 74239 term 48 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82558 term 48 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 38975 term 48 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94062 term 48 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 95317 term 48 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
flag 76937 term 48 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 70130 term 48 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93167 term 48 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 89660 term 48 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88711 term 48 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 79534 term 48 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
flag 85587 term 48 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 89845 term 48 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
flag 82545 term 48 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 49881 term 48 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
flag 80201 term 48 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 95206 term 48 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
flag 13231 term 48 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 21035 term 48 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
flag 65723 term 48 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 14672 term 48 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
flag 39718 term 48 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 18619 term 48 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323}]
------------------------------------------------------
client write log 4453353148821097333 (index 324) to leader 0
flag 11692 term 48 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 4643 term 48 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323} {4453353148821097333 48 324}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323} {4453353148821097333 48 324}]
------------------------------------------------------
flag 96242 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 10813 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323} {4453353148821097333 48 324}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323} {4453353148821097333 48 324}]
------------------------------------------------------
flag 86804 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 66318 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323} {4453353148821097333 48 324}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323} {4453353148821097333 48 324}]
------------------------------------------------------
flag 21911 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 78211 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323} {4453353148821097333 48 324}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323} {4453353148821097333 48 324}]
------------------------------------------------------
flag 40095 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 56713 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323} {4453353148821097333 48 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323} {4453353148821097333 48 324}]
------------------------------------------------------
flag 44163 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 2655 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323} {4453353148821097333 48 324}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323} {4453353148821097333 48 324}]
------------------------------------------------------
flag 84948 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 13191 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323} {4453353148821097333 48 324}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323} {4453353148821097333 48 324}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 66158 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 91582 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 11212 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 98691 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 93101 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 30860 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 56293 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 42718 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 49 server 2 vote for server 1
term 49 server 1 get vote from server 2
term 49 server 1 become leader
------------------------------------------------------
flag 3081 term 49 leader 1 nextIndex[0]: 325  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 5154 term 49 leader 1 nextIndex[2]: 325  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323} {4453353148821097333 48 324}]
------------------------------------------------------
client write log 6923107682133504777 (index 325) to leader 1
flag 86458 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 34484 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 12037 term 49 leader 1 nextIndex[0]: 325  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 42093 term 49 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323} {4453353148821097333 48 324} {6923107682133504777 49 325}]
------------------------------------------------------
flag 36053 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 55274 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 80391 term 49 leader 1 nextIndex[0]: 325  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 79351 term 49 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 49 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323} {4453353148821097333 48 324} {6923107682133504777 49 325}]
------------------------------------------------------
client write log 956523529456326510 (index 326) to leader 1
client write log 5574364244275854632 (index 327) to leader 1
client write log 4682365604051133707 (index 328) to leader 1
client write log 4791890351157784439 (index 329) to leader 1
client write log 954279185476936450 (index 330) to leader 1
client write log 3141563118134140421 (index 331) to leader 1
client write log 9001579598973484541 (index 332) to leader 1
client write log 7400860612252053100 (index 333) to leader 1
client write log 8688588321448795517 (index 334) to leader 1
flag 53092 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 72965 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 17165 term 49 leader 1 nextIndex[0]: 325  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 94509 term 49 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 49 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 46 319} {6109360713145632793 46 320} {7000930492935042140 46 321} {5739714698692336163 46 322} {4453353148821097333 46 323} {4453353148821097333 48 324} {6923107682133504777 49 325} {956523529456326510 49 326} {5574364244275854632 49 327} {4682365604051133707 49 328} {4791890351157784439 49 329} {954279185476936450 49 330} {3141563118134140421 49 331} {9001579598973484541 49 332} {7400860612252053100 49 333} {8688588321448795517 49 334}]
------------------------------------------------------
term 49 Server1 start snapshot! index=329
term 49 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=334
-------------------------------------------------------------
flag 53443 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 91275 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 49 leader 1 nextIndex[0]: 325  matchIndex[0]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 49
------------------------------------------------------
flag 55483 term 49 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 49 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 49 leaderCommit: 334 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 49 329} {954279185476936450 49 330} {3141563118134140421 49 331} {9001579598973484541 49 332} {7400860612252053100 49 333} {8688588321448795517 49 334}]
------------------------------------------------------
term 49 Server2 start snapshot! index=329
term 49 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=334
-------------------------------------------------------------
!!!!!!connect server 0
client write log 254471597170662238 (index 335) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 325->324
------------------------------------------------------
flag 29382 term 48 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 2646 term 48 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 49 server 2 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 49 server 1 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 49
------------------------------------------------------
flag 46714 term 49 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 49 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 49 leaderCommit: 334 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
term 49 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 49 329} {954279185476936450 49 330} {3141563118134140421 49 331} {9001579598973484541 49 332} {7400860612252053100 49 333} {8688588321448795517 49 334} {254471597170662238 49 335}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 49 rf.commitIndex 329 rf.lastApplied 329
term 49 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 330 matchIndex[0] 329 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28239 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 49 leaderCommit: 335 
------------------------------------------------------
flag 76421 term 49 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 49 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 49 leaderCommit: 335 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 49 329} {954279185476936450 49 330} {3141563118134140421 49 331} {9001579598973484541 49 332} {7400860612252053100 49 333} {8688588321448795517 49 334} {254471597170662238 49 335}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 49 329} {954279185476936450 49 330} {3141563118134140421 49 331} {9001579598973484541 49 332} {7400860612252053100 49 333} {8688588321448795517 49 334} {254471597170662238 49 335}]
------------------------------------------------------
flag 3004 term 49 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 49 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 49 leaderCommit: 335 
------------------------------------------------------
flag 7609 term 49 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 49 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 49 leaderCommit: 335 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 49 329} {954279185476936450 49 330} {3141563118134140421 49 331} {9001579598973484541 49 332} {7400860612252053100 49 333} {8688588321448795517 49 334} {254471597170662238 49 335}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 49 329} {954279185476936450 49 330} {3141563118134140421 49 331} {9001579598973484541 49 332} {7400860612252053100 49 333} {8688588321448795517 49 334} {254471597170662238 49 335}]
------------------------------------------------------
flag 52403 term 49 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 49 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 49 leaderCommit: 335 
------------------------------------------------------
flag 26823 term 49 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 49 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 49 leaderCommit: 335 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 49 329} {954279185476936450 49 330} {3141563118134140421 49 331} {9001579598973484541 49 332} {7400860612252053100 49 333} {8688588321448795517 49 334} {254471597170662238 49 335}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 49 329} {954279185476936450 49 330} {3141563118134140421 49 331} {9001579598973484541 49 332} {7400860612252053100 49 333} {8688588321448795517 49 334} {254471597170662238 49 335}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77955 term 49 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 49 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 49 leaderCommit: 335 
------------------------------------------------------
flag 26341 term 49 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 49 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 49 leaderCommit: 335 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 49 329} {954279185476936450 49 330} {3141563118134140421 49 331} {9001579598973484541 49 332} {7400860612252053100 49 333} {8688588321448795517 49 334} {254471597170662238 49 335}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 49 329} {954279185476936450 49 330} {3141563118134140421 49 331} {9001579598973484541 49 332} {7400860612252053100 49 333} {8688588321448795517 49 334} {254471597170662238 49 335}]
------------------------------------------------------
flag 12303 term 49 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 49 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 49 leaderCommit: 335 
------------------------------------------------------
flag 77898 term 49 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 49 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 49 leaderCommit: 335 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 49 329} {954279185476936450 49 330} {3141563118134140421 49 331} {9001579598973484541 49 332} {7400860612252053100 49 333} {8688588321448795517 49 334} {254471597170662238 49 335}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 49 329} {954279185476936450 49 330} {3141563118134140421 49 331} {9001579598973484541 49 332} {7400860612252053100 49 333} {8688588321448795517 49 334} {254471597170662238 49 335}]
------------------------------------------------------
flag 97682 term 49 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 49 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 49 leaderCommit: 335 
------------------------------------------------------
flag 85186 term 49 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 49 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 49 leaderCommit: 335 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
term 49 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
[{snapshot 49 329} {954279185476936450 49 330} {3141563118134140421 49 331} {9001579598973484541 49 332} {7400860612252053100 49 333} {8688588321448795517 49 334} {254471597170662238 49 335}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 49 329} {954279185476936450 49 330} {3141563118134140421 49 331} {9001579598973484541 49 332} {7400860612252053100 49 333} {8688588321448795517 49 334} {254471597170662238 49 335}]
------------------------------------------------------
flag 25563 term 49 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 49 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 49 leaderCommit: 335 
------------------------------------------------------
flag 82688 term 49 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 49 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 49 leaderCommit: 335 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 49 329} {954279185476936450 49 330} {3141563118134140421 49 331} {9001579598973484541 49 332} {7400860612252053100 49 333} {8688588321448795517 49 334} {254471597170662238 49 335}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 49 329} {954279185476936450 49 330} {3141563118134140421 49 331} {9001579598973484541 49 332} {7400860612252053100 49 333} {8688588321448795517 49 334} {254471597170662238 49 335}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1618614286933546600 (index 336) to leader 1
flag 44258 term 49 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 49 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 49 leaderCommit: 335 
------------------------------------------------------
flag 26857 term 49 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 49 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 49 leaderCommit: 335 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 49 329} {954279185476936450 49 330} {3141563118134140421 49 331} {9001579598973484541 49 332} {7400860612252053100 49 333} {8688588321448795517 49 334} {254471597170662238 49 335} {1618614286933546600 49 336}]
------------------------------------------------------
flag 58259 term 49 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 49 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 49 leaderCommit: 336 
------------------------------------------------------
flag 83894 term 49 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 49 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 49 leaderCommit: 336 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 49 329} {954279185476936450 49 330} {3141563118134140421 49 331} {9001579598973484541 49 332} {7400860612252053100 49 333} {8688588321448795517 49 334} {254471597170662238 49 335} {1618614286933546600 49 336}]
------------------------------------------------------
client write log 3468450553556868589 (index 337) to leader 1
client write log 9077994563978165450 (index 338) to leader 1
client write log 3599691506972457743 (index 339) to leader 1
client write log 5680071939034595067 (index 340) to leader 1
client write log 1787251710500346042 (index 341) to leader 1
client write log 1379490522908825071 (index 342) to leader 1
client write log 2650325408787021098 (index 343) to leader 1
client write log 2037628811151939087 (index 344) to leader 1
client write log 7977539787964759733 (index 345) to leader 1
client write log 8324904578612470369 (index 346) to leader 1
client write log 2645561587375287899 (index 347) to leader 1
term 49 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 330 matchIndex[0] 329 
------------------------------------------------------------------------
flag 38251 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 49 leaderCommit: 336 
------------------------------------------------------
flag 19100 term 49 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 49 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 49 leaderCommit: 336 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 329} {954279185476936450 49 330} {3141563118134140421 49 331} {9001579598973484541 49 332} {7400860612252053100 49 333} {8688588321448795517 49 334} {254471597170662238 49 335} {1618614286933546600 49 336} {3468450553556868589 49 337} {9077994563978165450 49 338} {3599691506972457743 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347}]
------------------------------------------------------
term 49 Server1 start snapshot! index=339
term 49 server1 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=347
-------------------------------------------------------------
flag 65715 term 49 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 49 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347}]
------------------------------------------------------
term 49 Server0 start snapshot! index=339
term 49 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=347
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6067968961493266658 (index 348) to leader 1
term 49 server 1 not vote for server 2, 日志不够新
term 49 server 0 not vote for server 2, 日志不够新
term 51 server 2 vote for server 1
term 51 server 0 vote for server 1
term 51 server 1 get vote from server 2
term 51 server 1 become leader
------------------------------------------------------
term 51 server 1 get outdate rpc reply from server 0
flag 96255 term 51 leader 1 nextIndex[0]: 349  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 85678 term 51 leader 1 nextIndex[2]: 349  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 349->348
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 349->348
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91276 term 51 leader 1 nextIndex[0]: 348  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 336  matchIndex[2]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
term 51 server 2 InstallSnapshot success
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 49 rf.commitIndex 339 rf.lastApplied 339
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
flag 90190 term 51 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 88169 term 51 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 51 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
flag 20558 term 51 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 75024 term 51 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
flag 61129 term 51 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 25990 term 51 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15911 term 51 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 94427 term 51 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74321 term 51 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 95759 term 51 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
flag 41777 term 51 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 9034 term 51 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92353 term 51 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 31619 term 51 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45838 term 51 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 10942 term 51 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
flag 88987 term 51 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 64170 term 51 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16962 term 51 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 51690 term 51 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
flag 17901 term 51 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 73579 term 51 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
flag 49309 term 51 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 35948 term 51 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
flag 21257 term 51 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 57927 term 51 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70267 term 51 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 22906 term 51 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49476 term 51 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 88704 term 51 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
flag 39052 term 51 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 38770 term 51 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
flag 46439 term 51 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 80222 term 51 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348}]
------------------------------------------------------
term 51 server 2 not vote for server 1, 任期不够新
term 51 server 1 get outdate rpc reply from server 2
client write log 6067968961493266658 (index 349) to leader 1
flag 87890 term 51 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 22763 term 51 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348} {6067968961493266658 51 349}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 49 339} {5680071939034595067 49 340} {1787251710500346042 49 341} {1379490522908825071 49 342} {2650325408787021098 49 343} {2037628811151939087 49 344} {7977539787964759733 49 345} {8324904578612470369 49 346} {2645561587375287899 49 347} {6067968961493266658 49 348} {6067968961493266658 51 349}]
------------------------------------------------------
term 51 Server1 start snapshot! index=349
term 51 server1 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
flag 22371 term 51 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 51 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
flag 94386 term 51 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 51 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 349}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 349}]
------------------------------------------------------
term 51 Server2 start snapshot! index=349
term 51 server2 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
term 51 Server0 start snapshot! index=349
term 51 server0 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56466 term 51 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 51 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
flag 79335 term 51 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 51 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 349}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 349}]
------------------------------------------------------
flag 25345 term 51 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 51 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
flag 24411 term 51 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 51 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 349}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 349}]
------------------------------------------------------
flag 54744 term 51 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 51 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
flag 51035 term 51 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 51 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 349}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 349}]
------------------------------------------------------
flag 92696 term 51 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 51 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
flag 98740 term 51 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 51 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 349}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 349}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
  ... Passed --  81.6  3 1848  795618  349
--- PASS: TestSnapshotInstall2D (81.60s)
PASS
