=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 1 vote for server 0
term 1 server 0 become leader
------------------------------------------------------
term 1 server 0 get outdate rpc reply from server 1
flag 1548 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 2670 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 2061769054734386515 (index 1) to leader 0
flag 70106 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 41176 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2061769054734386515 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2061769054734386515 1 1}]
------------------------------------------------------
flag 63686 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 90380 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2061769054734386515 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2061769054734386515 1 1}]
------------------------------------------------------
flag 20626 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 31514 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2061769054734386515 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2061769054734386515 1 1}]
------------------------------------------------------
flag 35036 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 84835 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2061769054734386515 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2061769054734386515 1 1}]
------------------------------------------------------
flag 50302 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 39041 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2061769054734386515 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2061769054734386515 1 1}]
------------------------------------------------------
flag 5191 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 65891 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2061769054734386515 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2061769054734386515 1 1}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2999722055548597964 (index 2) to leader 0
flag 78868 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 39896 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2061769054734386515 1 1} {2999722055548597964 1 2}]
------------------------------------------------------
flag 80580 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 99073 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2061769054734386515 1 1} {2999722055548597964 1 2}]
------------------------------------------------------
client write log 1965839175644531920 (index 3) to leader 0
client write log 5419136613469110747 (index 4) to leader 0
client write log 5331391195713283883 (index 5) to leader 0
client write log 5556841296233124902 (index 6) to leader 0
client write log 3376784930562187356 (index 7) to leader 0
client write log 7605553224964471944 (index 8) to leader 0
flag 45692 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 25185 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2061769054734386515 1 1} {2999722055548597964 1 2} {1965839175644531920 1 3} {5419136613469110747 1 4} {5331391195713283883 1 5} {5556841296233124902 1 6} {3376784930562187356 1 7} {7605553224964471944 1 8}]
------------------------------------------------------
flag 62769 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 90313 term 1 leader 0 nextIndex[2]: 9  matchIndex[2]: 8
term 1 leader 0 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2061769054734386515 1 1} {2999722055548597964 1 2} {1965839175644531920 1 3} {5419136613469110747 1 4} {5331391195713283883 1 5} {5556841296233124902 1 6} {3376784930562187356 1 7} {7605553224964471944 1 8}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1391066941032241563 (index 9) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 2->1
------------------------------------------------------
term 1 leader 0 nextIndex[1]: 0  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 0  LastIncludedTerm: 0
------------------------------------------------------
flag 78865 term 1 leader 0 nextIndex[2]: 9  matchIndex[2]: 8
term 1 leader 0 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 2 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {2061769054734386515 1 1} {2999722055548597964 1 2} {1965839175644531920 1 3} {5419136613469110747 1 4} {5331391195713283883 1 5} {5556841296233124902 1 6} {3376784930562187356 1 7} {7605553224964471944 1 8} {1391066941032241563 1 9}]
------------------------------------------------------
term 1 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 2 Server0 start snapshot! index=9
term 2 server0 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 3 server 2 vote for server 0
term 3 server 1 vote for server 0
term 3 server 0 get vote from server 2
term 3 server 0 become leader
------------------------------------------------------
term 3 server 0 get outdate rpc reply from server 1
flag 23861 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 56300 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 10->9
------------------------------------------------------
term 3 Server2 start snapshot! index=9
term 3 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 3 leader 0 nextIndex[1]: 2  matchIndex[1]: 0
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 54261 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
flag 97140 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 70840 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
flag 4445 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 2860 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
flag 7362 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 12502 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
flag 59418 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 98337 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
flag 91117 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 86849 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
[{snapshot 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 29775 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 25169 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 10314 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 45823 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 85412 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 55275 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 4 server 1 vote for server 2
term 4 server 2 get vote from server 1
term 4 server 2 become leader
------------------------------------------------------
flag 1092 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 76376 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
flag 78152 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 12146 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
client write log 5098191582910451219 (index 10) to leader 2
flag 14333 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 1308 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5098191582910451219 4 10}]
------------------------------------------------------
flag 82960 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 5198 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 40383 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 51425 term 4 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5098191582910451219 4 10}]
------------------------------------------------------
client write log 2987004702046912506 (index 11) to leader 2
flag 98999 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 56221 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 48296 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 64214 term 4 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 4 leaderCommit: 10 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5098191582910451219 4 10} {2987004702046912506 4 11}]
------------------------------------------------------
flag 37533 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 9677 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 29842 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 49897 term 4 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5098191582910451219 4 10} {2987004702046912506 4 11}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8002210849542937784 (index 12) to leader 2
flag 9869 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 53518 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45479 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 57435 term 4 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5098191582910451219 4 10} {2987004702046912506 4 11} {8002210849542937784 4 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5098191582910451219 4 10} {2987004702046912506 4 11} {8002210849542937784 4 12}]
------------------------------------------------------
flag 79992 term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 23732 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5098191582910451219 4 10} {2987004702046912506 4 11} {8002210849542937784 4 12}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5098191582910451219 4 10} {2987004702046912506 4 11} {8002210849542937784 4 12}]
------------------------------------------------------
flag 49785 term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 2706 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5098191582910451219 4 10} {2987004702046912506 4 11} {8002210849542937784 4 12}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5098191582910451219 4 10} {2987004702046912506 4 11} {8002210849542937784 4 12}]
------------------------------------------------------
flag 77654 term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 43413 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5098191582910451219 4 10} {2987004702046912506 4 11} {8002210849542937784 4 12}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5098191582910451219 4 10} {2987004702046912506 4 11} {8002210849542937784 4 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 13->12
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 0  matchIndex[0]: 12
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 90269 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 InstallSnapshot fail
rf.commitIndex 12 args.LastIncludedIndex 9
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5098191582910451219 4 10} {2987004702046912506 4 11} {8002210849542937784 4 12}]
------------------------------------------------------
flag 98114 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 31241 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5098191582910451219 4 10} {2987004702046912506 4 11} {8002210849542937784 4 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5098191582910451219 4 10} {2987004702046912506 4 11} {8002210849542937784 4 12}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7414519338836963003 (index 13) to leader 2
flag 77831 term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 48844 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5098191582910451219 4 10} {2987004702046912506 4 11} {8002210849542937784 4 12} {7414519338836963003 4 13}]
------------------------------------------------------
flag 57020 term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 96267 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5098191582910451219 4 10} {2987004702046912506 4 11} {8002210849542937784 4 12} {7414519338836963003 4 13}]
------------------------------------------------------
client write log 5310552841817970273 (index 14) to leader 2
client write log 6122257912674464924 (index 15) to leader 2
client write log 25017846371242139 (index 16) to leader 2
client write log 7403152341951486731 (index 17) to leader 2
client write log 5573471142808699936 (index 18) to leader 2
client write log 8682867877919289171 (index 19) to leader 2
client write log 5633397384059932856 (index 20) to leader 2
client write log 2241689181108933626 (index 21) to leader 2
flag 33888 term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 6488 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 1 9} {5098191582910451219 4 10} {2987004702046912506 4 11} {8002210849542937784 4 12} {7414519338836963003 4 13} {5310552841817970273 4 14} {6122257912674464924 4 15} {25017846371242139 4 16} {7403152341951486731 4 17} {5573471142808699936 4 18} {8682867877919289171 4 19} {5633397384059932856 4 20} {2241689181108933626 4 21}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=21
-------------------------------------------------------------
term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 26654 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {5633397384059932856 4 20} {2241689181108933626 4 21}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=21
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6470518053909862925 (index 22) to leader 2
term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 50911 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
term 5 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {5633397384059932856 4 20} {2241689181108933626 4 21} {6470518053909862925 4 22}]
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 0 vote for server 2
term 6 server 2 get outdate rpc reply from server 0
flag 19527 term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 17339 term 6 leader 2 nextIndex[1]: 23  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {5633397384059932856 4 20} {2241689181108933626 4 21} {6470518053909862925 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 23->22
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 13  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 13766 term 6 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {5633397384059932856 4 20} {2241689181108933626 4 21} {6470518053909862925 4 22}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
flag 79498 term 6 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 6 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 80771 term 6 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {5633397384059932856 4 20} {2241689181108933626 4 21} {6470518053909862925 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {5633397384059932856 4 20} {2241689181108933626 4 21} {6470518053909862925 4 22}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78360 term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 15223 term 6 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {5633397384059932856 4 20} {2241689181108933626 4 21} {6470518053909862925 4 22}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {5633397384059932856 4 20} {2241689181108933626 4 21} {6470518053909862925 4 22}]
------------------------------------------------------
flag 35534 term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 75128 term 6 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {5633397384059932856 4 20} {2241689181108933626 4 21} {6470518053909862925 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {5633397384059932856 4 20} {2241689181108933626 4 21} {6470518053909862925 4 22}]
------------------------------------------------------
flag 58147 term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 36497 term 6 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {5633397384059932856 4 20} {2241689181108933626 4 21} {6470518053909862925 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {5633397384059932856 4 20} {2241689181108933626 4 21} {6470518053909862925 4 22}]
------------------------------------------------------
flag 93522 term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 38829 term 6 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {5633397384059932856 4 20} {2241689181108933626 4 21} {6470518053909862925 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {5633397384059932856 4 20} {2241689181108933626 4 21} {6470518053909862925 4 22}]
------------------------------------------------------
flag 16833 term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 24212 term 6 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {5633397384059932856 4 20} {2241689181108933626 4 21} {6470518053909862925 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {5633397384059932856 4 20} {2241689181108933626 4 21} {6470518053909862925 4 22}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2226577464431479210 (index 23) to leader 2
flag 84578 term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 53823 term 6 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5633397384059932856 4 20} {2241689181108933626 4 21} {6470518053909862925 4 22} {2226577464431479210 6 23}]
------------------------------------------------------
flag 71005 term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 73636 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 6 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5633397384059932856 4 20} {2241689181108933626 4 21} {6470518053909862925 4 22} {2226577464431479210 6 23}]
------------------------------------------------------
client write log 1409495140684971103 (index 24) to leader 2
client write log 5050660854220653607 (index 25) to leader 2
client write log 5312038562370252777 (index 26) to leader 2
client write log 2989800358996129757 (index 27) to leader 2
client write log 8926775740286298339 (index 28) to leader 2
client write log 4675006112691579428 (index 29) to leader 2
client write log 2033276601379537599 (index 30) to leader 2
client write log 3766758631113341707 (index 31) to leader 2
client write log 4785065026517686510 (index 32) to leader 2
client write log 6291213149180742030 (index 33) to leader 2
client write log 8917410111944259466 (index 34) to leader 2
client write log 9013166095788929959 (index 35) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40535 term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 67519 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 6 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 19} {5633397384059932856 4 20} {2241689181108933626 4 21} {6470518053909862925 4 22} {2226577464431479210 6 23} {1409495140684971103 6 24} {5050660854220653607 6 25} {5312038562370252777 6 26} {2989800358996129757 6 27} {8926775740286298339 6 28} {4675006112691579428 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=35
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 47632 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=35
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6360950661350300930 (index 36) to leader 2
term 6 server 0 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 not vote for server 0, 日志不够新
term 6 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 1 vote for server 2
term 8 server 0 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 0
flag 46639 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 93275 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 37->36
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 37->36
------------------------------------------------------
term 8 server 0 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 0
term 8 leader 2 nextIndex[0]: 23  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 7184 term 8 leader 2 nextIndex[1]: 36  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
flag 18216 term 8 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 8 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 54076 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
flag 96153 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 21644 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
flag 75421 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 7468 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
flag 4262 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 89651 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28801 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 2518 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80469 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 17774 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98131 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 71449 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
flag 32639 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 45291 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14948 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 41512 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
flag 46205 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 86053 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
flag 15942 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 15100 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54395 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 42579 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4823 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 8057 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
flag 74506 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 46817 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14073 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 63405 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53878 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 35080 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
flag 94722 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 29385 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 2
client write log 6360950661350300930 (index 37) to leader 2
flag 87201 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 58724 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36} {6360950661350300930 8 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36} {6360950661350300930 8 37}]
------------------------------------------------------
flag 66960 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 42590 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36} {6360950661350300930 8 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36} {6360950661350300930 8 37}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70909 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 78178 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36} {6360950661350300930 8 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36} {6360950661350300930 8 37}]
------------------------------------------------------
flag 61691 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 10404 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36} {6360950661350300930 8 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36} {6360950661350300930 8 37}]
------------------------------------------------------
flag 58689 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 29913 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36} {6360950661350300930 8 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36} {6360950661350300930 8 37}]
------------------------------------------------------
flag 99092 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 6835 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36} {6360950661350300930 8 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36} {6360950661350300930 8 37}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43413 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 81893 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36} {6360950661350300930 8 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36} {6360950661350300930 8 37}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
flag 27560 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 15691 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 94154 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 23152 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 50648 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 51282 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 9 server 0 vote for server 1
term 9 server 1 get vote from server 0
term 9 server 1 become leader
------------------------------------------------------
flag 22517 term 9 leader 1 nextIndex[0]: 38  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 87271 term 9 leader 1 nextIndex[2]: 38  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36} {6360950661350300930 8 37}]
------------------------------------------------------
flag 11549 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 14891 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
client write log 1351035680755953364 (index 38) to leader 1
flag 15046 term 9 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 9 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 29832 term 9 leader 1 nextIndex[2]: 38  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36} {6360950661350300930 8 37} {1351035680755953364 9 38}]
------------------------------------------------------
flag 5374 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 64228 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 99161 term 9 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 9 leaderCommit: 38 
------------------------------------------------------
flag 77585 term 9 leader 1 nextIndex[2]: 38  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36} {6360950661350300930 8 37} {1351035680755953364 9 38}]
------------------------------------------------------
flag 57686 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 20144 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
client write log 8515666547639293226 (index 39) to leader 1
flag 4548 term 9 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 9 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 9 leaderCommit: 38 
------------------------------------------------------
flag 9402 term 9 leader 1 nextIndex[2]: 38  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 29} {2033276601379537599 6 30} {3766758631113341707 6 31} {4785065026517686510 6 32} {6291213149180742030 6 33} {8917410111944259466 6 34} {9013166095788929959 6 35} {6360950661350300930 6 36} {6360950661350300930 8 37} {1351035680755953364 9 38} {8515666547639293226 9 39}]
------------------------------------------------------
flag 29409 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 43716 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 9 Server1 start snapshot! index=39
term 9 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 38->37
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 38->37
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13267 term 9 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 9 39}]
------------------------------------------------------
flag 53735 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 37
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 38->37
------------------------------------------------------
term 9 Server0 start snapshot! index=39
term 9 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1309047647047938228 (index 40) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52764 term 9 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot success
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 9 rf.commitIndex 39 rf.lastApplied 39
term 9 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {1309047647047938228 9 40}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26520 term 9 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 55384 term 9 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 9 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {1309047647047938228 9 40}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {1309047647047938228 9 40}]
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 2 not vote for server 1, 日志不够新
term 9 server 1 get outdate rpc reply from server 2
flag 85816 term 9 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 34853 term 9 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {1309047647047938228 9 40}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {1309047647047938228 9 40}]
------------------------------------------------------
flag 58306 term 9 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 21204 term 9 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {1309047647047938228 9 40}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {1309047647047938228 9 40}]
------------------------------------------------------
flag 14570 term 9 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 2449 term 9 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {1309047647047938228 9 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {1309047647047938228 9 40}]
------------------------------------------------------
flag 80573 term 9 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 27169 term 9 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {1309047647047938228 9 40}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {1309047647047938228 9 40}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78678 term 9 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 76884 term 9 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {1309047647047938228 9 40}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {1309047647047938228 9 40}]
------------------------------------------------------
flag 44971 term 9 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 67878 term 9 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {1309047647047938228 9 40}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 9 39} {1309047647047938228 9 40}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5800646225017120538 (index 41) to leader 1
term 9 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
flag 34659 term 9 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 93268 term 9 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 9 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {1309047647047938228 9 40} {5800646225017120538 9 41}]
------------------------------------------------------
flag 95987 term 9 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 56723 term 9 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 9 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 9 39} {1309047647047938228 9 40} {5800646225017120538 9 41}]
------------------------------------------------------
client write log 6587749367748620137 (index 42) to leader 1
client write log 3936883586103751996 (index 43) to leader 1
client write log 1653224896192168985 (index 44) to leader 1
client write log 8267651436143392034 (index 45) to leader 1
client write log 5528597326177841779 (index 46) to leader 1
client write log 5234146821545161164 (index 47) to leader 1
client write log 5734704575141236899 (index 48) to leader 1
client write log 6201725714341744471 (index 49) to leader 1
client write log 6761459841858979871 (index 50) to leader 1
flag 46788 term 9 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 42329 term 9 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 9 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 9 39} {1309047647047938228 9 40} {5800646225017120538 9 41} {6587749367748620137 9 42} {3936883586103751996 9 43} {1653224896192168985 9 44} {8267651436143392034 9 45} {5528597326177841779 9 46} {5234146821545161164 9 47} {5734704575141236899 9 48} {6201725714341744471 9 49} {6761459841858979871 9 50}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=50
-------------------------------------------------------------
flag 98016 term 9 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=50
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5932552569302252393 (index 51) to leader 1
flag 31664 term 9 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 10 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 0 vote for server 1
term 11 server 1 get vote from server 0
term 11 server 1 become leader
------------------------------------------------------
term 11 server 2 vote for server 1
term 11 server 1 get outdate rpc reply from server 2
flag 63704 term 11 leader 1 nextIndex[0]: 52  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 26309 term 11 leader 1 nextIndex[2]: 52  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 52->51
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2402 term 11 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 41  matchIndex[2]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 11 server 2 InstallSnapshot success
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
flag 101 term 11 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 59567 term 11 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
term 11 server 1 not vote for server 0, 任期不够新
term 11 server 0 get outdate rpc reply from server 1
flag 20921 term 11 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 77925 term 11 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42929 term 11 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 69924 term 11 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
flag 53490 term 11 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 72246 term 11 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
flag 84371 term 11 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 91527 term 11 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
flag 83177 term 11 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 87762 term 11 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
flag 84224 term 11 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 33374 term 11 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
flag 43670 term 11 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 64728 term 11 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
flag 824 term 11 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 32699 term 11 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39019 term 11 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 79804 term 11 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
flag 59112 term 11 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 3008 term 11 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
flag 8833 term 11 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 21179 term 11 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
flag 44064 term 11 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 75237 term 11 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
flag 46894 term 11 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 74222 term 11 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
flag 64709 term 11 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 52139 term 11 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47412 term 11 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 4768 term 11 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=50
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51}]
------------------------------------------------------
client write log 5932552569302252393 (index 52) to leader 1
flag 21061 term 11 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 17458 term 11 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51} {5932552569302252393 11 52}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51} {5932552569302252393 11 52}]
------------------------------------------------------
flag 85197 term 11 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 99820 term 11 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51} {5932552569302252393 11 52}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51} {5932552569302252393 11 52}]
------------------------------------------------------
flag 33713 term 11 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 11080 term 11 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51} {5932552569302252393 11 52}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51} {5932552569302252393 11 52}]
------------------------------------------------------
flag 98971 term 11 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 13581 term 11 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51} {5932552569302252393 11 52}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51} {5932552569302252393 11 52}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30918 term 11 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 99172 term 11 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51} {5932552569302252393 11 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51} {5932552569302252393 11 52}]
------------------------------------------------------
flag 13215 term 11 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 89745 term 11 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51} {5932552569302252393 11 52}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51} {5932552569302252393 11 52}]
------------------------------------------------------
flag 18794 term 11 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 75199 term 11 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51} {5932552569302252393 11 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51} {5932552569302252393 11 52}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 692212003259055965 (index 53) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86526 term 11 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 21880 term 11 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51} {5932552569302252393 11 52} {692212003259055965 11 53}]
------------------------------------------------------
flag 86087 term 11 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 6728 term 11 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51} {5932552569302252393 11 52} {692212003259055965 11 53}]
------------------------------------------------------
client write log 4295956689272810126 (index 54) to leader 1
client write log 3016268293315814574 (index 55) to leader 1
client write log 7812816905185352026 (index 56) to leader 1
client write log 8803744426496669141 (index 57) to leader 1
client write log 8450692653543181654 (index 58) to leader 1
client write log 1584758184015581167 (index 59) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14661 term 11 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 5797 term 11 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 49} {6761459841858979871 9 50} {5932552569302252393 9 51} {5932552569302252393 11 52} {692212003259055965 11 53} {4295956689272810126 11 54} {3016268293315814574 11 55} {7812816905185352026 11 56} {8803744426496669141 11 57} {8450692653543181654 11 58} {1584758184015581167 11 59}]
------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40853 term 11 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 11 59}]
------------------------------------------------------
term 11 Server0 start snapshot! index=59
term 11 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2857749708983758280 (index 60) to leader 1
term 11 server 1 not vote for server 2, 日志不够新
term 11 server 0 not vote for server 2, 日志不够新
term 13 server 2 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 1 become leader
------------------------------------------------------
term 13 server 0 vote for server 1
term 13 server 1 get outdate rpc reply from server 0
flag 57597 term 13 leader 1 nextIndex[0]: 61  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 56516 term 13 leader 1 nextIndex[2]: 61  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 61->60
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 61->60
------------------------------------------------------
flag 49200 term 13 leader 1 nextIndex[0]: 60  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 53  matchIndex[2]: 0
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 13 server 2 InstallSnapshot success
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 11 rf.commitIndex 59 rf.lastApplied 59
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
flag 51755 term 13 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 44784 term 13 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
flag 4975 term 13 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 76870 term 13 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
flag 60274 term 13 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 52820 term 13 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74327 term 13 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 90300 term 13 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
flag 35019 term 13 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 9782 term 13 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
flag 88171 term 13 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 38166 term 13 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
leader 1 sendAppendEntries -> server 2 true------------------------------------------------------
update nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
flag 53658 term 13 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 19658 term 13 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
flag 70996 term 13 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 15995 term 13 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51425 term 13 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 22408 term 13 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30832 term 13 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 64793 term 13 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80367 term 13 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 6631 term 13 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
flag 72078 term 13 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 72913 term 13 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78683 term 13 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 78812 term 13 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 0 not vote for server 2, 任期不够新
term 13 server 2 get outdate rpc reply from server 0
flag 57744 term 13 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 9152 term 13 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20063 term 13 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 52193 term 13 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
flag 7843 term 13 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 96109 term 13 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
flag 22138 term 13 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 91601 term 13 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39565 term 13 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 84421 term 13 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 11 59} {2857749708983758280 11 60}]
------------------------------------------------------
client write log 2857749708983758280 (index 61) to leader 1
flag 97206 term 13 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 52077 term 13 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61}]
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96684 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 95768 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89037 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 16138 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61}]
------------------------------------------------------
flag 16062 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 8014 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61}]
------------------------------------------------------
flag 48189 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 77358 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61}]
------------------------------------------------------
flag 94194 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 85721 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61}]
------------------------------------------------------
flag 77677 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 33106 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 48444 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 62323 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 60688 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 63134 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 45884 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 43278 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 62->61
------------------------------------------------------
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 61
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 80538 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 vote for server 0
term 14 server 0 get vote from server 2
term 14 server 0 become leader
------------------------------------------------------
flag 94949 term 14 leader 0 nextIndex[1]: 62  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 91874 term 14 leader 0 nextIndex[2]: 62  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61}]
------------------------------------------------------
client write log 8410446279256447733 (index 62) to leader 0
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 61
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 83757 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 69961 term 14 leader 0 nextIndex[1]: 62  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 13967 term 14 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62}]
------------------------------------------------------
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 61
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 59981 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 88886 term 14 leader 0 nextIndex[1]: 62  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 62 
------------------------------------------------------
flag 76667 term 14 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 14 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 14 leaderCommit: 62 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62}]
------------------------------------------------------
client write log 3755144542757463600 (index 63) to leader 0
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 61
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 48009 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 80358 term 14 leader 0 nextIndex[1]: 62  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 62 
------------------------------------------------------
flag 43528 term 14 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 14 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 14 leaderCommit: 62 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 61
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 34155 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 78787 term 14 leader 0 nextIndex[1]: 62  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 63 
------------------------------------------------------
flag 3730 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1993843526652543843 (index 62) to leader 1
term 13 leader 1 nextIndex[0]: 0  matchIndex[0]: 61
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 45819 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 14 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41548 term 14 leader 0 nextIndex[1]: 62  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 63 
------------------------------------------------------
flag 43940 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 64->63
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 63
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 94889 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 62 args.LastIncludedIndex 59
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8755 term 14 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 14 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 31626 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79549 term 14 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 82067 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
flag 14590 term 14 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 59975 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
flag 92636 term 14 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 26046 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28393 term 14 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 46750 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 313 term 14 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 93914 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
flag 80562 term 14 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 39100 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2075 term 14 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 32769 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 64->63
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 63
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 88922 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 63 args.LastIncludedIndex 59
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
flag 48521 term 14 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 14 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 14567 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
flag 35936 term 14 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 45259 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96569 term 14 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 26784 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71386 term 14 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 26153 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
flag 12114 term 14 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 4242 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
flag 788 term 14 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 86930 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
flag 39707 term 14 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 39815 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
flag 53730 term 14 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 54762 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
flag 59575 term 14 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 58389 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63}]
------------------------------------------------------
client write log 1993843526652543843 (index 64) to leader 0
flag 49517 term 14 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 31508 term 14 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63} {1993843526652543843 14 64}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63} {1993843526652543843 14 64}]
------------------------------------------------------
flag 9624 term 14 leader 0 nextIndex[1]: 65  matchIndex[1]: 64
term 14 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 14 leaderCommit: 64 
------------------------------------------------------
flag 24008 term 14 leader 0 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 14 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63} {1993843526652543843 14 64}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63} {1993843526652543843 14 64}]
------------------------------------------------------
flag 27870 term 14 leader 0 nextIndex[1]: 65  matchIndex[1]: 64
term 14 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 14 leaderCommit: 64 
------------------------------------------------------
flag 75841 term 14 leader 0 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 14 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63} {1993843526652543843 14 64}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63} {1993843526652543843 14 64}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90796 term 14 leader 0 nextIndex[1]: 65  matchIndex[1]: 64
term 14 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 14 leaderCommit: 64 
------------------------------------------------------
flag 55689 term 14 leader 0 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 14 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63} {1993843526652543843 14 64}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63} {1993843526652543843 14 64}]
------------------------------------------------------
flag 40753 term 14 leader 0 nextIndex[1]: 65  matchIndex[1]: 64
term 14 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 14 leaderCommit: 64 
------------------------------------------------------
flag 74069 term 14 leader 0 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 14 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63} {1993843526652543843 14 64}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63} {1993843526652543843 14 64}]
------------------------------------------------------
flag 57931 term 14 leader 0 nextIndex[1]: 65  matchIndex[1]: 64
term 14 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 14 leaderCommit: 64 
------------------------------------------------------
flag 505 term 14 leader 0 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 14 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63} {1993843526652543843 14 64}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63} {1993843526652543843 14 64}]
------------------------------------------------------
flag 64385 term 14 leader 0 nextIndex[1]: 65  matchIndex[1]: 64
term 14 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 14 leaderCommit: 64 
------------------------------------------------------
flag 86672 term 14 leader 0 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 14 leaderCommit: 64 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63} {1993843526652543843 14 64}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63} {1993843526652543843 14 64}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3705260726129567881 (index 65) to leader 0
flag 37002 term 14 leader 0 nextIndex[1]: 65  matchIndex[1]: 64
term 14 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 14 leaderCommit: 64 
------------------------------------------------------
flag 20051 term 14 leader 0 nextIndex[2]: 65  matchIndex[2]: 64
term 14 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 14 leaderCommit: 64 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63} {1993843526652543843 14 64} {3705260726129567881 14 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93664 term 14 leader 0 nextIndex[1]: 65  matchIndex[1]: 64
term 14 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 99507 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63} {1993843526652543843 14 64} {3705260726129567881 14 65}]
------------------------------------------------------
client write log 1677286573666519277 (index 66) to leader 0
client write log 8172040230409375840 (index 67) to leader 0
client write log 2629374793697662362 (index 68) to leader 0
client write log 7023169377995418621 (index 69) to leader 0
client write log 530044336175630418 (index 70) to leader 0
client write log 2912034571811131029 (index 71) to leader 0
client write log 5087915302853473280 (index 72) to leader 0
client write log 9039901448311619051 (index 73) to leader 0
client write log 7907321637108655987 (index 74) to leader 0
client write log 4022598328204964381 (index 75) to leader 0
client write log 7294848099937989103 (index 76) to leader 0
client write log 8210332884039536480 (index 77) to leader 0
client write log 3778728199970855206 (index 78) to leader 0
client write log 7689755241395993355 (index 79) to leader 0
client write log 7872430199837940239 (index 80) to leader 0
flag 80905 term 14 leader 0 nextIndex[1]: 65  matchIndex[1]: 64
term 14 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
flag 32729 term 14 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 14 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 14 leaderCommit: 65 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 59} {2857749708983758280 11 60} {2857749708983758280 13 61} {8410446279256447733 14 62} {3755144542757463600 14 63} {1993843526652543843 14 64} {3705260726129567881 14 65} {1677286573666519277 14 66} {8172040230409375840 14 67} {2629374793697662362 14 68} {7023169377995418621 14 69} {530044336175630418 14 70} {2912034571811131029 14 71} {5087915302853473280 14 72} {9039901448311619051 14 73} {7907321637108655987 14 74} {4022598328204964381 14 75} {7294848099937989103 14 76} {8210332884039536480 14 77} {3778728199970855206 14 78} {7689755241395993355 14 79} {7872430199837940239 14 80}]
------------------------------------------------------
term 14 Server0 start snapshot! index=69
term 14 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=80
-------------------------------------------------------------
term 14 Server0 start snapshot! index=79
term 14 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=80
-------------------------------------------------------------
term 14 leader 0 nextIndex[1]: 65  matchIndex[1]: 64
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 21281 term 14 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80}]
------------------------------------------------------
term 14 Server2 start snapshot! index=69
term 14 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=80
-------------------------------------------------------------
term 14 Server2 start snapshot! index=79
term 14 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=80
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2489062694121862081 (index 81) to leader 0
term 14 server 2 not vote for server 1, 日志不够新
term 14 server 0 not vote for server 1, 日志不够新
term 16 server 2 vote for server 0
term 16 server 1 vote for server 0
term 16 server 0 get vote from server 2
term 16 server 0 become leader
------------------------------------------------------
term 16 server 0 get outdate rpc reply from server 1
flag 93767 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 88867 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 82->81
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 82->81
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 65  matchIndex[1]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 91950 term 16 leader 0 nextIndex[2]: 81  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 16 server 1 InstallSnapshot success
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 14 rf.commitIndex 79 rf.lastApplied 79
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
flag 11152 term 16 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 16 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 93832 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
flag 90492 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 56226 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
flag 35637 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 38982 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
flag 3910 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 41398 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
flag 85331 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 89785 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 1 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 1
flag 93237 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 25660 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
term 16 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54640 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 73441 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
flag 20302 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 81927 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
flag 12898 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 43393 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36189 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 64075 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
flag 86960 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 68744 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
flag 77468 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 36995 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55701 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 68161 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
flag 55487 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 60396 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
flag 82157 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 84773 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
flag 51271 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 63219 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
flag 97841 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 5360 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21032 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 24390 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81}]
------------------------------------------------------
client write log 2489062694121862081 (index 82) to leader 0
flag 11352 term 16 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 20074 term 16 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81} {2489062694121862081 16 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81} {2489062694121862081 16 82}]
------------------------------------------------------
flag 67150 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 39765 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81} {2489062694121862081 16 82}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81} {2489062694121862081 16 82}]
------------------------------------------------------
flag 80597 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 86891 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81} {2489062694121862081 16 82}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81} {2489062694121862081 16 82}]
------------------------------------------------------
flag 28857 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 56820 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81} {2489062694121862081 16 82}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81} {2489062694121862081 16 82}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89576 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 30611 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81} {2489062694121862081 16 82}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81} {2489062694121862081 16 82}]
------------------------------------------------------
flag 89691 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 55771 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81} {2489062694121862081 16 82}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81} {2489062694121862081 16 82}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 550889378557570854 (index 83) to leader 0
flag 20548 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 45777 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81} {2489062694121862081 16 82} {550889378557570854 16 83}]
------------------------------------------------------
flag 99439 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 83295 term 16 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 16 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81} {2489062694121862081 16 82} {550889378557570854 16 83}]
------------------------------------------------------
client write log 7118416801607786854 (index 84) to leader 0
client write log 6416041723501139569 (index 85) to leader 0
client write log 3047756006697013152 (index 86) to leader 0
client write log 7547594478958794629 (index 87) to leader 0
client write log 7019462525972563346 (index 88) to leader 0
client write log 5326625739177362737 (index 89) to leader 0
client write log 7279016131235647260 (index 90) to leader 0
client write log 3553289702996092868 (index 91) to leader 0
client write log 5028337956209550960 (index 92) to leader 0
client write log 4263304733575046826 (index 93) to leader 0
client write log 8376081879580575247 (index 94) to leader 0
client write log 1148898431330736781 (index 95) to leader 0
flag 71972 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 36161 term 16 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 16 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=95
leader log:
[{snapshot 14 79} {7872430199837940239 14 80} {2489062694121862081 14 81} {2489062694121862081 16 82} {550889378557570854 16 83} {7118416801607786854 16 84} {6416041723501139569 16 85} {3047756006697013152 16 86} {7547594478958794629 16 87} {7019462525972563346 16 88} {5326625739177362737 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95}]
------------------------------------------------------
term 16 Server0 start snapshot! index=89
term 16 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=95
-------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 19792 term 16 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 16 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95}]
------------------------------------------------------
term 16 Server2 start snapshot! index=89
term 16 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=95
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8211526864058781903 (index 96) to leader 0
term 16 server 2 not vote for server 1, 日志不够新
term 16 server 0 not vote for server 1, 日志不够新
term 18 server 1 vote for server 0
term 18 server 0 get vote from server 1
term 18 server 0 become leader
------------------------------------------------------
term 18 server 2 vote for server 0
term 18 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27614 term 18 leader 0 nextIndex[1]: 97  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 11187 term 18 leader 0 nextIndex[2]: 97  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 97->96
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 97->96
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 83  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 52736 term 18 leader 0 nextIndex[2]: 96  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
term 18 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 16 rf.commitIndex 89 rf.lastApplied 89
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
flag 44152 term 18 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 18 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 52359 term 18 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47109 term 18 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 23946 term 18 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11673 term 18 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 70722 term 18 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80904 term 18 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 83146 term 18 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
flag 75038 term 18 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 7503 term 18 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
flag 70714 term 18 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 75537 term 18 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
flag 87207 term 18 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 15232 term 18 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
flag 16969 term 18 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 93606 term 18 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
flag 47336 term 18 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 36615 term 18 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
flag 38615 term 18 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 39062 term 18 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
flag 7311 term 18 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 7994 term 18 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
flag 80344 term 18 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 30973 term 18 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
flag 86748 term 18 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 22562 term 18 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
flag 99822 term 18 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 5201 term 18 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
flag 61612 term 18 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 33042 term 18 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67681 term 18 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 54074 term 18 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
flag 97124 term 18 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 46158 term 18 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
flag 95625 term 18 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 37993 term 18 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96}]
------------------------------------------------------
client write log 8211526864058781903 (index 97) to leader 0
flag 49331 term 18 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 23008 term 18 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96} {8211526864058781903 18 97}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96} {8211526864058781903 18 97}]
------------------------------------------------------
flag 99455 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 71812 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96} {8211526864058781903 18 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96} {8211526864058781903 18 97}]
------------------------------------------------------
flag 72708 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 93750 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
term 18 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96} {8211526864058781903 18 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96} {8211526864058781903 18 97}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90823 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 42339 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96} {8211526864058781903 18 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96} {8211526864058781903 18 97}]
------------------------------------------------------
flag 85775 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 55489 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96} {8211526864058781903 18 97}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96} {8211526864058781903 18 97}]
------------------------------------------------------
flag 4551 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 58063 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96} {8211526864058781903 18 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96} {8211526864058781903 18 97}]
------------------------------------------------------
flag 76891 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 95213 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96} {8211526864058781903 18 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96} {8211526864058781903 18 97}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 78969 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 73778 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 93011 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 9535 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 30087 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 14056 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
term 19 server 2 vote for server 1
term 19 server 1 get vote from server 2
term 19 server 1 become leader
------------------------------------------------------
flag 34272 term 19 leader 1 nextIndex[0]: 98  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 30139 term 19 leader 1 nextIndex[2]: 98  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96} {8211526864058781903 18 97}]
------------------------------------------------------
flag 81414 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 58479 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
client write log 9015190537865557046 (index 98) to leader 1
flag 51949 term 19 leader 1 nextIndex[0]: 98  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 81542 term 19 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 19 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96} {8211526864058781903 18 97} {9015190537865557046 19 98}]
------------------------------------------------------
flag 99367 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 96587 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 6229 term 19 leader 1 nextIndex[0]: 98  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 87990 term 19 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 19 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 19 leaderCommit: 98 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96} {8211526864058781903 18 97} {9015190537865557046 19 98}]
------------------------------------------------------
client write log 6597634172155675 (index 99) to leader 1
client write log 2783059045600238810 (index 100) to leader 1
client write log 9005241997008568326 (index 101) to leader 1
client write log 5342303022252165394 (index 102) to leader 1
client write log 1979529049704272623 (index 103) to leader 1
client write log 4201958590006783383 (index 104) to leader 1
client write log 5043290135824305375 (index 105) to leader 1
client write log 4163259492359277838 (index 106) to leader 1
client write log 8591324025307046841 (index 107) to leader 1
client write log 3391552579477634686 (index 108) to leader 1
client write log 7141023719491374885 (index 109) to leader 1
client write log 7685884399517587671 (index 110) to leader 1
flag 94637 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 18682 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 76817 term 19 leader 1 nextIndex[0]: 98  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 79304 term 19 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 19 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 19 leaderCommit: 98 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 89} {7279016131235647260 16 90} {3553289702996092868 16 91} {5028337956209550960 16 92} {4263304733575046826 16 93} {8376081879580575247 16 94} {1148898431330736781 16 95} {8211526864058781903 16 96} {8211526864058781903 18 97} {9015190537865557046 19 98} {6597634172155675 19 99} {2783059045600238810 19 100} {9005241997008568326 19 101} {5342303022252165394 19 102} {1979529049704272623 19 103} {4201958590006783383 19 104} {5043290135824305375 19 105} {4163259492359277838 19 106} {8591324025307046841 19 107} {3391552579477634686 19 108} {7141023719491374885 19 109} {7685884399517587671 19 110}]
------------------------------------------------------
term 19 Server1 start snapshot! index=99
term 19 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=110
-------------------------------------------------------------
term 19 Server1 start snapshot! index=109
term 19 server1 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=110
-------------------------------------------------------------
flag 66014 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 89603 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
term 19 leader 1 nextIndex[0]: 98  matchIndex[0]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 62051 term 19 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {7685884399517587671 19 110}]
------------------------------------------------------
term 19 Server2 start snapshot! index=99
term 19 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=110
-------------------------------------------------------------
term 19 Server2 start snapshot! index=109
term 19 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=110
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1549446192362743119 (index 111) to leader 1
flag 60718 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 30006 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
term 19 server 2 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 19 server 1 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 1 not vote for server 2, 任期不够新
term 19 server 2 get outdate rpc reply from server 1
term 19 leader 1 nextIndex[0]: 98  matchIndex[0]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 17721 term 19 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 0 InstallSnapshot success
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 19 rf.commitIndex 109 rf.lastApplied 109
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {7685884399517587671 19 110} {1549446192362743119 19 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 110->109
------------------------------------------------------
term 19 leader 1 nextIndex[0]: 0  matchIndex[0]: 109
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 22028 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {7685884399517587671 19 110} {1549446192362743119 19 111}]
------------------------------------------------------
term 19 server 0 InstallSnapshot fail
rf.commitIndex 109 args.LastIncludedIndex 109
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
flag 15446 term 19 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 80421 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {7685884399517587671 19 110} {1549446192362743119 19 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {7685884399517587671 19 110} {1549446192362743119 19 111}]
------------------------------------------------------
flag 73267 term 19 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 56665 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {7685884399517587671 19 110} {1549446192362743119 19 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {7685884399517587671 19 110} {1549446192362743119 19 111}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66542 term 19 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 54776 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {7685884399517587671 19 110} {1549446192362743119 19 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {7685884399517587671 19 110} {1549446192362743119 19 111}]
------------------------------------------------------
flag 21256 term 19 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 54793 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {7685884399517587671 19 110} {1549446192362743119 19 111}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {7685884399517587671 19 110} {1549446192362743119 19 111}]
------------------------------------------------------
flag 23177 term 19 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 5115 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {7685884399517587671 19 110} {1549446192362743119 19 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {7685884399517587671 19 110} {1549446192362743119 19 111}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19627 term 19 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 91440 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {7685884399517587671 19 110} {1549446192362743119 19 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {7685884399517587671 19 110} {1549446192362743119 19 111}]
------------------------------------------------------
flag 70589 term 19 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 20696 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {7685884399517587671 19 110} {1549446192362743119 19 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {7685884399517587671 19 110} {1549446192362743119 19 111}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3643883070853839883 (index 112) to leader 1
flag 65903 term 19 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 62917 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {7685884399517587671 19 110} {1549446192362743119 19 111} {3643883070853839883 19 112}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78388 term 19 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 19 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 31783 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {7685884399517587671 19 110} {1549446192362743119 19 111} {3643883070853839883 19 112}]
------------------------------------------------------
client write log 8312915554905734809 (index 113) to leader 1
client write log 4205100178339484941 (index 114) to leader 1
client write log 4370255554603073429 (index 115) to leader 1
client write log 3428475158662047918 (index 116) to leader 1
client write log 106303164238306502 (index 117) to leader 1
client write log 4367143332818049655 (index 118) to leader 1
client write log 2167596980726679961 (index 119) to leader 1
client write log 1628078051902642269 (index 120) to leader 1
term 19 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
flag 40092 term 19 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 67347 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 109} {7685884399517587671 19 110} {1549446192362743119 19 111} {3643883070853839883 19 112} {8312915554905734809 19 113} {4205100178339484941 19 114} {4370255554603073429 19 115} {3428475158662047918 19 116} {106303164238306502 19 117} {4367143332818049655 19 118} {2167596980726679961 19 119} {1628078051902642269 19 120}]
------------------------------------------------------
term 19 Server1 start snapshot! index=119
term 19 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=120
-------------------------------------------------------------
flag 93767 term 19 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 19 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120}]
------------------------------------------------------
term 19 Server0 start snapshot! index=119
term 19 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=120
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5205633099014157565 (index 121) to leader 1
term 19 server 0 not vote for server 2, 日志不够新
term 19 server 1 not vote for server 2, 日志不够新
term 21 server 2 vote for server 1
term 21 server 1 get vote from server 2
term 21 server 1 become leader
------------------------------------------------------
term 21 server 0 vote for server 1
term 21 server 1 get outdate rpc reply from server 0
flag 57441 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 76964 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 122->121
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 122->121
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1639 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 112  matchIndex[2]: 0
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 21 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
flag 88476 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 15785 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3442 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 9932 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
flag 59469 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 39688 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
flag 8922 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 36884 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
flag 76438 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 5079 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33115 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 84589 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33516 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 67718 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34694 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 73498 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92398 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 49627 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
flag 35607 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 91677 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18895 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 86062 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=120
leader log:
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
flag 54480 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 60 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
flag 13466 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 70012 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
flag 10788 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 22140 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96593 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 74439 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
flag 35725 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 52200 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
flag 95890 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 4117 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1277 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 25079 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121}]
------------------------------------------------------
client write log 5205633099014157565 (index 122) to leader 1
flag 8129 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 66918 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121} {5205633099014157565 21 122}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121} {5205633099014157565 21 122}]
------------------------------------------------------
flag 86782 term 21 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 66932 term 21 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121} {5205633099014157565 21 122}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121} {5205633099014157565 21 122}]
------------------------------------------------------
flag 71635 term 21 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 60582 term 21 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueterm 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
update nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121} {5205633099014157565 21 122}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121} {5205633099014157565 21 122}]
------------------------------------------------------
flag 72414 term 21 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 99840 term 21 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121} {5205633099014157565 21 122}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121} {5205633099014157565 21 122}]
------------------------------------------------------
flag 95088 term 21 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 18732 term 21 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121} {5205633099014157565 21 122}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121} {5205633099014157565 21 122}]
------------------------------------------------------
flag 98955 term 21 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 39075 term 21 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121} {5205633099014157565 21 122}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121} {5205633099014157565 21 122}]
------------------------------------------------------
flag 11533 term 21 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 58544 term 21 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121} {5205633099014157565 21 122}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121} {5205633099014157565 21 122}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 489528700323953732 (index 123) to leader 1
flag 48178 term 21 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 61953 term 21 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121} {5205633099014157565 21 122} {489528700323953732 21 123}]
------------------------------------------------------
flag 30089 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 57901 term 21 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121} {5205633099014157565 21 122} {489528700323953732 21 123}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4896116817146208306 (index 124) to leader 1
client write log 6431052461147285531 (index 125) to leader 1
client write log 3812983748069141977 (index 126) to leader 1
client write log 7157596567951679362 (index 127) to leader 1
client write log 7248132989988322885 (index 128) to leader 1
client write log 1803805611084474796 (index 129) to leader 1
client write log 7131775268031858851 (index 130) to leader 1
client write log 8325285232558538601 (index 131) to leader 1
client write log 6316080296685105464 (index 132) to leader 1
client write log 4248643181653985306 (index 133) to leader 1
client write log 779741065077462123 (index 134) to leader 1
client write log 1363020002337377072 (index 135) to leader 1
flag 54907 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 16694 term 21 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 19 119} {1628078051902642269 19 120} {5205633099014157565 19 121} {5205633099014157565 21 122} {489528700323953732 21 123} {4896116817146208306 21 124} {6431052461147285531 21 125} {3812983748069141977 21 126} {7157596567951679362 21 127} {7248132989988322885 21 128} {1803805611084474796 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135}]
------------------------------------------------------
term 21 Server1 start snapshot! index=129
term 21 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=135
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 123->122
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34830 term 21 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 21 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 0  matchIndex[2]: 122
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135}]
------------------------------------------------------
term 21 Server0 start snapshot! index=129
term 21 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=135
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5189372574821137295 (index 136) to leader 1
term 21 server 1 not vote for server 2, 日志不够新
term 21 server 0 not vote for server 2, 日志不够新
term 23 server 2 vote for server 1
term 23 server 0 vote for server 1
term 23 server 1 get vote from server 0
term 23 server 1 become leader
------------------------------------------------------
term 23 server 1 get outdate rpc reply from server 2
flag 33405 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 55120 term 23 leader 1 nextIndex[2]: 137  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 137->136
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 137->136
------------------------------------------------------
flag 40934 term 23 leader 1 nextIndex[0]: 136  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 123  matchIndex[2]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 23 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
rf.lastIncludedIndex 129 rf.lastIncludedTerm 21 rf.commitIndex 129 rf.lastApplied 129
term 23 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93813 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 34628 term 23 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
flag 51717 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 76403 term 23 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
flag 4878 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 2691 term 23 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
term 23 server 0 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71076 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 10908 term 23 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10887 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 45200 term 23 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
flag 63840 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 95134 term 23 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
flag 1272 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 60139 term 23 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80184 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 92888 term 23 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
flag 91820 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 19910 term 23 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85444 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 91580 term 23 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40360 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 51352 term 23 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
flag 81310 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 26758 term 23 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
flag 77585 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 16306 term 23 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
flag 59790 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 83268 term 23 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
flag 53871 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 64033 term 23 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
flag 59744 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 55404 term 23 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
flag 27641 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 4453 term 23 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
flag 60952 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 4740 term 23 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136}]
------------------------------------------------------
client write log 5189372574821137295 (index 137) to leader 1
flag 16007 term 23 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 75930 term 23 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 23 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136} {5189372574821137295 23 137}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136} {5189372574821137295 23 137}]
------------------------------------------------------
flag 93411 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 92410 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136} {5189372574821137295 23 137}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136} {5189372574821137295 23 137}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52303 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 42916 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136} {5189372574821137295 23 137}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136} {5189372574821137295 23 137}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15235 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 2482 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136} {5189372574821137295 23 137}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136} {5189372574821137295 23 137}]
------------------------------------------------------
flag 99742 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 67802 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136} {5189372574821137295 23 137}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136} {5189372574821137295 23 137}]
------------------------------------------------------
flag 76559 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 66254 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136} {5189372574821137295 23 137}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136} {5189372574821137295 23 137}]
------------------------------------------------------
flag 74766 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 66787 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136} {5189372574821137295 23 137}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136} {5189372574821137295 23 137}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 14042 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 98082 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 62563 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 61512 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 64385 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 98030 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 24 server 2 vote for server 0
term 24 server 0 get vote from server 2
term 24 server 0 become leader
------------------------------------------------------
flag 774 term 24 leader 0 nextIndex[1]: 138  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 33374 term 24 leader 0 nextIndex[2]: 138  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136} {5189372574821137295 23 137}]
------------------------------------------------------
client write log 2632585338856680386 (index 138) to leader 0
flag 38803 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 15452 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 56001 term 24 leader 0 nextIndex[1]: 138  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 28497 term 24 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 24 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136} {5189372574821137295 23 137} {2632585338856680386 24 138}]
------------------------------------------------------
flag 19637 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 98427 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 34283 term 24 leader 0 nextIndex[1]: 138  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 51519 term 24 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 24 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 24 leaderCommit: 138 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136} {5189372574821137295 23 137} {2632585338856680386 24 138}]
------------------------------------------------------
client write log 6233676924211399272 (index 139) to leader 0
flag 19372 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 77563 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 16729 term 24 leader 0 nextIndex[1]: 138  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 12687 term 24 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 24 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 24 leaderCommit: 138 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 129} {7131775268031858851 21 130} {8325285232558538601 21 131} {6316080296685105464 21 132} {4248643181653985306 21 133} {779741065077462123 21 134} {1363020002337377072 21 135} {5189372574821137295 21 136} {5189372574821137295 23 137} {2632585338856680386 24 138} {6233676924211399272 24 139}]
------------------------------------------------------
term 24 Server0 start snapshot! index=139
term 24 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
flag 96492 term 23 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 38876 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 138->137
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 138  matchIndex[1]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
flag 6465 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
term 24 Server2 start snapshot! index=139
term 24 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6391134527949311001 (index 138) to leader 1
term 23 leader 1 nextIndex[0]: 0  matchIndex[0]: 137
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 91030 term 23 leader 1 nextIndex[2]: 138  matchIndex[2]: 137
term 23 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 24 server 2 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 24 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 24 leader 0 nextIndex[1]: 138  matchIndex[1]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
flag 52774 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
term 24 server 1 InstallSnapshot success
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 24 rf.commitIndex 139 rf.lastApplied 139
flag 15753 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 75372 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71298 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 15845 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
flag 63000 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 99690 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19623 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 19395 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
flag 96711 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 479 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60626 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 60522 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
flag 50073 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 42035 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
flag 7976 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 60263 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
flag 65108 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 12270 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77066 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 2492 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 140->139
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 139
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
flag 60344 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 InstallSnapshot fail
rf.commitIndex 139 args.LastIncludedIndex 139
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65694 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 67774 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
flag 78778 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 96726 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83851 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 6869 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
flag 18244 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 62698 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
flag 46802 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 91812 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
[{snapshot 24 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
flag 63892 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 13829 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1228 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 42366 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3606 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 86778 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 24 139}]
------------------------------------------------------
client write log 6391134527949311001 (index 140) to leader 0
flag 9830 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
flag 10818 term 24 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 139 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {6391134527949311001 24 140}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {6391134527949311001 24 140}]
------------------------------------------------------
flag 3315 term 24 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 59653 term 24 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 24 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {6391134527949311001 24 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {6391134527949311001 24 140}]
------------------------------------------------------
flag 7146 term 24 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 63413 term 24 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 24 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {6391134527949311001 24 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {6391134527949311001 24 140}]
------------------------------------------------------
flag 40439 term 24 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 87342 term 24 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 24 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {6391134527949311001 24 140}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {6391134527949311001 24 140}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4277 term 24 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 30333 term 24 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 24 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {6391134527949311001 24 140}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {6391134527949311001 24 140}]
------------------------------------------------------
term 24 server 1 not vote for server 0, 日志不够新
term 24 server 0 get outdate rpc reply from server 1
flag 73325 term 24 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 39305 term 24 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 24 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {6391134527949311001 24 140}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {6391134527949311001 24 140}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7427451339551125312 (index 141) to leader 0
flag 91068 term 24 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
flag 78783 term 24 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 24 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {6391134527949311001 24 140} {7427451339551125312 24 141}]
------------------------------------------------------
flag 25295 term 24 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 78755 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {6391134527949311001 24 140} {7427451339551125312 24 141}]
------------------------------------------------------
client write log 5790633261081813543 (index 142) to leader 0
client write log 3143016832338633305 (index 143) to leader 0
client write log 631954094360260820 (index 144) to leader 0
client write log 7892789296735470785 (index 145) to leader 0
client write log 7930624747707984149 (index 146) to leader 0
client write log 6269047788765681518 (index 147) to leader 0
client write log 27081389155068378 (index 148) to leader 0
client write log 720653852614667048 (index 149) to leader 0
flag 67000 term 24 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 20470 term 24 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 24 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 24 139} {6391134527949311001 24 140} {7427451339551125312 24 141} {5790633261081813543 24 142} {3143016832338633305 24 143} {631954094360260820 24 144} {7892789296735470785 24 145} {7930624747707984149 24 146} {6269047788765681518 24 147} {27081389155068378 24 148} {720653852614667048 24 149}]
------------------------------------------------------
term 24 Server0 start snapshot! index=149
term 24 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
term 24 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 64962 term 24 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 24 leaderCommit: 149 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 24 149}]
------------------------------------------------------
term 24 Server2 start snapshot! index=149
term 24 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3836177946137039014 (index 150) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 141->140
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 140
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 97088 term 24 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 24 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 24 leaderCommit: 149 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 24 149} {3836177946137039014 24 150}]
------------------------------------------------------
term 25 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 2 vote for server 0
term 26 server 1 vote for server 0
term 26 server 0 get vote from server 2
term 26 server 0 become leader
------------------------------------------------------
term 26 server 0 get outdate rpc reply from server 1
flag 99782 term 26 leader 0 nextIndex[1]: 151  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 19545 term 26 leader 0 nextIndex[2]: 151  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 26 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 151->150
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 24 149} {3836177946137039014 24 150}]
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 141  matchIndex[1]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 13350 term 26 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 26 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 24 149} {3836177946137039014 24 150}]
------------------------------------------------------
term 26 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 24 rf.commitIndex 149 rf.lastApplied 149
term 26 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
flag 18808 term 26 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 26 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 58483 term 26 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 26 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 24 149} {3836177946137039014 24 150}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 24 149} {3836177946137039014 24 150}]
------------------------------------------------------
flag 1682 term 26 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 26 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 39413 term 26 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 26 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 24 149} {3836177946137039014 24 150}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 24 149} {3836177946137039014 24 150}]
------------------------------------------------------
flag 26206 term 26 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 26 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 96535 term 26 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 26 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 24 149} {3836177946137039014 24 150}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 24 149} {3836177946137039014 24 150}]
------------------------------------------------------
flag 12954 term 26 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 26 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 81927 term 26 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 26 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 24 149} {3836177946137039014 24 150}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 24 149} {3836177946137039014 24 150}]
------------------------------------------------------
flag 71553 term 26 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 26 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 53045 term 26 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 26 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 24 149} {3836177946137039014 24 150}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 24 149} {3836177946137039014 24 150}]
------------------------------------------------------
flag 35775 term 26 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 26 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 79685 term 26 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 26 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 24 149} {3836177946137039014 24 150}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 24 149} {3836177946137039014 24 150}]
------------------------------------------------------
flag 90971 term 26 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 26 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 5112 term 26 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 26 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 24 149} {3836177946137039014 24 150}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 24 149} {3836177946137039014 24 150}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2238597126281675310 (index 151) to leader 0
flag 69422 term 26 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 26 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 90831 term 26 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 26 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3836177946137039014 24 150} {2238597126281675310 26 151}]
------------------------------------------------------
flag 13778 term 26 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 26 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 99784 term 26 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 24 149} {3836177946137039014 24 150} {2238597126281675310 26 151}]
------------------------------------------------------
client write log 7283002116507299053 (index 152) to leader 0
client write log 7920378768384782116 (index 153) to leader 0
client write log 3198142285385419526 (index 154) to leader 0
client write log 8931705870071237579 (index 155) to leader 0
client write log 6603730787261614224 (index 156) to leader 0
client write log 5667021576083535775 (index 157) to leader 0
client write log 9094942470610901787 (index 158) to leader 0
client write log 3740141818471105219 (index 159) to leader 0
client write log 6741596267146867723 (index 160) to leader 0
client write log 95526433979480621 (index 161) to leader 0
client write log 9073360642781867197 (index 162) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15184 term 26 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 26 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 11823 term 26 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 26 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 26 leaderCommit: 151 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 24 149} {3836177946137039014 24 150} {2238597126281675310 26 151} {7283002116507299053 26 152} {7920378768384782116 26 153} {3198142285385419526 26 154} {8931705870071237579 26 155} {6603730787261614224 26 156} {5667021576083535775 26 157} {9094942470610901787 26 158} {3740141818471105219 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162}]
------------------------------------------------------
term 26 Server0 start snapshot! index=159
term 26 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=162
-------------------------------------------------------------
term 26 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 18076 term 26 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 26 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162}]
------------------------------------------------------
term 26 Server2 start snapshot! index=159
term 26 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=162
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1583039381676314172 (index 163) to leader 0
term 26 server 2 not vote for server 1, 日志不够新
term 26 server 0 not vote for server 1, 日志不够新
term 28 server 2 vote for server 0
term 28 server 0 get vote from server 2
term 28 server 0 become leader
------------------------------------------------------
term 28 server 1 vote for server 0
term 28 server 0 get outdate rpc reply from server 1
flag 32070 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 86141 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 164->163
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 164->163
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 151  matchIndex[1]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 51087 term 28 leader 0 nextIndex[2]: 163  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
term 28 server 1 InstallSnapshot success
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 26 rf.commitIndex 159 rf.lastApplied 159
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71412 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 63583 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
flag 97598 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 19712 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43689 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 12023 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
flag 87278 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 26223 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64439 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 59276 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
flag 61810 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 10059 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50525 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 62822 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
flag 86077 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 56197 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46545 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 22003 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
flag 79252 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 41982 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15685 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 92082 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
term 28 server 0 not vote for server 1, 任期不够新
term 28 server 1 get outdate rpc reply from server 0
flag 12478 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 32987 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
flag 88418 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 56016 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
flag 47377 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 12331 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49531 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 85734 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46706 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 39166 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
flag 5699 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 33585 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=162
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163}]
------------------------------------------------------
client write log 1583039381676314172 (index 164) to leader 0
flag 82341 term 28 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
flag 21932 term 28 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 26 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164}]
------------------------------------------------------
flag 67072 term 28 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 19444 term 28 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164}]
------------------------------------------------------
flag 13390 term 28 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 48536 term 28 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164}]
------------------------------------------------------
flag 5150 term 28 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 3729 term 28 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164}]
------------------------------------------------------
flag 34419 term 28 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 37487 term 28 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
update nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164}]
------------------------------------------------------
flag 51712 term 28 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 84023 term 28 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37318 term 28 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 82166 term 28 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 88620 term 28 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 12182 term 28 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 81626 term 28 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 6921 term 28 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 48883 term 28 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 58485 term 28 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 40731 term 28 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 11894 term 28 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 29 server 1 vote for server 2
term 29 server 2 get vote from server 1
term 29 server 2 become leader
------------------------------------------------------
flag 66865 term 29 leader 2 nextIndex[0]: 165  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 1678 term 29 leader 2 nextIndex[1]: 165  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164}]
------------------------------------------------------
client write log 3892568683745473470 (index 165) to leader 2
flag 98082 term 28 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 89356 term 28 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 165->164
------------------------------------------------------
flag 10030 term 29 leader 2 nextIndex[0]: 165  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 47492 term 29 leader 2 nextIndex[1]: 165  matchIndex[1]: 164
term 29 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164} {3892568683745473470 29 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 165->164
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 0  matchIndex[1]: 164
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
term 28 leader 0 nextIndex[2]: 0  matchIndex[2]: 164
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 20123 term 29 leader 2 nextIndex[0]: 165  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 44780 term 29 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 29 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 29 leaderCommit: 165 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164} {3892568683745473470 29 165}]
------------------------------------------------------
client write log 164059790791419488 (index 166) to leader 2
term 28 leader 0 nextIndex[1]: 0  matchIndex[1]: 164
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
term 28 leader 0 nextIndex[2]: 0  matchIndex[2]: 164
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84309 term 29 leader 2 nextIndex[0]: 165  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 97937 term 29 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 29 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 29 leaderCommit: 165 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164} {3892568683745473470 29 165} {164059790791419488 29 166}]
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 0  matchIndex[1]: 164
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
term 28 leader 0 nextIndex[2]: 0  matchIndex[2]: 164
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 63527 term 29 leader 2 nextIndex[0]: 165  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 64945 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164} {3892568683745473470 29 165} {164059790791419488 29 166}]
------------------------------------------------------
!!!!!!connect server 0
client write log 4571950591795030508 (index 167) to leader 2
term 28 leader 0 nextIndex[1]: 0  matchIndex[1]: 164
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
term 28 leader 0 nextIndex[2]: 0  matchIndex[2]: 164
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
term 29 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11131 term 29 leader 2 nextIndex[0]: 165  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 20727 term 29 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 29 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164} {3892568683745473470 29 165} {164059790791419488 29 166} {4571950591795030508 29 167}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164} {3892568683745473470 29 165} {164059790791419488 29 166} {4571950591795030508 29 167}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34009 term 29 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
flag 25829 term 29 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164} {3892568683745473470 29 165} {164059790791419488 29 166} {4571950591795030508 29 167}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164} {3892568683745473470 29 165} {164059790791419488 29 166} {4571950591795030508 29 167}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 168->167
------------------------------------------------------
term 29 leader 2 nextIndex[0]: 0  matchIndex[0]: 167
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 69590 term 29 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
term 29 server 0 InstallSnapshot fail
rf.commitIndex 167 args.LastIncludedIndex 159
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164} {3892568683745473470 29 165} {164059790791419488 29 166} {4571950591795030508 29 167}]
------------------------------------------------------
flag 21097 term 29 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 29 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
flag 20721 term 29 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164} {3892568683745473470 29 165} {164059790791419488 29 166} {4571950591795030508 29 167}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164} {3892568683745473470 29 165} {164059790791419488 29 166} {4571950591795030508 29 167}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27206 term 29 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
flag 81518 term 29 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164} {3892568683745473470 29 165} {164059790791419488 29 166} {4571950591795030508 29 167}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164} {3892568683745473470 29 165} {164059790791419488 29 166} {4571950591795030508 29 167}]
------------------------------------------------------
flag 99404 term 29 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
flag 3528 term 29 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
term 29 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164} {3892568683745473470 29 165} {164059790791419488 29 166} {4571950591795030508 29 167}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164} {3892568683745473470 29 165} {164059790791419488 29 166} {4571950591795030508 29 167}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 565326721955580683 (index 168) to leader 2
flag 99428 term 29 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
flag 3566 term 29 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164} {3892568683745473470 29 165} {164059790791419488 29 166} {4571950591795030508 29 167} {565326721955580683 29 168}]
------------------------------------------------------
term 29 server 2 not vote for server 1, 任期不够新
term 29 server 1 get outdate rpc reply from server 2
flag 91203 term 29 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 36050 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164} {3892568683745473470 29 165} {164059790791419488 29 166} {4571950591795030508 29 167} {565326721955580683 29 168}]
------------------------------------------------------
client write log 4676574476399308714 (index 169) to leader 2
client write log 4325706646460992746 (index 170) to leader 2
client write log 8677316850897689039 (index 171) to leader 2
client write log 3399525279174344505 (index 172) to leader 2
client write log 4271666451260773163 (index 173) to leader 2
client write log 1277242367904567682 (index 174) to leader 2
client write log 8893096388549596089 (index 175) to leader 2
client write log 458161495021045394 (index 176) to leader 2
client write log 2664776416841608780 (index 177) to leader 2
client write log 7821192309049754935 (index 178) to leader 2
client write log 6083619408368413460 (index 179) to leader 2
client write log 6700919413985184406 (index 180) to leader 2
client write log 3168509340806272030 (index 181) to leader 2
client write log 6121179956169502682 (index 182) to leader 2
flag 82651 term 29 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 16532 term 29 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 159} {6741596267146867723 26 160} {95526433979480621 26 161} {9073360642781867197 26 162} {1583039381676314172 26 163} {1583039381676314172 28 164} {3892568683745473470 29 165} {164059790791419488 29 166} {4571950591795030508 29 167} {565326721955580683 29 168} {4676574476399308714 29 169} {4325706646460992746 29 170} {8677316850897689039 29 171} {3399525279174344505 29 172} {4271666451260773163 29 173} {1277242367904567682 29 174} {8893096388549596089 29 175} {458161495021045394 29 176} {2664776416841608780 29 177} {7821192309049754935 29 178} {6083619408368413460 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182}]
------------------------------------------------------
term 29 Server2 start snapshot! index=169
term 29 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=182
-------------------------------------------------------------
term 29 Server2 start snapshot! index=179
term 29 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=182
-------------------------------------------------------------
term 29 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 37285 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182}]
------------------------------------------------------
term 29 Server1 start snapshot! index=169
term 29 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=182
-------------------------------------------------------------
term 29 Server1 start snapshot! index=179
term 29 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=182
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6690271125015749619 (index 183) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 2 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 2432 term 29 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 29 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 30 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 1 vote for server 2
term 31 server 0 vote for server 2
term 31 server 2 get vote from server 1
term 31 server 2 become leader
------------------------------------------------------
term 31 server 2 get outdate rpc reply from server 0
flag 32862 term 31 leader 2 nextIndex[0]: 184  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 17855 term 31 leader 2 nextIndex[1]: 184  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 184->183
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 168  matchIndex[0]: 0
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 41288 term 31 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
term 31 server 0 InstallSnapshot success
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 29 rf.commitIndex 179 rf.lastApplied 179
term 31 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54311 term 31 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 31 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 1465 term 31 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68677 term 31 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 58581 term 31 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
flag 40952 term 31 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 2609 term 31 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22773 term 31 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 21014 term 31 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
flag 55668 term 31 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 93498 term 31 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30982 term 31 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 78129 term 31 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
flag 35788 term 31 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 14038 term 31 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
flag 71264 term 31 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 29447 term 31 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
flag 68527 term 31 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 67918 term 31 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1416 term 31 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 20863 term 31 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41027 term 31 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 71586 term 31 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
flag 59758 term 31 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 26753 term 31 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
flag 85963 term 31 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 48605 term 31 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
flag 3380 term 31 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 15364 term 31 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
flag 3583 term 31 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 29847 term 31 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34298 term 31 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 33048 term 31 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
flag 48160 term 31 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 75619 term 31 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183}]
------------------------------------------------------
client write log 6690271125015749619 (index 184) to leader 2
flag 46626 term 31 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 5042 term 31 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 31 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183} {6690271125015749619 31 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183} {6690271125015749619 31 184}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44499 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 77362 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183} {6690271125015749619 31 184}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183} {6690271125015749619 31 184}]
------------------------------------------------------
flag 39660 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 22476 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183} {6690271125015749619 31 184}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183} {6690271125015749619 31 184}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49474 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 71662 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183} {6690271125015749619 31 184}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183} {6690271125015749619 31 184}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33883 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 84341 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183} {6690271125015749619 31 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183} {6690271125015749619 31 184}]
------------------------------------------------------
term 31 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9350 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 27714 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183} {6690271125015749619 31 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183} {6690271125015749619 31 184}]
------------------------------------------------------
flag 91386 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 88161 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183} {6690271125015749619 31 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183} {6690271125015749619 31 184}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5252814860454924264 (index 185) to leader 2
flag 40288 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
flag 78586 term 31 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 184 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183} {6690271125015749619 31 184} {5252814860454924264 31 185}]
------------------------------------------------------
flag 40649 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 52522 term 31 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183} {6690271125015749619 31 184} {5252814860454924264 31 185}]
------------------------------------------------------
client write log 5484901765832203379 (index 186) to leader 2
client write log 1658447639161646616 (index 187) to leader 2
client write log 2756731099931255719 (index 188) to leader 2
client write log 8817334442341429089 (index 189) to leader 2
client write log 4591373731456911945 (index 190) to leader 2
client write log 772861198126849783 (index 191) to leader 2
client write log 250612260644733681 (index 192) to leader 2
client write log 734195897794811624 (index 193) to leader 2
flag 86318 term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 35021 term 31 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 179} {6700919413985184406 29 180} {3168509340806272030 29 181} {6121179956169502682 29 182} {6690271125015749619 29 183} {6690271125015749619 31 184} {5252814860454924264 31 185} {5484901765832203379 31 186} {1658447639161646616 31 187} {2756731099931255719 31 188} {8817334442341429089 31 189} {4591373731456911945 31 190} {772861198126849783 31 191} {250612260644733681 31 192} {734195897794811624 31 193}]
------------------------------------------------------
term 31 Server2 start snapshot! index=189
term 31 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=193
-------------------------------------------------------------
term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
flag 49885 term 31 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 31 189} {4591373731456911945 31 190} {772861198126849783 31 191} {250612260644733681 31 192} {734195897794811624 31 193}]
------------------------------------------------------
term 31 Server1 start snapshot! index=189
term 31 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=193
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6653239467479582602 (index 194) to leader 2
term 31 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
flag 10300 term 31 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
term 32 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {4591373731456911945 31 190} {772861198126849783 31 191} {250612260644733681 31 192} {734195897794811624 31 193} {6653239467479582602 31 194}]
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 server 1 vote for server 2
term 33 server 0 vote for server 2
term 33 server 2 get vote from server 1
term 33 server 2 become leader
------------------------------------------------------
term 33 server 2 get outdate rpc reply from server 0
flag 62917 term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 66993 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {4591373731456911945 31 190} {772861198126849783 31 191} {250612260644733681 31 192} {734195897794811624 31 193} {6653239467479582602 31 194}]
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 195->194
------------------------------------------------------
term 33 leader 2 nextIndex[0]: 185  matchIndex[0]: 0
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
flag 66491 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
term 33 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {4591373731456911945 31 190} {772861198126849783 31 191} {250612260644733681 31 192} {734195897794811624 31 193} {6653239467479582602 31 194}]
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot success
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 31 rf.commitIndex 189 rf.lastApplied 189
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30041 term 33 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 25902 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {4591373731456911945 31 190} {772861198126849783 31 191} {250612260644733681 31 192} {734195897794811624 31 193} {6653239467479582602 31 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {4591373731456911945 31 190} {772861198126849783 31 191} {250612260644733681 31 192} {734195897794811624 31 193} {6653239467479582602 31 194}]
------------------------------------------------------
flag 84432 term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 28531 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
term 33 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
[{snapshot 31 189} {4591373731456911945 31 190} {772861198126849783 31 191} {250612260644733681 31 192} {734195897794811624 31 193} {6653239467479582602 31 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {4591373731456911945 31 190} {772861198126849783 31 191} {250612260644733681 31 192} {734195897794811624 31 193} {6653239467479582602 31 194}]
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81343 term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 78160 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {4591373731456911945 31 190} {772861198126849783 31 191} {250612260644733681 31 192} {734195897794811624 31 193} {6653239467479582602 31 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {4591373731456911945 31 190} {772861198126849783 31 191} {250612260644733681 31 192} {734195897794811624 31 193} {6653239467479582602 31 194}]
------------------------------------------------------
flag 56412 term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 28641 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {4591373731456911945 31 190} {772861198126849783 31 191} {250612260644733681 31 192} {734195897794811624 31 193} {6653239467479582602 31 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {4591373731456911945 31 190} {772861198126849783 31 191} {250612260644733681 31 192} {734195897794811624 31 193} {6653239467479582602 31 194}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49117 term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 59561 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {4591373731456911945 31 190} {772861198126849783 31 191} {250612260644733681 31 192} {734195897794811624 31 193} {6653239467479582602 31 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {4591373731456911945 31 190} {772861198126849783 31 191} {250612260644733681 31 192} {734195897794811624 31 193} {6653239467479582602 31 194}]
------------------------------------------------------
flag 46216 term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 33493 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {4591373731456911945 31 190} {772861198126849783 31 191} {250612260644733681 31 192} {734195897794811624 31 193} {6653239467479582602 31 194}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {4591373731456911945 31 190} {772861198126849783 31 191} {250612260644733681 31 192} {734195897794811624 31 193} {6653239467479582602 31 194}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50492 term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 24496 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 66400 term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 96738 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 64212 term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 79598 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 33 server 1 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 1
term 34 server 1 vote for server 0
term 34 server 0 get vote from server 1
term 34 server 0 become leader
------------------------------------------------------
flag 34085 term 34 leader 0 nextIndex[1]: 195  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 76582 term 34 leader 0 nextIndex[2]: 195  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {4591373731456911945 31 190} {772861198126849783 31 191} {250612260644733681 31 192} {734195897794811624 31 193} {6653239467479582602 31 194}]
------------------------------------------------------
flag 60072 term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 1178 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
client write log 5381565610071850109 (index 195) to leader 0
flag 30511 term 34 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 9938 term 34 leader 0 nextIndex[2]: 195  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {4591373731456911945 31 190} {772861198126849783 31 191} {250612260644733681 31 192} {734195897794811624 31 193} {6653239467479582602 31 194} {5381565610071850109 34 195}]
------------------------------------------------------
flag 76059 term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 98382 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 62533 term 34 leader 0 nextIndex[1]: 196  matchIndex[1]: 195
term 34 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 56959 term 34 leader 0 nextIndex[2]: 195  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {4591373731456911945 31 190} {772861198126849783 31 191} {250612260644733681 31 192} {734195897794811624 31 193} {6653239467479582602 31 194} {5381565610071850109 34 195}]
------------------------------------------------------
flag 72922 term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 53593 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
client write log 2810409059018090562 (index 196) to leader 0
client write log 1661583129777439831 (index 197) to leader 0
client write log 5574740360796958494 (index 198) to leader 0
client write log 8682823689075899041 (index 199) to leader 0
client write log 292679148634582495 (index 200) to leader 0
client write log 1361588580778430692 (index 201) to leader 0
client write log 5385194275414885206 (index 202) to leader 0
client write log 2500547966438564591 (index 203) to leader 0
client write log 3694950109712950729 (index 204) to leader 0
client write log 4540480368394344528 (index 205) to leader 0
client write log 7050570516104318669 (index 206) to leader 0
client write log 8759081128459146416 (index 207) to leader 0
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 195->194
------------------------------------------------------
flag 7960 term 34 leader 0 nextIndex[1]: 196  matchIndex[1]: 195
term 34 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 10858 term 34 leader 0 nextIndex[2]: 195  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 189} {4591373731456911945 31 190} {772861198126849783 31 191} {250612260644733681 31 192} {734195897794811624 31 193} {6653239467479582602 31 194} {5381565610071850109 34 195} {2810409059018090562 34 196} {1661583129777439831 34 197} {5574740360796958494 34 198} {8682823689075899041 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
term 34 Server0 start snapshot! index=199
term 34 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=207
-------------------------------------------------------------
term 33 leader 2 nextIndex[0]: 0  matchIndex[0]: 194
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
flag 10676 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26861 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 195  matchIndex[2]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
term 33 leader 2 nextIndex[0]: 0  matchIndex[0]: 194
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
flag 43045 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 34 Server1 start snapshot! index=199
term 34 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=207
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8861172548911977298 (index 195) to leader 2
flag 71827 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 195  matchIndex[2]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
term 34 server 2 InstallSnapshot success
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 34 rf.commitIndex 199 rf.lastApplied 199
flag 92975 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 69751 term 34 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 34 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
flag 3986 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 33339 term 34 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88486 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 14713 term 34 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
flag 80192 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 26353 term 34 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42305 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 35733 term 34 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
flag 60783 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 19463 term 34 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 208->207
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35822 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 0  matchIndex[2]: 207
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
term 34 server 2 InstallSnapshot fail
rf.commitIndex 207 args.LastIncludedIndex 199
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 200->199
------------------------------------------------------
flag 50148 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 0  matchIndex[2]: 199
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
term 34 server 2 InstallSnapshot fail
rf.commitIndex 207 args.LastIncludedIndex 199
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46464 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 63443 term 34 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 34 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
flag 22540 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 57161 term 34 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
flag 95916 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 36863 term 34 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
flag 88449 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 87694 term 34 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 208->207
------------------------------------------------------
flag 9082 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 0  matchIndex[2]: 207
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 2 InstallSnapshot fail
rf.commitIndex 207 args.LastIncludedIndex 199
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
flag 94173 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 9593 term 34 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 34 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
flag 31589 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 63798 term 34 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22668 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 13969 term 34 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
flag 71172 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 43092 term 34 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32722 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 40389 term 34 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
flag 6617 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 85066 term 34 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207}]
------------------------------------------------------
client write log 8861172548911977298 (index 208) to leader 0
flag 68309 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 87464 term 34 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207} {8861172548911977298 34 208}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207} {8861172548911977298 34 208}]
------------------------------------------------------
flag 14766 term 34 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 84496 term 34 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 34 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207} {8861172548911977298 34 208}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207} {8861172548911977298 34 208}]
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29739 term 34 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 21125 term 34 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 34 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207} {8861172548911977298 34 208}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207} {8861172548911977298 34 208}]
------------------------------------------------------
flag 74289 term 34 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 49159 term 34 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 34 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207} {8861172548911977298 34 208}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207} {8861172548911977298 34 208}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32043 term 34 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 39309 term 34 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 34 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207} {8861172548911977298 34 208}]
term 34 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207} {8861172548911977298 34 208}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 0 not vote for server 2, 任期不够新
term 34 server 2 get outdate rpc reply from server 0
flag 13854 term 34 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 50718 term 34 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 34 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207} {8861172548911977298 34 208}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207} {8861172548911977298 34 208}]
------------------------------------------------------
flag 82880 term 34 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 65381 term 34 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 34 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207} {8861172548911977298 34 208}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207} {8861172548911977298 34 208}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8726582787463338885 (index 209) to leader 0
flag 87827 term 34 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 145 term 34 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 34 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 199} {292679148634582495 34 200} {1361588580778430692 34 201} {5385194275414885206 34 202} {2500547966438564591 34 203} {3694950109712950729 34 204} {4540480368394344528 34 205} {7050570516104318669 34 206} {8759081128459146416 34 207} {8861172548911977298 34 208} {8726582787463338885 34 209}]
------------------------------------------------------
term 34 Server0 start snapshot! index=209
term 34 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 98335 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
term 34 Server2 start snapshot! index=209
term 34 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
client write log 6345409901419708458 (index 210) to leader 0
client write log 8450460433572521604 (index 211) to leader 0
client write log 2418324880522055151 (index 212) to leader 0
client write log 7750659936735420420 (index 213) to leader 0
client write log 1146426871161445669 (index 214) to leader 0
client write log 1737105614564905400 (index 215) to leader 0
client write log 7990702977604401946 (index 216) to leader 0
client write log 5557714708343525838 (index 217) to leader 0
client write log 203344792534068717 (index 218) to leader 0
client write log 821629840075737666 (index 219) to leader 0
client write log 4695800118490850862 (index 220) to leader 0
client write log 302540303350845839 (index 221) to leader 0
client write log 3217527091957741359 (index 222) to leader 0
client write log 3028404902086515376 (index 223) to leader 0
client write log 4590127333944353452 (index 224) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 53510 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 209} {6345409901419708458 34 210} {8450460433572521604 34 211} {2418324880522055151 34 212} {7750659936735420420 34 213} {1146426871161445669 34 214} {1737105614564905400 34 215} {7990702977604401946 34 216} {5557714708343525838 34 217} {203344792534068717 34 218} {821629840075737666 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224}]
------------------------------------------------------
term 34 Server0 start snapshot! index=219
term 34 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=224
-------------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
term 34 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 61310 term 34 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 34 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224}]
------------------------------------------------------
term 34 Server2 start snapshot! index=219
term 34 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=224
-------------------------------------------------------------
!!!!!!connect server 1
client write log 885700086830240281 (index 225) to leader 0
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
term 34 server 2 not vote for server 1, 日志不够新
term 34 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 2 vote for server 0
term 36 server 1 vote for server 0
term 36 server 0 get vote from server 2
term 36 server 0 become leader
------------------------------------------------------
term 36 server 0 get outdate rpc reply from server 1
flag 23797 term 36 leader 0 nextIndex[1]: 226  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 3786 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 226->225
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 226->225
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 209  matchIndex[1]: 0
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 62931 term 36 leader 0 nextIndex[2]: 225  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
term 36 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 34 rf.commitIndex 219 rf.lastApplied 219
term 36 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
flag 26791 term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 80384 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
term 36 server 1 not vote for server 0, 任期不够新
term 36 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79638 term 36 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 40972 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
flag 12948 term 36 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 26451 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
flag 81082 term 36 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 46359 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
flag 24820 term 36 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 4397 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
flag 12710 term 36 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 11204 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26174 term 36 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 15117 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
flag 82274 term 36 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 13443 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
flag 60233 term 36 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 52569 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
flag 49555 term 36 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 35384 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
flag 84594 term 36 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 29351 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
flag 63901 term 36 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 93845 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49946 term 36 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 41119 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
flag 45008 term 36 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 64331 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
flag 81706 term 36 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 80871 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
flag 19822 term 36 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 16376 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
term 36 server 2 not vote for server 0, 任期不够新
term 36 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26019 term 36 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 13106 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8345 term 36 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 69911 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225}]
------------------------------------------------------
client write log 885700086830240281 (index 226) to leader 0
flag 5418 term 36 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 14508 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225} {885700086830240281 36 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225} {885700086830240281 36 226}]
------------------------------------------------------
flag 22743 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 60007 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225} {885700086830240281 36 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225} {885700086830240281 36 226}]
------------------------------------------------------
flag 50289 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 19552 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225} {885700086830240281 36 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225} {885700086830240281 36 226}]
------------------------------------------------------
flag 81435 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 90708 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225} {885700086830240281 36 226}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225} {885700086830240281 36 226}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30903 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 59773 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225} {885700086830240281 36 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225} {885700086830240281 36 226}]
------------------------------------------------------
flag 75842 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 30597 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225} {885700086830240281 36 226}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225} {885700086830240281 36 226}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14627 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 26593 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225} {885700086830240281 36 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225} {885700086830240281 36 226}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5721857209502698975 (index 227) to leader 0
flag 1863 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 54322 term 36 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225} {885700086830240281 36 226} {5721857209502698975 36 227}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61048 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 26300 term 36 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225} {885700086830240281 36 226} {5721857209502698975 36 227}]
------------------------------------------------------
client write log 723971919295275270 (index 228) to leader 0
client write log 7199745812945483164 (index 229) to leader 0
client write log 7247663151774066895 (index 230) to leader 0
client write log 9069446558731088208 (index 231) to leader 0
client write log 8351773038463876714 (index 232) to leader 0
client write log 3211515000704413814 (index 233) to leader 0
client write log 3284524501960957539 (index 234) to leader 0
client write log 7953596857222237617 (index 235) to leader 0
client write log 8528146389604499621 (index 236) to leader 0
client write log 6868273831556517034 (index 237) to leader 0
client write log 577301872768412029 (index 238) to leader 0
flag 85966 term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 44892 term 36 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 36 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 34 219} {4695800118490850862 34 220} {302540303350845839 34 221} {3217527091957741359 34 222} {3028404902086515376 34 223} {4590127333944353452 34 224} {885700086830240281 34 225} {885700086830240281 36 226} {5721857209502698975 36 227} {723971919295275270 36 228} {7199745812945483164 36 229} {7247663151774066895 36 230} {9069446558731088208 36 231} {8351773038463876714 36 232} {3211515000704413814 36 233} {3284524501960957539 36 234} {7953596857222237617 36 235} {8528146389604499621 36 236} {6868273831556517034 36 237} {577301872768412029 36 238}]
------------------------------------------------------
term 36 Server0 start snapshot! index=229
term 36 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=238
-------------------------------------------------------------
term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 26651 term 36 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 36 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7247663151774066895 36 230} {9069446558731088208 36 231} {8351773038463876714 36 232} {3211515000704413814 36 233} {3284524501960957539 36 234} {7953596857222237617 36 235} {8528146389604499621 36 236} {6868273831556517034 36 237} {577301872768412029 36 238}]
------------------------------------------------------
term 36 Server2 start snapshot! index=229
term 36 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=238
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1796728364672243095 (index 239) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 31186 term 36 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 36 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
term 37 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 229} {7247663151774066895 36 230} {9069446558731088208 36 231} {8351773038463876714 36 232} {3211515000704413814 36 233} {3284524501960957539 36 234} {7953596857222237617 36 235} {8528146389604499621 36 236} {6868273831556517034 36 237} {577301872768412029 36 238} {1796728364672243095 36 239}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 37 Server0 start snapshot! index=239
term 37 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
term 38 server 2 vote for server 0
term 38 server 0 get vote from server 2
term 38 server 1 vote for server 0
term 38 server 0 become leader
------------------------------------------------------
term 38 server 0 get outdate rpc reply from server 1
flag 9309 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 10313 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 240->239
------------------------------------------------------
term 38 server 2 not vote for server 0, 任期不够新
term 38 server 0 get outdate rpc reply from server 2
term 38 Server2 start snapshot! index=239
term 38 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
term 38 server 0 not vote for server 1, 任期不够新
term 38 server 1 get outdate rpc reply from server 0
term 38 leader 0 nextIndex[1]: 227  matchIndex[1]: 0
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
flag 98727 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
term 38 server 1 InstallSnapshot success
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 36 rf.commitIndex 239 rf.lastApplied 239
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93727 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 12052 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
flag 40452 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 59201 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58721 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 12285 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
term 38 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
[{snapshot 36 239}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
flag 44814 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 35016 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 not vote for server 0, 任期不够新
term 38 server 0 get outdate rpc reply from server 2
term 38 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
flag 53642 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 72931 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 47194 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 82064 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 42293 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 76943 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 39 server 1 vote for server 2
term 39 server 2 get vote from server 1
term 39 server 2 become leader
------------------------------------------------------
flag 41162 term 39 leader 2 nextIndex[0]: 240  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 21210 term 39 leader 2 nextIndex[1]: 240  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
client write log 7413419400541423273 (index 240) to leader 2
flag 88590 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 53997 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 89140 term 39 leader 2 nextIndex[0]: 240  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 35922 term 39 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 39 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {7413419400541423273 39 240}]
------------------------------------------------------
flag 26434 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 88806 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 13654 term 39 leader 2 nextIndex[0]: 240  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 19441 term 39 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 39 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 39 leaderCommit: 240 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 36 239} {7413419400541423273 39 240}]
------------------------------------------------------
client write log 3322487422647547900 (index 241) to leader 2
flag 2973 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 85465 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 78465 term 39 leader 2 nextIndex[0]: 240  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 240 
------------------------------------------------------
flag 36151 term 39 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 39 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 39 leaderCommit: 240 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {7413419400541423273 39 240} {3322487422647547900 39 241}]
------------------------------------------------------
flag 66645 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 48527 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 240->239
------------------------------------------------------
flag 34769 term 39 leader 2 nextIndex[0]: 240  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 62155 term 39 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 39 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 39 leaderCommit: 241 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {7413419400541423273 39 240} {3322487422647547900 39 241}]
------------------------------------------------------
!!!!!!connect server 0
client write log 781285423813035002 (index 242) to leader 2
flag 72293 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 leader 0 nextIndex[2]: 0  matchIndex[2]: 239
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 39 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 server 1 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38853 term 39 leader 2 nextIndex[0]: 240  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 241 
------------------------------------------------------
flag 39734 term 39 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 39 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 39 leaderCommit: 241 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {7413419400541423273 39 240} {3322487422647547900 39 241} {781285423813035002 39 242}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {7413419400541423273 39 240} {3322487422647547900 39 241} {781285423813035002 39 242}]
------------------------------------------------------
flag 89293 term 39 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 39 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 74606 term 39 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {7413419400541423273 39 240} {3322487422647547900 39 241} {781285423813035002 39 242}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {7413419400541423273 39 240} {3322487422647547900 39 241} {781285423813035002 39 242}]
------------------------------------------------------
flag 77181 term 39 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 39 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 43428 term 39 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {7413419400541423273 39 240} {3322487422647547900 39 241} {781285423813035002 39 242}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {7413419400541423273 39 240} {3322487422647547900 39 241} {781285423813035002 39 242}]
------------------------------------------------------
flag 65760 term 39 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 39 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 15167 term 39 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {7413419400541423273 39 240} {3322487422647547900 39 241} {781285423813035002 39 242}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {7413419400541423273 39 240} {3322487422647547900 39 241} {781285423813035002 39 242}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18363 term 39 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 39 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 17107 term 39 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {7413419400541423273 39 240} {3322487422647547900 39 241} {781285423813035002 39 242}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {7413419400541423273 39 240} {3322487422647547900 39 241} {781285423813035002 39 242}]
------------------------------------------------------
flag 34751 term 39 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 39 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
flag 32655 term 39 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {7413419400541423273 39 240} {3322487422647547900 39 241} {781285423813035002 39 242}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {7413419400541423273 39 240} {3322487422647547900 39 241} {781285423813035002 39 242}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 243->242
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 0  matchIndex[0]: 242
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
flag 23296 term 39 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {7413419400541423273 39 240} {3322487422647547900 39 241} {781285423813035002 39 242}]
------------------------------------------------------
term 39 server 0 InstallSnapshot fail
rf.commitIndex 242 args.LastIncludedIndex 239
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4546176921169034679 (index 243) to leader 2
flag 81282 term 39 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 39 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 242 
------------------------------------------------------
flag 29448 term 39 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 39 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 36 239} {7413419400541423273 39 240} {3322487422647547900 39 241} {781285423813035002 39 242} {4546176921169034679 39 243}]
------------------------------------------------------
flag 85337 term 39 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 39 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 44560 term 39 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 36 239} {7413419400541423273 39 240} {3322487422647547900 39 241} {781285423813035002 39 242} {4546176921169034679 39 243}]
------------------------------------------------------
client write log 5874879917281964787 (index 244) to leader 2
client write log 4319085467140370323 (index 245) to leader 2
client write log 1407982857188574268 (index 246) to leader 2
client write log 8829910921312631882 (index 247) to leader 2
client write log 920595832252706561 (index 248) to leader 2
client write log 7485552375548396692 (index 249) to leader 2
client write log 6504570780931785236 (index 250) to leader 2
client write log 5209788361053520900 (index 251) to leader 2
client write log 1312611495108542800 (index 252) to leader 2
client write log 1772451835803999014 (index 253) to leader 2
client write log 8032640956419819715 (index 254) to leader 2
client write log 4023193553372167530 (index 255) to leader 2
flag 80089 term 39 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 39 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 58909 term 39 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 239} {7413419400541423273 39 240} {3322487422647547900 39 241} {781285423813035002 39 242} {4546176921169034679 39 243} {5874879917281964787 39 244} {4319085467140370323 39 245} {1407982857188574268 39 246} {8829910921312631882 39 247} {920595832252706561 39 248} {7485552375548396692 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255}]
------------------------------------------------------
term 39 Server2 start snapshot! index=249
term 39 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=255
-------------------------------------------------------------
term 39 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 12799 term 39 leader 2 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255}]
------------------------------------------------------
term 39 Server1 start snapshot! index=249
term 39 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=255
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3420096754297756017 (index 256) to leader 2
term 39 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 71020 term 39 leader 2 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 40 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 1 vote for server 2
term 41 server 2 get vote from server 1
term 41 server 2 become leader
------------------------------------------------------
term 41 server 0 vote for server 2
term 41 server 2 get outdate rpc reply from server 0
flag 39677 term 41 leader 2 nextIndex[0]: 257  matchIndex[0]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 82783 term 41 leader 2 nextIndex[1]: 257  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 257->256
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 2 nextIndex[0]: 243  matchIndex[0]: 0
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 48684 term 41 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 0 InstallSnapshot success
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 39 rf.commitIndex 249 rf.lastApplied 249
flag 18004 term 41 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 41 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 3668 term 41 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46498 term 41 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 37596 term 41 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56709 term 41 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 5567 term 41 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48864 term 41 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 34069 term 41 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
term 41 server 2 not vote for server 1, 任期不够新
term 41 server 1 get outdate rpc reply from server 2
flag 13003 term 41 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 97784 term 41 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
flag 94998 term 41 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 75649 term 41 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
flag 85204 term 41 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 52747 term 41 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57279 term 41 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 14323 term 41 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87622 term 41 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 10126 term 41 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
flag 22220 term 41 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 60137 term 41 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
flag 61158 term 41 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 59821 term 41 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
flag 4899 term 41 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 55632 term 41 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40684 term 41 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 3708 term 41 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11954 term 41 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 25245 term 41 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
flag 38265 term 41 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 73253 term 41 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
flag 70893 term 41 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 64233 term 41 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256}]
------------------------------------------------------
client write log 3420096754297756017 (index 257) to leader 2
flag 82016 term 41 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 26742 term 41 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256} {3420096754297756017 41 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256} {3420096754297756017 41 257}]
------------------------------------------------------
flag 86660 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 47141 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256} {3420096754297756017 41 257}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256} {3420096754297756017 41 257}]
------------------------------------------------------
flag 44670 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 68580 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256} {3420096754297756017 41 257}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256} {3420096754297756017 41 257}]
------------------------------------------------------
flag 68521 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 20828 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256} {3420096754297756017 41 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256} {3420096754297756017 41 257}]
------------------------------------------------------
term 41 server 0 not vote for server 2, 任期不够新
term 41 server 2 get outdate rpc reply from server 0
flag 19060 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 97070 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256} {3420096754297756017 41 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256} {3420096754297756017 41 257}]
------------------------------------------------------
flag 73852 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 43546 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256} {3420096754297756017 41 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256} {3420096754297756017 41 257}]
------------------------------------------------------
flag 80038 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 84170 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256} {3420096754297756017 41 257}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256} {3420096754297756017 41 257}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7013825760665058742 (index 258) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6951 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 52811 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256} {3420096754297756017 41 257} {7013825760665058742 41 258}]
------------------------------------------------------
flag 49233 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 23879 term 41 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256} {3420096754297756017 41 257} {7013825760665058742 41 258}]
------------------------------------------------------
client write log 7045302960427627317 (index 259) to leader 2
client write log 1736073393389340758 (index 260) to leader 2
client write log 4962511066756762361 (index 261) to leader 2
client write log 6062870075312775914 (index 262) to leader 2
client write log 659872436457108166 (index 263) to leader 2
client write log 7063105363276070310 (index 264) to leader 2
flag 63440 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 15556 term 41 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 249} {6504570780931785236 39 250} {5209788361053520900 39 251} {1312611495108542800 39 252} {1772451835803999014 39 253} {8032640956419819715 39 254} {4023193553372167530 39 255} {3420096754297756017 39 256} {3420096754297756017 41 257} {7013825760665058742 41 258} {7045302960427627317 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264}]
------------------------------------------------------
term 41 Server2 start snapshot! index=259
term 41 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=264
-------------------------------------------------------------
term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 66042 term 41 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 41 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264}]
------------------------------------------------------
term 41 Server1 start snapshot! index=259
term 41 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=264
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1437826112081356167 (index 265) to leader 2
term 41 server 2 not vote for server 0, 日志不够新
term 41 server 1 not vote for server 0, 日志不够新
term 43 server 1 vote for server 2
term 43 server 2 get vote from server 1
term 43 server 2 become leader
------------------------------------------------------
term 43 server 0 vote for server 2
term 43 server 2 get outdate rpc reply from server 0
flag 79327 term 43 leader 2 nextIndex[0]: 266  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 32863 term 43 leader 2 nextIndex[1]: 266  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 266->265
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 266->265
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 0
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 63422 term 43 leader 2 nextIndex[1]: 265  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 0 InstallSnapshot success
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 41 rf.commitIndex 259 rf.lastApplied 259
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
flag 63943 term 43 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 43 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 54742 term 43 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
flag 74377 term 43 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 4368 term 43 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
flag 21976 term 43 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 65523 term 43 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
flag 17581 term 43 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 25844 term 43 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
flag 80542 term 43 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 81135 term 43 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30366 term 43 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 99707 term 43 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61496 term 43 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 26306 term 43 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
flag 76624 term 43 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 54219 term 43 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24005 term 43 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 81493 term 43 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
flag 57666 term 43 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 50555 term 43 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12417 term 43 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 74350 term 43 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
flag 43105 term 43 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 69968 term 43 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
flag 71802 term 43 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 73410 term 43 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
flag 76560 term 43 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 53204 term 43 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
flag 35542 term 43 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 38707 term 43 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
term 43 server 1 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 1
flag 64754 term 43 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 14280 term 43 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15307 term 43 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 38133 term 43 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265}]
------------------------------------------------------
client write log 1437826112081356167 (index 266) to leader 2
flag 12687 term 43 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 98213 term 43 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 43 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
term 43 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265} {1437826112081356167 43 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265} {1437826112081356167 43 266}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89374 term 43 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 64349 term 43 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265} {1437826112081356167 43 266}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265} {1437826112081356167 43 266}]
------------------------------------------------------
flag 29347 term 43 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 35998 term 43 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265} {1437826112081356167 43 266}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265} {1437826112081356167 43 266}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36069 term 43 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 27402 term 43 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265} {1437826112081356167 43 266}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265} {1437826112081356167 43 266}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37432 term 43 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 63702 term 43 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265} {1437826112081356167 43 266}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265} {1437826112081356167 43 266}]
------------------------------------------------------
term 43 server 2 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 2
flag 86112 term 43 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 61857 term 43 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265} {1437826112081356167 43 266}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265} {1437826112081356167 43 266}]
------------------------------------------------------
flag 27645 term 43 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 980 term 43 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265} {1437826112081356167 43 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265} {1437826112081356167 43 266}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 42808 term 43 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 76477 term 43 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 38373 term 43 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 38024 term 43 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35120 term 43 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 70403 term 43 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 44 server 1 vote for server 0
term 44 server 0 get vote from server 1
term 44 server 0 become leader
------------------------------------------------------
flag 42441 term 44 leader 0 nextIndex[1]: 267  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 36321 term 44 leader 0 nextIndex[2]: 267  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265} {1437826112081356167 43 266}]
------------------------------------------------------
client write log 3329290139809421129 (index 267) to leader 0
flag 60211 term 43 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 33491 term 43 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31435 term 44 leader 0 nextIndex[1]: 267  matchIndex[1]: 266
term 44 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 83731 term 44 leader 0 nextIndex[2]: 267  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265} {1437826112081356167 43 266} {3329290139809421129 44 267}]
------------------------------------------------------
flag 43011 term 43 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 32103 term 43 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 33304 term 44 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 44 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 91951 term 44 leader 0 nextIndex[2]: 267  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265} {1437826112081356167 43 266} {3329290139809421129 44 267}]
------------------------------------------------------
client write log 1144577263821408332 (index 268) to leader 0
client write log 6522639069920976246 (index 269) to leader 0
client write log 5486275389990408970 (index 270) to leader 0
client write log 4038167215402142440 (index 271) to leader 0
client write log 3166926291896078516 (index 272) to leader 0
client write log 7428480940676230542 (index 273) to leader 0
client write log 191314411006467366 (index 274) to leader 0
client write log 3219933892071779650 (index 275) to leader 0
flag 16736 term 43 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 80382 term 43 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 267->266
------------------------------------------------------
flag 50404 term 44 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 44 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 15894 term 44 leader 0 nextIndex[2]: 267  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 259} {1736073393389340758 41 260} {4962511066756762361 41 261} {6062870075312775914 41 262} {659872436457108166 41 263} {7063105363276070310 41 264} {1437826112081356167 41 265} {1437826112081356167 43 266} {3329290139809421129 44 267} {1144577263821408332 44 268} {6522639069920976246 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
term 44 Server0 start snapshot! index=269
term 44 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=275
-------------------------------------------------------------
flag 6636 term 43 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 leader 2 nextIndex[1]: 0  matchIndex[1]: 266
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 56809 term 44 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 267  matchIndex[2]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
term 44 Server1 start snapshot! index=269
term 44 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=275
-------------------------------------------------------------
!!!!!!connect server 2
client write log 125924624967438299 (index 267) to leader 2
flag 14216 term 43 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 43 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 leader 2 nextIndex[1]: 0  matchIndex[1]: 266
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
term 44 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 server 0 AppendEntries false 领导者任期过期 args.Term 43
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91380 term 44 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 267  matchIndex[2]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 2 InstallSnapshot success
------------------------------------------------------
term 44 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 44 rf.commitIndex 269 rf.lastApplied 269
term 44 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
term 44 server 1 not vote for server 2, 日志不够新
term 44 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 2 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
term 46 server 1 vote for server 0
term 46 server 0 get outdate rpc reply from server 1
flag 45430 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 68867 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 276->275
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41075 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 3889 term 46 leader 0 nextIndex[2]: 270  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
flag 61091 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 69678 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
flag 90491 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 82225 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83817 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 75842 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
flag 18694 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 46438 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
flag 44866 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 68488 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
flag 55245 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 50071 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
flag 55943 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 24872 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12885 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 93874 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
flag 34262 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 42781 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
flag 50755 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 52485 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
flag 96250 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 66010 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
flag 22788 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 67167 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53174 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 64963 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
flag 84729 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 33054 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63369 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 11583 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
flag 88554 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 85324 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
flag 82229 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 71792 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275}]
------------------------------------------------------
client write log 125924624967438299 (index 276) to leader 0
term 46 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26773 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 69187 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275} {125924624967438299 46 276}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275} {125924624967438299 46 276}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75252 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 46 leaderCommit: 276 
------------------------------------------------------
flag 36986 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 46 leaderCommit: 276 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275} {125924624967438299 46 276}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275} {125924624967438299 46 276}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48686 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 46 leaderCommit: 276 
------------------------------------------------------
flag 40620 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 46 leaderCommit: 276 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275} {125924624967438299 46 276}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275} {125924624967438299 46 276}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53032 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 46 leaderCommit: 276 
------------------------------------------------------
flag 8409 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 46 leaderCommit: 276 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275} {125924624967438299 46 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275} {125924624967438299 46 276}]
------------------------------------------------------
flag 45899 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 46 leaderCommit: 276 
------------------------------------------------------
flag 81228 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 46 leaderCommit: 276 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275} {125924624967438299 46 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275} {125924624967438299 46 276}]
------------------------------------------------------
flag 50195 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 46 leaderCommit: 276 
------------------------------------------------------
flag 5883 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 46 leaderCommit: 276 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275} {125924624967438299 46 276}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275} {125924624967438299 46 276}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19778 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 46 leaderCommit: 276 
------------------------------------------------------
flag 45008 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 46 leaderCommit: 276 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275} {125924624967438299 46 276}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275} {125924624967438299 46 276}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1348640515543568687 (index 277) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24812 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 46 leaderCommit: 276 
------------------------------------------------------
flag 94796 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 46 leaderCommit: 276 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275} {125924624967438299 46 276} {1348640515543568687 46 277}]
------------------------------------------------------
flag 1691 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 49722 term 46 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275} {125924624967438299 46 276} {1348640515543568687 46 277}]
------------------------------------------------------
client write log 9041401199360724796 (index 278) to leader 0
client write log 1919766181389976901 (index 279) to leader 0
client write log 6085735329106608678 (index 280) to leader 0
client write log 2842698780649580177 (index 281) to leader 0
client write log 1713048187075009119 (index 282) to leader 0
client write log 5348096587800857260 (index 283) to leader 0
client write log 918509102873922139 (index 284) to leader 0
client write log 6639533651384157370 (index 285) to leader 0
client write log 8739347817596979978 (index 286) to leader 0
client write log 3406681421099220250 (index 287) to leader 0
client write log 2127458587802194208 (index 288) to leader 0
client write log 4868014540419537116 (index 289) to leader 0
client write log 2311253662503900647 (index 290) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86492 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 8443 term 46 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 44 269} {5486275389990408970 44 270} {4038167215402142440 44 271} {3166926291896078516 44 272} {7428480940676230542 44 273} {191314411006467366 44 274} {3219933892071779650 44 275} {125924624967438299 46 276} {1348640515543568687 46 277} {9041401199360724796 46 278} {1919766181389976901 46 279} {6085735329106608678 46 280} {2842698780649580177 46 281} {1713048187075009119 46 282} {5348096587800857260 46 283} {918509102873922139 46 284} {6639533651384157370 46 285} {8739347817596979978 46 286} {3406681421099220250 46 287} {2127458587802194208 46 288} {4868014540419537116 46 289} {2311253662503900647 46 290}]
------------------------------------------------------
term 46 Server0 start snapshot! index=279
term 46 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=290
-------------------------------------------------------------
term 46 Server0 start snapshot! index=289
term 46 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=290
-------------------------------------------------------------
term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 40274 term 46 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 46 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {2311253662503900647 46 290}]
------------------------------------------------------
term 46 Server2 start snapshot! index=279
term 46 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=290
-------------------------------------------------------------
term 46 Server2 start snapshot! index=289
term 46 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=290
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5340105435791847040 (index 291) to leader 0
term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 62519 term 46 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 46 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291}]
------------------------------------------------------
term 47 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 2 vote for server 0
term 48 server 0 get vote from server 2
term 48 server 0 become leader
------------------------------------------------------
term 48 server 1 vote for server 0
term 48 server 0 get outdate rpc reply from server 1
flag 83185 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 84318 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 292->291
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291}]
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 277  matchIndex[1]: 0
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 80998 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291}]
------------------------------------------------------
term 48 server 1 InstallSnapshot success
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 46 rf.commitIndex 289 rf.lastApplied 289
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64356 term 48 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 4351 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291}]
------------------------------------------------------
flag 95630 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 8686 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291}]
------------------------------------------------------
flag 53818 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 3387 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291}]
------------------------------------------------------
flag 59203 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 67352 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291}]
------------------------------------------------------
flag 65518 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 38801 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291}]
------------------------------------------------------
term 48 server 2 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 2
flag 8108 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 79100 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 91682406102168695 (index 292) to leader 0
flag 51170 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 250 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292}]
------------------------------------------------------
term 48 server 2 not vote for server 0, 任期不够新
term 48 server 0 get outdate rpc reply from server 2
flag 80074 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 26672 term 48 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292}]
------------------------------------------------------
client write log 5060199322933474443 (index 293) to leader 0
client write log 5603522028142073429 (index 294) to leader 0
client write log 4060158399942046504 (index 295) to leader 0
client write log 5823304718341149228 (index 296) to leader 0
client write log 8421351874232419638 (index 297) to leader 0
client write log 6192317257017587880 (index 298) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28261 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 21750 term 48 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298}]
------------------------------------------------------
flag 39394 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 33859 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7343092594522609845 (index 299) to leader 0
term 48 server 2 not vote for server 1, 日志不够新
term 48 server 0 not vote for server 1, 日志不够新
term 50 server 2 vote for server 0
term 50 server 1 vote for server 0
term 50 server 0 get vote from server 2
term 50 server 0 become leader
------------------------------------------------------
term 50 server 0 get outdate rpc reply from server 1
flag 69903 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 58350 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 300->299
------------------------------------------------------
term 50 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 300->299
------------------------------------------------------
flag 71971 term 50 leader 0 nextIndex[1]: 292  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 13281 term 50 leader 0 nextIndex[2]: 299  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
flag 44611 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 84711 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46671 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 7864 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
flag 9406 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 24972 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
flag 1610 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 79403 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
flag 46286 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 88643 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
flag 49537 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 52418 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
flag 58476 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 64564 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
flag 88808 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 30405 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
flag 42546 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 11883 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
flag 80901 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 33150 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
flag 44000 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 36641 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
flag 85423 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 31831 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
flag 75357 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 60070 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
flag 6525 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 57509 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
flag 62711 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 73303 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
flag 56945 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 43065 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
flag 61391 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 26412 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
flag 89255 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 37609 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299}]
------------------------------------------------------
client write log 7343092594522609845 (index 300) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56017 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 80687 term 50 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299} {7343092594522609845 50 300}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 46 289} {2311253662503900647 46 290} {5340105435791847040 46 291} {91682406102168695 48 292} {5060199322933474443 48 293} {5603522028142073429 48 294} {4060158399942046504 48 295} {5823304718341149228 48 296} {8421351874232419638 48 297} {6192317257017587880 48 298} {7343092594522609845 48 299} {7343092594522609845 50 300}]
------------------------------------------------------
term 50 Server0 start snapshot! index=299
term 50 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=300
-------------------------------------------------------------
flag 12255 term 50 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
flag 98546 term 50 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {7343092594522609845 50 300}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {7343092594522609845 50 300}]
------------------------------------------------------
term 50 Server2 start snapshot! index=299
term 50 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=300
-------------------------------------------------------------
term 50 Server1 start snapshot! index=299
term 50 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=300
-------------------------------------------------------------
flag 41438 term 50 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
flag 26527 term 50 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {7343092594522609845 50 300}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {7343092594522609845 50 300}]
------------------------------------------------------
term 50 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22772 term 50 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
flag 52001 term 50 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {7343092594522609845 50 300}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {7343092594522609845 50 300}]
------------------------------------------------------
flag 84397 term 50 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
flag 89131 term 50 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {7343092594522609845 50 300}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {7343092594522609845 50 300}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43315 term 50 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
flag 16169 term 50 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {7343092594522609845 50 300}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {7343092594522609845 50 300}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 49904 term 50 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
flag 27362 term 50 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
flag 7817 term 50 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
flag 61653 term 50 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53612 term 50 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
flag 86334 term 50 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
term 51 server 1 vote for server 2
term 51 server 2 get vote from server 1
term 51 server 2 become leader
------------------------------------------------------
flag 28356 term 51 leader 2 nextIndex[0]: 301  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
flag 41380 term 51 leader 2 nextIndex[1]: 301  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {7343092594522609845 50 300}]
------------------------------------------------------
client write log 6248640531299493409 (index 301) to leader 2
flag 87244 term 50 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
flag 82329 term 50 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
flag 98866 term 51 leader 2 nextIndex[0]: 301  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
flag 43946 term 51 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {7343092594522609845 50 300} {6248640531299493409 51 301}]
------------------------------------------------------
flag 39018 term 50 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
flag 96769 term 50 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
flag 41302 term 51 leader 2 nextIndex[0]: 301  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 301 
------------------------------------------------------
flag 54169 term 51 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {7343092594522609845 50 300} {6248640531299493409 51 301}]
------------------------------------------------------
flag 96553 term 50 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
flag 9305 term 50 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
client write log 574653552407514776 (index 302) to leader 2
flag 5027 term 51 leader 2 nextIndex[0]: 301  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 301 
------------------------------------------------------
flag 99345 term 51 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {7343092594522609845 50 300} {6248640531299493409 51 301} {574653552407514776 51 302}]
------------------------------------------------------
flag 9787 term 50 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
flag 58360 term 50 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
flag 68221 term 51 leader 2 nextIndex[0]: 301  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 75075 term 51 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 51 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {7343092594522609845 50 300} {6248640531299493409 51 301} {574653552407514776 51 302}]
------------------------------------------------------
flag 314 term 50 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
flag 9069 term 50 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 50 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
!!!!!!connect server 0
client write log 5905585345159583545 (index 303) to leader 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 301->300
------------------------------------------------------
flag 24326 term 51 leader 2 nextIndex[0]: 301  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 302 
------------------------------------------------------
flag 56968 term 51 leader 2 nextIndex[1]: 303  matchIndex[1]: 302
term 51 leader 2 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {7343092594522609845 50 300} {6248640531299493409 51 301} {574653552407514776 51 302} {5905585345159583545 51 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {7343092594522609845 50 300} {6248640531299493409 51 301} {574653552407514776 51 302} {5905585345159583545 51 303}]
------------------------------------------------------
flag 80731 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 92155 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {7343092594522609845 50 300} {6248640531299493409 51 301} {574653552407514776 51 302} {5905585345159583545 51 303}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {7343092594522609845 50 300} {6248640531299493409 51 301} {574653552407514776 51 302} {5905585345159583545 51 303}]
------------------------------------------------------
flag 62238 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 62744 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {7343092594522609845 50 300} {6248640531299493409 51 301} {574653552407514776 51 302} {5905585345159583545 51 303}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {7343092594522609845 50 300} {6248640531299493409 51 301} {574653552407514776 51 302} {5905585345159583545 51 303}]
------------------------------------------------------
flag 30606 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 19350 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {7343092594522609845 50 300} {6248640531299493409 51 301} {574653552407514776 51 302} {5905585345159583545 51 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {7343092594522609845 50 300} {6248640531299493409 51 301} {574653552407514776 51 302} {5905585345159583545 51 303}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77893 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 26102 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {7343092594522609845 50 300} {6248640531299493409 51 301} {574653552407514776 51 302} {5905585345159583545 51 303}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {7343092594522609845 50 300} {6248640531299493409 51 301} {574653552407514776 51 302} {5905585345159583545 51 303}]
------------------------------------------------------
flag 34622 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 93422 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {7343092594522609845 50 300} {6248640531299493409 51 301} {574653552407514776 51 302} {5905585345159583545 51 303}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {7343092594522609845 50 300} {6248640531299493409 51 301} {574653552407514776 51 302} {5905585345159583545 51 303}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1771967533715191063 (index 304) to leader 2
flag 82132 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 27918 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7343092594522609845 50 300} {6248640531299493409 51 301} {574653552407514776 51 302} {5905585345159583545 51 303} {1771967533715191063 51 304}]
------------------------------------------------------
flag 74655 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 86420 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7343092594522609845 50 300} {6248640531299493409 51 301} {574653552407514776 51 302} {5905585345159583545 51 303} {1771967533715191063 51 304}]
------------------------------------------------------
client write log 3735181067315957856 (index 305) to leader 2
client write log 4978270789950040256 (index 306) to leader 2
client write log 5826252943319726410 (index 307) to leader 2
client write log 7379453263697660861 (index 308) to leader 2
client write log 8076896769683873239 (index 309) to leader 2
client write log 327913212781938238 (index 310) to leader 2
client write log 6802032209875136704 (index 311) to leader 2
client write log 4067452318217858133 (index 312) to leader 2
client write log 9136638225171941485 (index 313) to leader 2
client write log 8816303609890830090 (index 314) to leader 2
client write log 5323963709098085471 (index 315) to leader 2
flag 2880 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 11719 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 48 299} {7343092594522609845 50 300} {6248640531299493409 51 301} {574653552407514776 51 302} {5905585345159583545 51 303} {1771967533715191063 51 304} {3735181067315957856 51 305} {4978270789950040256 51 306} {5826252943319726410 51 307} {7379453263697660861 51 308} {8076896769683873239 51 309} {327913212781938238 51 310} {6802032209875136704 51 311} {4067452318217858133 51 312} {9136638225171941485 51 313} {8816303609890830090 51 314} {5323963709098085471 51 315}]
------------------------------------------------------
term 51 Server2 start snapshot! index=309
term 51 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=315
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 15230 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 51 309} {327913212781938238 51 310} {6802032209875136704 51 311} {4067452318217858133 51 312} {9136638225171941485 51 313} {8816303609890830090 51 314} {5323963709098085471 51 315}]
------------------------------------------------------
term 51 Server1 start snapshot! index=309
term 51 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=315
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7803274838072791121 (index 316) to leader 2
term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 10878 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {327913212781938238 51 310} {6802032209875136704 51 311} {4067452318217858133 51 312} {9136638225171941485 51 313} {8816303609890830090 51 314} {5323963709098085471 51 315} {7803274838072791121 51 316}]
------------------------------------------------------
term 52 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 server 1 vote for server 2
term 53 server 0 vote for server 2
term 53 server 2 get vote from server 1
term 53 server 2 become leader
------------------------------------------------------
term 53 server 2 get outdate rpc reply from server 0
flag 55493 term 53 leader 2 nextIndex[0]: 317  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 46909 term 53 leader 2 nextIndex[1]: 317  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 317->316
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {327913212781938238 51 310} {6802032209875136704 51 311} {4067452318217858133 51 312} {9136638225171941485 51 313} {8816303609890830090 51 314} {5323963709098085471 51 315} {7803274838072791121 51 316}]
------------------------------------------------------
term 53 server 0 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 0
term 53 leader 2 nextIndex[0]: 304  matchIndex[0]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 6862 term 53 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 53 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
term 53 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {327913212781938238 51 310} {6802032209875136704 51 311} {4067452318217858133 51 312} {9136638225171941485 51 313} {8816303609890830090 51 314} {5323963709098085471 51 315} {7803274838072791121 51 316}]
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 51 rf.commitIndex 309 rf.lastApplied 309
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87840 term 53 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 65568 term 53 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 53 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {327913212781938238 51 310} {6802032209875136704 51 311} {4067452318217858133 51 312} {9136638225171941485 51 313} {8816303609890830090 51 314} {5323963709098085471 51 315} {7803274838072791121 51 316}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {327913212781938238 51 310} {6802032209875136704 51 311} {4067452318217858133 51 312} {9136638225171941485 51 313} {8816303609890830090 51 314} {5323963709098085471 51 315} {7803274838072791121 51 316}]
------------------------------------------------------
flag 14318 term 53 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 53 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 20408 term 53 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 53 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {327913212781938238 51 310} {6802032209875136704 51 311} {4067452318217858133 51 312} {9136638225171941485 51 313} {8816303609890830090 51 314} {5323963709098085471 51 315} {7803274838072791121 51 316}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {327913212781938238 51 310} {6802032209875136704 51 311} {4067452318217858133 51 312} {9136638225171941485 51 313} {8816303609890830090 51 314} {5323963709098085471 51 315} {7803274838072791121 51 316}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47791 term 53 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 53 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 61829 term 53 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 53 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {327913212781938238 51 310} {6802032209875136704 51 311} {4067452318217858133 51 312} {9136638225171941485 51 313} {8816303609890830090 51 314} {5323963709098085471 51 315} {7803274838072791121 51 316}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {327913212781938238 51 310} {6802032209875136704 51 311} {4067452318217858133 51 312} {9136638225171941485 51 313} {8816303609890830090 51 314} {5323963709098085471 51 315} {7803274838072791121 51 316}]
------------------------------------------------------
flag 22825 term 53 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 53 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 68535 term 53 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 53 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {327913212781938238 51 310} {6802032209875136704 51 311} {4067452318217858133 51 312} {9136638225171941485 51 313} {8816303609890830090 51 314} {5323963709098085471 51 315} {7803274838072791121 51 316}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {327913212781938238 51 310} {6802032209875136704 51 311} {4067452318217858133 51 312} {9136638225171941485 51 313} {8816303609890830090 51 314} {5323963709098085471 51 315} {7803274838072791121 51 316}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13817 term 53 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 53 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 91579 term 53 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 53 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {327913212781938238 51 310} {6802032209875136704 51 311} {4067452318217858133 51 312} {9136638225171941485 51 313} {8816303609890830090 51 314} {5323963709098085471 51 315} {7803274838072791121 51 316}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {327913212781938238 51 310} {6802032209875136704 51 311} {4067452318217858133 51 312} {9136638225171941485 51 313} {8816303609890830090 51 314} {5323963709098085471 51 315} {7803274838072791121 51 316}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12152 term 53 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 53 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 52843 term 53 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 53 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {327913212781938238 51 310} {6802032209875136704 51 311} {4067452318217858133 51 312} {9136638225171941485 51 313} {8816303609890830090 51 314} {5323963709098085471 51 315} {7803274838072791121 51 316}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {327913212781938238 51 310} {6802032209875136704 51 311} {4067452318217858133 51 312} {9136638225171941485 51 313} {8816303609890830090 51 314} {5323963709098085471 51 315} {7803274838072791121 51 316}]
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
  ... Passed --  73.0  3 1687  703455  316
--- PASS: TestSnapshotInstall2D (72.97s)
PASS
