=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
flag 7672 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 53748 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 467348766864551990 (index 1) to leader 2
flag 20047 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 74450 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {467348766864551990 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {467348766864551990 1 1}]
------------------------------------------------------
flag 75454 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 64917 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {467348766864551990 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {467348766864551990 1 1}]
------------------------------------------------------
flag 7485 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 63121 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {467348766864551990 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {467348766864551990 1 1}]
------------------------------------------------------
flag 16051 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 21059 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {467348766864551990 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {467348766864551990 1 1}]
------------------------------------------------------
flag 78592 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 77762 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {467348766864551990 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {467348766864551990 1 1}]
------------------------------------------------------
flag 39097 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 95920 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {467348766864551990 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {467348766864551990 1 1}]
------------------------------------------------------
flag 79730 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 83671 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {467348766864551990 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {467348766864551990 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5553024831501688549 (index 2) to leader 2
flag 49758 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 69561 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2}]
------------------------------------------------------
flag 66298 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 16932 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2}]
------------------------------------------------------
client write log 820547991287819875 (index 3) to leader 2
client write log 879779157616719553 (index 4) to leader 2
client write log 7987693170672983086 (index 5) to leader 2
client write log 8964762989214194679 (index 6) to leader 2
client write log 677175200040886926 (index 7) to leader 2
client write log 5376445070850619754 (index 8) to leader 2
flag 95760 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 741 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8}]
------------------------------------------------------
flag 13679 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 45239 term 1 leader 2 nextIndex[1]: 9  matchIndex[1]: 8
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8}]
------------------------------------------------------
!!!!!!connect server 0
client write log 5953156618102377133 (index 9) to leader 2
term 1 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 63439 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 8320 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 10->9
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 10->9
------------------------------------------------------
flag 32427 term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 35380 term 3 leader 2 nextIndex[1]: 9  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
flag 69318 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 91563 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
flag 49925 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 6213 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
flag 51713 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 64609 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
flag 66104 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 89617 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
flag 85041 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 59595 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
flag 84650 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 78156 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
flag 54797 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 69455 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
flag 96318 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 7520 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
flag 22356 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 31635 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
flag 11948 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 84796 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
flag 57832 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 69400 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
flag 74799 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 99555 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
flag 77329 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 61056 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
flag 80376 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 48782 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
flag 46768 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 2356 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93323 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 20396 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
flag 80794 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 1263 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
flag 94108 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 44964 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9}]
------------------------------------------------------
client write log 5953156618102377133 (index 10) to leader 2
flag 16034 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 71406 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9} {5953156618102377133 3 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {467348766864551990 1 1} {5553024831501688549 1 2} {820547991287819875 1 3} {879779157616719553 1 4} {7987693170672983086 1 5} {8964762989214194679 1 6} {677175200040886926 1 7} {5376445070850619754 1 8} {5953156618102377133 1 9} {5953156618102377133 3 10}]
------------------------------------------------------
term 3 Server2 start snapshot! index=9
term 3 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 36027 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 2665 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5953156618102377133 3 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5953156618102377133 3 10}]
------------------------------------------------------
term 3 Server1 start snapshot! index=9
term 3 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
term 3 Server0 start snapshot! index=9
term 3 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 75942 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 17290 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5953156618102377133 3 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5953156618102377133 3 10}]
------------------------------------------------------
flag 76463 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 97037 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5953156618102377133 3 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5953156618102377133 3 10}]
------------------------------------------------------
flag 48670 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 33908 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5953156618102377133 3 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5953156618102377133 3 10}]
------------------------------------------------------
flag 47078 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 44812 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5953156618102377133 3 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5953156618102377133 3 10}]
------------------------------------------------------
flag 37767 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 11267 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5953156618102377133 3 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5953156618102377133 3 10}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 42986 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 84821 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 62170 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 40185 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 65560 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 77531 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 53127 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 88558 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 1
term 4 server 0 become leader
------------------------------------------------------
flag 64840 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 44748 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5953156618102377133 3 10}]
------------------------------------------------------
client write log 32023187670910623 (index 11) to leader 0
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 11->10
------------------------------------------------------
flag 99322 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 10
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 54540 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 72609 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5953156618102377133 3 10} {32023187670910623 4 11}]
------------------------------------------------------
flag 7336 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 10
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 33855 term 4 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
flag 69209 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5953156618102377133 3 10} {32023187670910623 4 11}]
------------------------------------------------------
client write log 7192896366939225052 (index 12) to leader 0
client write log 1862792729172188348 (index 13) to leader 0
client write log 4006362844079484117 (index 14) to leader 0
client write log 7129017348735403319 (index 15) to leader 0
client write log 5846736938036617697 (index 16) to leader 0
client write log 5582496573351349614 (index 17) to leader 0
client write log 5305709926816108269 (index 18) to leader 0
client write log 5270072542641764173 (index 19) to leader 0
client write log 326399296701825492 (index 20) to leader 0
client write log 5587707843831116014 (index 21) to leader 0
client write log 3673315456387077279 (index 22) to leader 0
client write log 866717120996390592 (index 23) to leader 0
client write log 7120741319435876202 (index 24) to leader 0
client write log 1472474944520503630 (index 25) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90866 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 10
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 63875 term 4 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
flag 21037 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 1 9} {5953156618102377133 3 10} {32023187670910623 4 11} {7192896366939225052 4 12} {1862792729172188348 4 13} {4006362844079484117 4 14} {7129017348735403319 4 15} {5846736938036617697 4 16} {5582496573351349614 4 17} {5305709926816108269 4 18} {5270072542641764173 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=25
-------------------------------------------------------------
flag 51633 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 10
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 2104 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=25
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1149518972777888586 (index 11) to leader 2
flag 60298 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 10
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 3 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80980 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
term 6 server 2 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 1 vote for server 0
term 6 server 0 get outdate rpc reply from server 1
flag 90382 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 37670 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 26->25
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
flag 15801 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 50142 term 6 leader 0 nextIndex[2]: 20  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15500 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 30292 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
flag 65997 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 42120 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
flag 12481 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 64782 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
flag 61692 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 14650 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
flag 84744 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 64502 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
flag 73896 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 76678 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
flag 33997 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 84212 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74400 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 51328 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18342 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 27901 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28964 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 94219 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
flag 75743 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 24202 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
flag 50131 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 45299 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
flag 60770 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 49283 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
flag 11394 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 90813 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
flag 41891 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 51240 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
flag 67216 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 54666 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
flag 84366 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 65099 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25}]
------------------------------------------------------
client write log 1149518972777888586 (index 26) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41745 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 46084 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25} {1149518972777888586 6 26}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25} {1149518972777888586 6 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98971 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 3229 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25} {1149518972777888586 6 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25} {1149518972777888586 6 26}]
------------------------------------------------------
flag 25496 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 98049 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25} {1149518972777888586 6 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25} {1149518972777888586 6 26}]
------------------------------------------------------
flag 53578 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 63684 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25} {1149518972777888586 6 26}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25} {1149518972777888586 6 26}]
------------------------------------------------------
flag 14413 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 80538 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25} {1149518972777888586 6 26}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25} {1149518972777888586 6 26}]
------------------------------------------------------
flag 31851 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 86768 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25} {1149518972777888586 6 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25} {1149518972777888586 6 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55774 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 14094 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25} {1149518972777888586 6 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25} {1149518972777888586 6 26}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 456506309371979143 (index 27) to leader 0
flag 41291 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 38042 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25} {1149518972777888586 6 26} {456506309371979143 6 27}]
------------------------------------------------------
flag 12677 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 89465 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25} {1149518972777888586 6 26} {456506309371979143 6 27}]
------------------------------------------------------
client write log 7590192689852853153 (index 28) to leader 0
client write log 8499341801145983489 (index 29) to leader 0
client write log 3812684564318765260 (index 30) to leader 0
client write log 6692167348646009771 (index 31) to leader 0
client write log 4468263577030129472 (index 32) to leader 0
client write log 4879728566210896839 (index 33) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70233 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 95686 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 19} {326399296701825492 4 20} {5587707843831116014 4 21} {3673315456387077279 4 22} {866717120996390592 4 23} {7120741319435876202 4 24} {1472474944520503630 4 25} {1149518972777888586 6 26} {456506309371979143 6 27} {7590192689852853153 6 28} {8499341801145983489 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=33
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 92823 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=33
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8580608906836474000 (index 34) to leader 0
term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 11141 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
term 7 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33} {8580608906836474000 6 34}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 2 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 1 vote for server 0
term 8 server 0 get outdate rpc reply from server 1
flag 64425 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 82265 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33} {8580608906836474000 6 34}]
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 35->34
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 27  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 25630 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33} {8580608906836474000 6 34}]
------------------------------------------------------
flag 19093 term 8 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 8 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 35267 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33} {8580608906836474000 6 34}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33} {8580608906836474000 6 34}]
------------------------------------------------------
flag 76306 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 87517 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33} {8580608906836474000 6 34}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33} {8580608906836474000 6 34}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87494 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 8505 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33} {8580608906836474000 6 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33} {8580608906836474000 6 34}]
------------------------------------------------------
flag 28781 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 37533 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33} {8580608906836474000 6 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33} {8580608906836474000 6 34}]
------------------------------------------------------
flag 1319 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 5226 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33} {8580608906836474000 6 34}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33} {8580608906836474000 6 34}]
------------------------------------------------------
flag 16051 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 52123 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33} {8580608906836474000 6 34}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33} {8580608906836474000 6 34}]
------------------------------------------------------
flag 33036 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 46354 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33} {8580608906836474000 6 34}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33} {8580608906836474000 6 34}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5575245990068612007 (index 35) to leader 0
flag 95274 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 70190 term 8 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33} {8580608906836474000 6 34} {5575245990068612007 8 35}]
------------------------------------------------------
flag 80575 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 98533 term 8 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 8 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33} {8580608906836474000 6 34} {5575245990068612007 8 35}]
------------------------------------------------------
client write log 7813093566447829694 (index 36) to leader 0
client write log 501585350517077862 (index 37) to leader 0
client write log 302062712854402244 (index 38) to leader 0
client write log 4346941129221390212 (index 39) to leader 0
client write log 5638132893828679971 (index 40) to leader 0
client write log 3686063582661006797 (index 41) to leader 0
client write log 8137225281315788757 (index 42) to leader 0
client write log 1308839891315400920 (index 43) to leader 0
client write log 8688713738683629389 (index 44) to leader 0
client write log 7404952409010511451 (index 45) to leader 0
client write log 3854880696398466677 (index 46) to leader 0
client write log 7218732682562868108 (index 47) to leader 0
client write log 2584787456807649658 (index 48) to leader 0
client write log 172051872758128184 (index 49) to leader 0
client write log 8921776606271922203 (index 50) to leader 0
flag 25004 term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 29919 term 8 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 8 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 29} {3812684564318765260 6 30} {6692167348646009771 6 31} {4468263577030129472 6 32} {4879728566210896839 6 33} {8580608906836474000 6 34} {5575245990068612007 8 35} {7813093566447829694 8 36} {501585350517077862 8 37} {302062712854402244 8 38} {4346941129221390212 8 39} {5638132893828679971 8 40} {3686063582661006797 8 41} {8137225281315788757 8 42} {1308839891315400920 8 43} {8688713738683629389 8 44} {7404952409010511451 8 45} {3854880696398466677 8 46} {7218732682562868108 8 47} {2584787456807649658 8 48} {172051872758128184 8 49} {8921776606271922203 8 50}]
------------------------------------------------------
term 8 Server0 start snapshot! index=39
term 8 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=50
-------------------------------------------------------------
term 8 Server0 start snapshot! index=49
term 8 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=50
-------------------------------------------------------------
term 8 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 52599 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50}]
------------------------------------------------------
term 8 Server2 start snapshot! index=39
term 8 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=50
-------------------------------------------------------------
term 8 Server2 start snapshot! index=49
term 8 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=50
-------------------------------------------------------------
!!!!!!connect server 1
client write log 218195996413835647 (index 51) to leader 0
term 8 server 2 not vote for server 1, 日志不够新
term 8 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 server 2 vote for server 0
term 10 server 1 vote for server 0
term 10 server 0 get vote from server 2
term 10 server 0 become leader
------------------------------------------------------
term 10 server 0 get outdate rpc reply from server 1
flag 96054 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 69927 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 10 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 10 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 52->51
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 52->51
------------------------------------------------------
term 10 leader 0 nextIndex[1]: 35  matchIndex[1]: 0
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 46138 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 10 server 1 InstallSnapshot success
------------------------------------------------------
term 10 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 8 rf.commitIndex 49 rf.lastApplied 49
flag 47029 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 50418 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 server 0 not vote for server 1, 任期不够新
term 10 server 1 get outdate rpc reply from server 0
flag 13552 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 72920 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32891 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 56596 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
term 10 server 2 not vote for server 1, 任期不够新
term 10 server 1 get outdate rpc reply from server 2
flag 52839 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 16686 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98659 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 96351 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
term 10 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65370 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 19423 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
term 10 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68051 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 20016 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
term 10 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53405 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 74734 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
term 10 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22185 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 55143 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
flag 32463 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 31392 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
term 10 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12125 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 69213 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
flag 12112 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 85655 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
flag 10078 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 10649 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
flag 4926 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 16230 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
flag 44357 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 56184 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
flag 10938 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 21534 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
flag 30105 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 75924 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41876 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 13294 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51}]
------------------------------------------------------
client write log 218195996413835647 (index 52) to leader 0
flag 12737 term 10 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 43116 term 10 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52}]
------------------------------------------------------
flag 44590 term 10 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 32733 term 10 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52}]
------------------------------------------------------
flag 38685 term 10 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 9496 term 10 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52}]
------------------------------------------------------
flag 46119 term 10 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 17360 term 10 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52}]
------------------------------------------------------
flag 36510 term 10 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 25970 term 10 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52}]
------------------------------------------------------
flag 16168 term 10 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 77863 term 10 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 71487 term 10 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 57573 term 10 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 1850 term 10 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 48390 term 10 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 61561 term 10 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 91375 term 10 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 43152 term 10 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 18636 term 10 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
term 11 server 1 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
flag 58818 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 14840 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52}]
------------------------------------------------------
client write log 3676936188107456838 (index 53) to leader 2
flag 21894 term 10 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 52630 term 10 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 90586 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 22384 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53}]
------------------------------------------------------
flag 20067 term 10 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 16019 term 10 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 36936 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 61892 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53}]
------------------------------------------------------
client write log 1781129030691755467 (index 54) to leader 2
flag 50812 term 10 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 71341 term 10 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 23657 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 68037 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53} {1781129030691755467 11 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 53->52
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 53->52
------------------------------------------------------
flag 64632 term 10 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
term 10 leader 0 nextIndex[2]: 0  matchIndex[2]: 52
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 14533 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53} {1781129030691755467 11 54}]
------------------------------------------------------
!!!!!!connect server 0
client write log 1646585036524633293 (index 55) to leader 2
flag 9772 term 10 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 10 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
term 10 leader 0 nextIndex[2]: 0  matchIndex[2]: 52
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 11 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 10 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 1 AppendEntries false 领导者任期过期 args.Term 10
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 15054 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 0 InstallSnapshot fail
rf.commitIndex 52 args.LastIncludedIndex 49
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53} {1781129030691755467 11 54} {1646585036524633293 11 55}]
------------------------------------------------------
term 11 server 2 not vote for server 0, 日志不够新
term 11 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 1 vote for server 2
term 13 server 0 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 2 get outdate rpc reply from server 0
flag 25369 term 13 leader 2 nextIndex[0]: 56  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 67664 term 13 leader 2 nextIndex[1]: 56  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 56->55
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53} {1781129030691755467 11 54} {1646585036524633293 11 55}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32355 term 13 leader 2 nextIndex[0]: 53  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 30294 term 13 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53} {1781129030691755467 11 54} {1646585036524633293 11 55}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53} {1781129030691755467 11 54} {1646585036524633293 11 55}]
------------------------------------------------------
flag 89051 term 13 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 69070 term 13 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53} {1781129030691755467 11 54} {1646585036524633293 11 55}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53} {1781129030691755467 11 54} {1646585036524633293 11 55}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26108 term 13 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 6166 term 13 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53} {1781129030691755467 11 54} {1646585036524633293 11 55}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53} {1781129030691755467 11 54} {1646585036524633293 11 55}]
------------------------------------------------------
flag 59858 term 13 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 78032 term 13 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53} {1781129030691755467 11 54} {1646585036524633293 11 55}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53} {1781129030691755467 11 54} {1646585036524633293 11 55}]
------------------------------------------------------
flag 81917 term 13 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 81943 term 13 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53} {1781129030691755467 11 54} {1646585036524633293 11 55}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53} {1781129030691755467 11 54} {1646585036524633293 11 55}]
------------------------------------------------------
flag 49485 term 13 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 82224 term 13 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53} {1781129030691755467 11 54} {1646585036524633293 11 55}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53} {1781129030691755467 11 54} {1646585036524633293 11 55}]
------------------------------------------------------
flag 33017 term 13 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 78731 term 13 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53} {1781129030691755467 11 54} {1646585036524633293 11 55}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53} {1781129030691755467 11 54} {1646585036524633293 11 55}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8537771366698556664 (index 56) to leader 2
flag 29543 term 13 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 76718 term 13 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53} {1781129030691755467 11 54} {1646585036524633293 11 55} {8537771366698556664 13 56}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69794 term 13 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 56 
------------------------------------------------------
flag 16660 term 13 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 13 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53} {1781129030691755467 11 54} {1646585036524633293 11 55} {8537771366698556664 13 56}]
------------------------------------------------------
client write log 6853878245186029352 (index 57) to leader 2
client write log 8461123628092146577 (index 58) to leader 2
client write log 5151028080773688156 (index 59) to leader 2
client write log 54169629002606086 (index 60) to leader 2
client write log 5918990057179043160 (index 61) to leader 2
client write log 2793361526638704295 (index 62) to leader 2
client write log 1744972177810365941 (index 63) to leader 2
client write log 5882653116806868439 (index 64) to leader 2
client write log 4860674610776328117 (index 65) to leader 2
flag 89887 term 13 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 56 
------------------------------------------------------
flag 63988 term 13 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 13 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 8 49} {8921776606271922203 8 50} {218195996413835647 8 51} {218195996413835647 10 52} {3676936188107456838 11 53} {1781129030691755467 11 54} {1646585036524633293 11 55} {8537771366698556664 13 56} {6853878245186029352 13 57} {8461123628092146577 13 58} {5151028080773688156 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65}]
------------------------------------------------------
term 13 Server2 start snapshot! index=59
term 13 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=65
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 13
------------------------------------------------------
flag 1993 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65}]
------------------------------------------------------
term 13 Server1 start snapshot! index=59
term 13 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=65
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8499101972011540192 (index 66) to leader 2
term 13 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 13
------------------------------------------------------
flag 41211 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 14 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 server 1 vote for server 2
term 15 server 2 get vote from server 1
term 15 server 2 become leader
------------------------------------------------------
term 15 server 0 vote for server 2
term 15 server 2 get outdate rpc reply from server 0
flag 84632 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 5775 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 15 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 67->66
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 56  matchIndex[0]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 13
------------------------------------------------------
flag 39703 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 15 server 0 InstallSnapshot success
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 13 rf.commitIndex 59 rf.lastApplied 59
flag 22191 term 15 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 15 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 65989 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
flag 70896 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 64138 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39141 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 16266 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
flag 49407 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 2269 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3538 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 32625 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60710 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 20903 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
flag 10150 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 69126 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
flag 6876 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 93317 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
flag 13685 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 57859 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46948 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 78002 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
term 15 server 2 not vote for server 0, 任期不够新
term 15 server 0 get outdate rpc reply from server 2
flag 14694 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 84110 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
flag 17749 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 38440 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
flag 47799 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 95958 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
flag 80799 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 67549 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41607 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 3813 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
flag 18163 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 78470 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
flag 76975 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 23333 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
term 15 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
update matchIndex[1]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=65
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66}]
------------------------------------------------------
client write log 8499101972011540192 (index 67) to leader 2
flag 61477 term 15 leader 2 nextIndex[0]: 67  matchIndex[0]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 41634 term 15 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66} {8499101972011540192 15 67}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66} {8499101972011540192 15 67}]
------------------------------------------------------
flag 28755 term 15 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 15 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 56436 term 15 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66} {8499101972011540192 15 67}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66} {8499101972011540192 15 67}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66552 term 15 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 15 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 23548 term 15 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66} {8499101972011540192 15 67}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66} {8499101972011540192 15 67}]
------------------------------------------------------
flag 93333 term 15 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 15 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 48400 term 15 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66} {8499101972011540192 15 67}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66} {8499101972011540192 15 67}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87573 term 15 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 15 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 64442 term 15 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66} {8499101972011540192 15 67}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66} {8499101972011540192 15 67}]
------------------------------------------------------
flag 57117 term 15 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 15 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 42268 term 15 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66} {8499101972011540192 15 67}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66} {8499101972011540192 15 67}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12617 term 15 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 15 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 69582 term 15 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66} {8499101972011540192 15 67}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66} {8499101972011540192 15 67}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2709832642515362649 (index 68) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32997 term 15 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 15 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 20082 term 15 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 15 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66} {8499101972011540192 15 67} {2709832642515362649 15 68}]
------------------------------------------------------
flag 65333 term 15 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 15 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 68 
------------------------------------------------------
flag 14305 term 15 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 15 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 15 leaderCommit: 68 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66} {8499101972011540192 15 67} {2709832642515362649 15 68}]
------------------------------------------------------
client write log 4035016677346198765 (index 69) to leader 2
client write log 7970280684005438179 (index 70) to leader 2
client write log 1977666439092541369 (index 71) to leader 2
client write log 4811314276833485516 (index 72) to leader 2
client write log 2014759623988201192 (index 73) to leader 2
client write log 624508596408893730 (index 74) to leader 2
client write log 8532866421999992302 (index 75) to leader 2
client write log 816362387374655145 (index 76) to leader 2
client write log 387349326658913499 (index 77) to leader 2
client write log 7229254580530190884 (index 78) to leader 2
client write log 6912774699411029358 (index 79) to leader 2
client write log 5756279520068055539 (index 80) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20789 term 15 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 15 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 68 
------------------------------------------------------
flag 9545 term 15 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 15 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 15 leaderCommit: 68 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 59} {54169629002606086 13 60} {5918990057179043160 13 61} {2793361526638704295 13 62} {1744972177810365941 13 63} {5882653116806868439 13 64} {4860674610776328117 13 65} {8499101972011540192 13 66} {8499101972011540192 15 67} {2709832642515362649 15 68} {4035016677346198765 15 69} {7970280684005438179 15 70} {1977666439092541369 15 71} {4811314276833485516 15 72} {2014759623988201192 15 73} {624508596408893730 15 74} {8532866421999992302 15 75} {816362387374655145 15 76} {387349326658913499 15 77} {7229254580530190884 15 78} {6912774699411029358 15 79} {5756279520068055539 15 80}]
------------------------------------------------------
term 15 Server2 start snapshot! index=69
term 15 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=80
-------------------------------------------------------------
term 15 Server2 start snapshot! index=79
term 15 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=80
-------------------------------------------------------------
term 15 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 15
------------------------------------------------------
flag 84281 term 15 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 15 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80}]
------------------------------------------------------
term 15 Server1 start snapshot! index=69
term 15 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=80
-------------------------------------------------------------
term 15 Server1 start snapshot! index=79
term 15 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=80
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3104071170254806797 (index 81) to leader 2
term 15 server 2 not vote for server 0, 日志不够新
term 15 server 1 not vote for server 0, 日志不够新
term 17 server 1 vote for server 2
term 17 server 0 vote for server 2
term 17 server 2 get vote from server 1
term 17 server 2 become leader
------------------------------------------------------
term 17 server 2 get outdate rpc reply from server 0
flag 37261 term 17 leader 2 nextIndex[0]: 82  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
flag 39005 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 17 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 82->81
------------------------------------------------------
term 17 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 82->81
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 17 leader 2 nextIndex[0]: 68  matchIndex[0]: 0
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 15
------------------------------------------------------
flag 78230 term 17 leader 2 nextIndex[1]: 81  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 17 server 0 InstallSnapshot success
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 15 rf.commitIndex 79 rf.lastApplied 79
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
flag 17555 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
flag 49482 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
flag 76890 term 17 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
flag 6033 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
flag 93549 term 17 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
flag 65967 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
flag 94914 term 17 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
flag 61004 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
flag 426 term 17 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
flag 58836 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
flag 14708 term 17 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
flag 83249 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
flag 86549 term 17 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
flag 23881 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
flag 12254 term 17 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
flag 13660 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89567 term 17 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
flag 11914 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4677 term 17 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
flag 15166 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95604 term 17 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
flag 76128 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
flag 40854 term 17 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
flag 75205 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
flag 46403 term 17 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
flag 87611 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
flag 69575 term 17 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
flag 4872 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1652 term 17 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
flag 60684 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
flag 8347 term 17 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
flag 3389 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
term 17 server 1 not vote for server 0, 任期不够新
term 17 server 0 get outdate rpc reply from server 1
term 17 server 0 not vote for server 2, 任期不够新
term 17 server 2 get outdate rpc reply from server 0
flag 28722 term 17 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
flag 33432 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
flag 27253 term 17 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
flag 37219 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81}]
------------------------------------------------------
client write log 3104071170254806797 (index 82) to leader 2
flag 15091 term 17 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
flag 56655 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81} {3104071170254806797 17 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81} {3104071170254806797 17 82}]
------------------------------------------------------
flag 20945 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
flag 76059 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81} {3104071170254806797 17 82}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81} {3104071170254806797 17 82}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29879 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
flag 23689 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81} {3104071170254806797 17 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81} {3104071170254806797 17 82}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18034 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
flag 81196 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81} {3104071170254806797 17 82}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81} {3104071170254806797 17 82}]
------------------------------------------------------
flag 65167 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
flag 25901 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81} {3104071170254806797 17 82}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81} {3104071170254806797 17 82}]
------------------------------------------------------
flag 2554 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
flag 12871 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81} {3104071170254806797 17 82}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81} {3104071170254806797 17 82}]
------------------------------------------------------
!!!!!!diconnect server 2
term 17 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47556 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
flag 559 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
flag 99773 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
flag 66968 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
flag 470 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
flag 89310 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
term 18 server 1 vote for server 0
term 18 server 0 get vote from server 1
term 18 server 0 become leader
------------------------------------------------------
flag 52040 term 18 leader 0 nextIndex[1]: 83  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
flag 78792 term 18 leader 0 nextIndex[2]: 83  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81} {3104071170254806797 17 82}]
------------------------------------------------------
client write log 4249138393456365843 (index 83) to leader 0
flag 83547 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
flag 72237 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15073 term 18 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 18 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
flag 95500 term 18 leader 0 nextIndex[2]: 83  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81} {3104071170254806797 17 82} {4249138393456365843 18 83}]
------------------------------------------------------
flag 20849 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
flag 48749 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
flag 84142 term 18 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 18 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 18 leaderCommit: 83 
------------------------------------------------------
flag 15023 term 18 leader 0 nextIndex[2]: 83  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81} {3104071170254806797 17 82} {4249138393456365843 18 83}]
------------------------------------------------------
client write log 7303710115931306051 (index 84) to leader 0
client write log 7496541621837012190 (index 85) to leader 0
client write log 6588097734709802190 (index 86) to leader 0
client write log 1321596289924938897 (index 87) to leader 0
client write log 1341578408212635800 (index 88) to leader 0
client write log 444378260167145031 (index 89) to leader 0
client write log 473296005812956492 (index 90) to leader 0
client write log 5333585279058111648 (index 91) to leader 0
client write log 9093988228931018865 (index 92) to leader 0
client write log 5404090022742771923 (index 93) to leader 0
client write log 6960231593881297425 (index 94) to leader 0
flag 44668 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
flag 47906 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
flag 43015 term 18 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 18 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 18 leaderCommit: 83 
------------------------------------------------------
flag 17209 term 18 leader 0 nextIndex[2]: 83  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 15 79} {5756279520068055539 15 80} {3104071170254806797 15 81} {3104071170254806797 17 82} {4249138393456365843 18 83} {7303710115931306051 18 84} {7496541621837012190 18 85} {6588097734709802190 18 86} {1321596289924938897 18 87} {1341578408212635800 18 88} {444378260167145031 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
term 18 Server0 start snapshot! index=89
term 18 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=94
-------------------------------------------------------------
flag 45139 term 17 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
flag 32559 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 83->82
------------------------------------------------------
flag 3984 term 18 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 18 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 18 leader 0 nextIndex[2]: 83  matchIndex[2]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 18
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
term 18 Server1 start snapshot! index=89
term 18 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=94
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5853840105364714347 (index 83) to leader 2
term 17 leader 2 nextIndex[0]: 0  matchIndex[0]: 82
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 15
------------------------------------------------------
flag 63077 term 17 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 17 leaderCommit: 82 
------------------------------------------------------
term 18 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 18 server 1 AppendEntries false 领导者任期过期 args.Term 17
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64170 term 18 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 18 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 18 leader 0 nextIndex[2]: 83  matchIndex[2]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 18
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 18 rf.commitIndex 89 rf.lastApplied 89
term 18 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
term 18 server 1 not vote for server 2, 日志不够新
term 18 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 2 vote for server 0
term 20 server 1 vote for server 0
term 20 server 0 get vote from server 2
term 20 server 0 become leader
------------------------------------------------------
term 20 server 0 get outdate rpc reply from server 1
flag 20283 term 20 leader 0 nextIndex[1]: 95  matchIndex[1]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 27234 term 20 leader 0 nextIndex[2]: 95  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 95->94
------------------------------------------------------
flag 4552 term 20 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 52079 term 20 leader 0 nextIndex[2]: 90  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71214 term 20 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 59818 term 20 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
flag 71206 term 20 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 49673 term 20 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
flag 62690 term 20 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 98632 term 20 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
flag 51989 term 20 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 36386 term 20 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
flag 48722 term 20 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 18625 term 20 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
flag 94658 term 20 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 1708 term 20 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
term 20 server 2 not vote for server 0, 任期不够新
term 20 server 0 get outdate rpc reply from server 2
flag 82281 term 20 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 89340 term 20 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
flag 22943 term 20 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 4416 term 20 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47397 term 20 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 11543 term 20 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
flag 76409 term 20 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 11468 term 20 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
flag 73666 term 20 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 4169 term 20 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50954 term 20 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 14860 term 20 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
flag 70669 term 20 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 31541 term 20 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45508 term 20 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 42530 term 20 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
flag 1270 term 20 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 66036 term 20 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
flag 37726 term 20 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 78037 term 20 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
flag 60341 term 20 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 5605 term 20 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94}]
------------------------------------------------------
client write log 5853840105364714347 (index 95) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45753 term 20 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 41416 term 20 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 20 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=95
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94} {5853840105364714347 20 95}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94} {5853840105364714347 20 95}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82538 term 20 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 20 leaderCommit: 95 
------------------------------------------------------
flag 48914 term 20 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 20 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 20 leaderCommit: 95 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=95
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94} {5853840105364714347 20 95}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94} {5853840105364714347 20 95}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9760 term 20 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 20 leaderCommit: 95 
------------------------------------------------------
flag 93754 term 20 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 20 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 20 leaderCommit: 95 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=95
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94} {5853840105364714347 20 95}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94} {5853840105364714347 20 95}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10098 term 20 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 20 leaderCommit: 95 
------------------------------------------------------
flag 6824 term 20 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 20 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 20 leaderCommit: 95 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=95
term 20 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94} {5853840105364714347 20 95}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94} {5853840105364714347 20 95}]
------------------------------------------------------
flag 92102 term 20 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 20 leaderCommit: 95 
------------------------------------------------------
flag 58319 term 20 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 20 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 20 leaderCommit: 95 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=95
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94} {5853840105364714347 20 95}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94} {5853840105364714347 20 95}]
------------------------------------------------------
flag 6217 term 20 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 20 leaderCommit: 95 
------------------------------------------------------
flag 35473 term 20 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 20 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 20 leaderCommit: 95 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94} {5853840105364714347 20 95}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=95
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94} {5853840105364714347 20 95}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 9066114276575334513 (index 96) to leader 0
flag 24889 term 20 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 20 leaderCommit: 95 
------------------------------------------------------
flag 82694 term 20 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 20 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 20 leaderCommit: 95 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94} {5853840105364714347 20 95} {9066114276575334513 20 96}]
------------------------------------------------------
flag 46561 term 20 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
flag 93265 term 20 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 20 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94} {5853840105364714347 20 95} {9066114276575334513 20 96}]
------------------------------------------------------
client write log 2237702674186323473 (index 97) to leader 0
client write log 3354029466822622145 (index 98) to leader 0
client write log 344902426044459346 (index 99) to leader 0
client write log 9021981562019698720 (index 100) to leader 0
client write log 3610650246829184171 (index 101) to leader 0
client write log 1621527845633713105 (index 102) to leader 0
client write log 4640511504285217879 (index 103) to leader 0
client write log 6623210425575660059 (index 104) to leader 0
client write log 3306599270227373409 (index 105) to leader 0
client write log 8260692291783578583 (index 106) to leader 0
client write log 2462255289203314300 (index 107) to leader 0
client write log 1731106817972239641 (index 108) to leader 0
client write log 823301253970265709 (index 109) to leader 0
client write log 2788410648161031300 (index 110) to leader 0
client write log 4618561804699240816 (index 111) to leader 0
flag 7025 term 20 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
flag 22994 term 20 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 20 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 18 89} {473296005812956492 18 90} {5333585279058111648 18 91} {9093988228931018865 18 92} {5404090022742771923 18 93} {6960231593881297425 18 94} {5853840105364714347 20 95} {9066114276575334513 20 96} {2237702674186323473 20 97} {3354029466822622145 20 98} {344902426044459346 20 99} {9021981562019698720 20 100} {3610650246829184171 20 101} {1621527845633713105 20 102} {4640511504285217879 20 103} {6623210425575660059 20 104} {3306599270227373409 20 105} {8260692291783578583 20 106} {2462255289203314300 20 107} {1731106817972239641 20 108} {823301253970265709 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111}]
------------------------------------------------------
term 20 Server0 start snapshot! index=99
term 20 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=111
-------------------------------------------------------------
term 20 Server0 start snapshot! index=109
term 20 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=111
-------------------------------------------------------------
term 20 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 7629 term 20 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111}]
------------------------------------------------------
term 20 Server2 start snapshot! index=99
term 20 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=111
-------------------------------------------------------------
term 20 Server2 start snapshot! index=109
term 20 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=111
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4594621572027719424 (index 112) to leader 0
term 20 server 2 not vote for server 1, 日志不够新
term 20 server 0 not vote for server 1, 日志不够新
term 22 server 2 vote for server 0
term 22 server 0 get vote from server 2
term 22 server 0 become leader
------------------------------------------------------
term 22 server 1 vote for server 0
term 22 server 0 get outdate rpc reply from server 1
flag 68859 term 22 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 54545 term 22 leader 0 nextIndex[2]: 113  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 113->112
------------------------------------------------------
term 22 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 113->112
------------------------------------------------------
term 22 leader 0 nextIndex[1]: 96  matchIndex[1]: 0
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 27132 term 22 leader 0 nextIndex[2]: 112  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 InstallSnapshot success
------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 20 rf.commitIndex 109 rf.lastApplied 109
term 22 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8195 term 22 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 22 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 92297 term 22 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
flag 23615 term 22 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 94977 term 22 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
flag 65947 term 22 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 67965 term 22 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
flag 25677 term 22 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 11451 term 22 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
flag 22201 term 22 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 91210 term 22 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
flag 19437 term 22 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 39964 term 22 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
flag 63949 term 22 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 8603 term 22 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
flag 70485 term 22 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 59113 term 22 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
flag 18398 term 22 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 47242 term 22 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
flag 18314 term 22 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 96127 term 22 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15666 term 22 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 66816 term 22 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
flag 69412 term 22 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 82902 term 22 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
flag 16279 term 22 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 98893 term 22 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
term 22 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56727 term 22 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 74417 term 22 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90540 term 22 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 49984 term 22 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
flag 1244 term 22 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 76218 term 22 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80168 term 22 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 55456 term 22 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
flag 48023 term 22 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 74047 term 22 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112}]
------------------------------------------------------
client write log 4594621572027719424 (index 113) to leader 0
flag 76898 term 22 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 43846 term 22 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 22 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112} {4594621572027719424 22 113}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112} {4594621572027719424 22 113}]
------------------------------------------------------
flag 73508 term 22 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 67126 term 22 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 22 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
term 22 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112} {4594621572027719424 22 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112} {4594621572027719424 22 113}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73164 term 22 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 99090 term 22 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 22 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112} {4594621572027719424 22 113}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112} {4594621572027719424 22 113}]
------------------------------------------------------
flag 38603 term 22 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 51143 term 22 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 22 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112} {4594621572027719424 22 113}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112} {4594621572027719424 22 113}]
------------------------------------------------------
flag 43608 term 22 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 69564 term 22 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 22 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112} {4594621572027719424 22 113}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112} {4594621572027719424 22 113}]
------------------------------------------------------
flag 11138 term 22 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 74987 term 22 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 22 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112} {4594621572027719424 22 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112} {4594621572027719424 22 113}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 225860398445737384 (index 114) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67972 term 22 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 38596 term 22 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 22 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112} {4594621572027719424 22 113} {225860398445737384 22 114}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 114->113
------------------------------------------------------
term 22 leader 0 nextIndex[1]: 0  matchIndex[1]: 113
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 20362 term 22 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 22 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112} {4594621572027719424 22 113} {225860398445737384 22 114}]
------------------------------------------------------
client write log 6131899698045623299 (index 115) to leader 0
client write log 1816471081784267447 (index 116) to leader 0
client write log 1873226646946868029 (index 117) to leader 0
client write log 5392410464409953285 (index 118) to leader 0
client write log 7693471979433823794 (index 119) to leader 0
client write log 1143373093130145492 (index 120) to leader 0
client write log 3657970227821233139 (index 121) to leader 0
client write log 3040608256724481669 (index 122) to leader 0
client write log 908455566822337941 (index 123) to leader 0
client write log 8713717933593442351 (index 124) to leader 0
client write log 7501926106309516646 (index 125) to leader 0
client write log 1043364611326053220 (index 126) to leader 0
term 22 leader 0 nextIndex[1]: 0  matchIndex[1]: 113
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 99798 term 22 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 22 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 109} {2788410648161031300 20 110} {4618561804699240816 20 111} {4594621572027719424 20 112} {4594621572027719424 22 113} {225860398445737384 22 114} {6131899698045623299 22 115} {1816471081784267447 22 116} {1873226646946868029 22 117} {5392410464409953285 22 118} {7693471979433823794 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126}]
------------------------------------------------------
term 22 Server0 start snapshot! index=119
term 22 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=126
-------------------------------------------------------------
term 22 leader 0 nextIndex[1]: 0  matchIndex[1]: 113
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
flag 86372 term 22 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 22 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126}]
------------------------------------------------------
term 22 Server2 start snapshot! index=119
term 22 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=126
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7801685696306666869 (index 127) to leader 0
term 22 server 2 not vote for server 1, 日志不够新
term 22 server 0 not vote for server 1, 日志不够新
term 24 server 2 vote for server 0
term 24 server 0 get vote from server 2
term 24 server 0 become leader
------------------------------------------------------
term 24 server 1 vote for server 0
term 24 server 0 get outdate rpc reply from server 1
flag 32633 term 24 leader 0 nextIndex[1]: 128  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 65851 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 24 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 128->127
------------------------------------------------------
term 24 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 128->127
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 114  matchIndex[1]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
flag 66464 term 24 leader 0 nextIndex[2]: 127  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 24 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 22 rf.commitIndex 119 rf.lastApplied 119
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83183 term 24 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 24 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 54828 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
flag 2323 term 24 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 95624 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
flag 35820 term 24 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 64736 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
flag 26194 term 24 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 3271 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
flag 72339 term 24 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 93845 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
flag 68436 term 24 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 17305 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
flag 71862 term 24 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 16782 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29716 term 24 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 86103 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
flag 20295 term 24 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 75514 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
flag 61893 term 24 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 2385 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
flag 79923 term 24 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 82591 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
flag 76038 term 24 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 25440 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
flag 21798 term 24 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 5527 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
flag 88173 term 24 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 28976 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
flag 42278 term 24 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 78467 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
flag 23047 term 24 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 30327 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
flag 27737 term 24 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 96149 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
flag 82792 term 24 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 50633 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127}]
------------------------------------------------------
client write log 7801685696306666869 (index 128) to leader 0
term 24 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67997 term 24 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 37992 term 24 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 24 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
term 24 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127} {7801685696306666869 24 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127} {7801685696306666869 24 128}]
------------------------------------------------------
flag 87264 term 24 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 12058 term 24 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127} {7801685696306666869 24 128}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127} {7801685696306666869 24 128}]
------------------------------------------------------
flag 45690 term 24 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 7687 term 24 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127} {7801685696306666869 24 128}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127} {7801685696306666869 24 128}]
------------------------------------------------------
flag 73710 term 24 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 49681 term 24 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127} {7801685696306666869 24 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127} {7801685696306666869 24 128}]
------------------------------------------------------
flag 33708 term 24 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 48154 term 24 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127} {7801685696306666869 24 128}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127} {7801685696306666869 24 128}]
------------------------------------------------------
flag 85955 term 24 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 46594 term 24 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
term 24 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127} {7801685696306666869 24 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127} {7801685696306666869 24 128}]
------------------------------------------------------
flag 50537 term 24 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 70224 term 24 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127} {7801685696306666869 24 128}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127} {7801685696306666869 24 128}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 59521 term 24 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 71903 term 24 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 39558 term 24 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 91427 term 24 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 35798 term 24 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 10397 term 24 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 68159 term 24 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 1101 term 24 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 25 server 2 vote for server 1
term 25 server 1 get vote from server 2
term 25 server 1 become leader
------------------------------------------------------
client write log 2613212139212148972 (index 129) to leader 1
flag 43076 term 25 leader 1 nextIndex[0]: 129  matchIndex[0]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 99419 term 25 leader 1 nextIndex[2]: 129  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 22 119} {1143373093130145492 22 120} {3657970227821233139 22 121} {3040608256724481669 22 122} {908455566822337941 22 123} {8713717933593442351 22 124} {7501926106309516646 22 125} {1043364611326053220 22 126} {7801685696306666869 22 127} {7801685696306666869 24 128} {2613212139212148972 25 129}]
------------------------------------------------------
term 25 Server1 start snapshot! index=129
term 25 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
flag 2260 term 24 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 54573 term 24 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 25 leader 1 nextIndex[0]: 129  matchIndex[0]: 0
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 25
------------------------------------------------------
flag 24289 term 25 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 25 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 25 leaderCommit: 129 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 25 129}]
------------------------------------------------------
term 25 Server2 start snapshot! index=129
term 25 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
client write log 3123954452138470338 (index 130) to leader 1
client write log 213952208263530041 (index 131) to leader 1
client write log 1319831261973508162 (index 132) to leader 1
client write log 307595526506743265 (index 133) to leader 1
client write log 4850713547252553490 (index 134) to leader 1
client write log 2945989128014427014 (index 135) to leader 1
client write log 1698721549896770552 (index 136) to leader 1
client write log 3860877268703306970 (index 137) to leader 1
client write log 2290845322917489744 (index 138) to leader 1
client write log 4973714555119155886 (index 139) to leader 1
client write log 8376627986340320551 (index 140) to leader 1
client write log 3836977208257750789 (index 141) to leader 1
client write log 7178711593672969538 (index 142) to leader 1
flag 8626 term 24 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 28546 term 24 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 25 leader 1 nextIndex[0]: 129  matchIndex[0]: 0
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 25
------------------------------------------------------
flag 21584 term 25 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 25 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 25 leaderCommit: 129 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 25 129} {3123954452138470338 25 130} {213952208263530041 25 131} {1319831261973508162 25 132} {307595526506743265 25 133} {4850713547252553490 25 134} {2945989128014427014 25 135} {1698721549896770552 25 136} {3860877268703306970 25 137} {2290845322917489744 25 138} {4973714555119155886 25 139} {8376627986340320551 25 140} {3836977208257750789 25 141} {7178711593672969538 25 142}]
------------------------------------------------------
term 25 Server1 start snapshot! index=139
term 25 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=142
-------------------------------------------------------------
flag 76813 term 24 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 61207 term 24 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 25 leader 1 nextIndex[0]: 129  matchIndex[0]: 0
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
flag 34792 term 25 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 25 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 25 139} {8376627986340320551 25 140} {3836977208257750789 25 141} {7178711593672969538 25 142}]
------------------------------------------------------
term 25 Server2 start snapshot! index=139
term 25 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=142
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7628808990441844826 (index 143) to leader 1
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 129->128
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 128
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
flag 55865 term 24 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 24 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 25 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 server 2 AppendEntries false 领导者任期过期 args.Term 24
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 1 nextIndex[0]: 129  matchIndex[0]: 0
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
flag 24852 term 25 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 25 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 25 server 0 InstallSnapshot success
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 25 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 25 rf.commitIndex 139 rf.lastApplied 139
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {8376627986340320551 25 140} {3836977208257750789 25 141} {7178711593672969538 25 142} {7628808990441844826 25 143}]
------------------------------------------------------
term 25 server 0 not vote for server 1, 日志不够新
term 25 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 2 not vote for server 0, 日志不够新
term 25 server 1 not vote for server 0, 日志不够新
term 27 server 2 vote for server 1
term 27 server 1 get vote from server 2
term 27 server 1 become leader
------------------------------------------------------
term 27 server 0 vote for server 1
term 27 server 1 get outdate rpc reply from server 0
flag 86202 term 27 leader 1 nextIndex[0]: 144  matchIndex[0]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 73734 term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {8376627986340320551 25 140} {3836977208257750789 25 141} {7178711593672969538 25 142} {7628808990441844826 25 143}]
------------------------------------------------------
term 27 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 144->143
------------------------------------------------------
flag 89476 term 27 leader 1 nextIndex[0]: 140  matchIndex[0]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 94241 term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {8376627986340320551 25 140} {3836977208257750789 25 141} {7178711593672969538 25 142} {7628808990441844826 25 143}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {8376627986340320551 25 140} {3836977208257750789 25 141} {7178711593672969538 25 142} {7628808990441844826 25 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53606 term 27 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 91279 term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {8376627986340320551 25 140} {3836977208257750789 25 141} {7178711593672969538 25 142} {7628808990441844826 25 143}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {8376627986340320551 25 140} {3836977208257750789 25 141} {7178711593672969538 25 142} {7628808990441844826 25 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17696 term 27 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 99293 term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {8376627986340320551 25 140} {3836977208257750789 25 141} {7178711593672969538 25 142} {7628808990441844826 25 143}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {8376627986340320551 25 140} {3836977208257750789 25 141} {7178711593672969538 25 142} {7628808990441844826 25 143}]
------------------------------------------------------
flag 27223 term 27 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 40136 term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {8376627986340320551 25 140} {3836977208257750789 25 141} {7178711593672969538 25 142} {7628808990441844826 25 143}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {8376627986340320551 25 140} {3836977208257750789 25 141} {7178711593672969538 25 142} {7628808990441844826 25 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49253 term 27 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 58413 term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {8376627986340320551 25 140} {3836977208257750789 25 141} {7178711593672969538 25 142} {7628808990441844826 25 143}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {8376627986340320551 25 140} {3836977208257750789 25 141} {7178711593672969538 25 142} {7628808990441844826 25 143}]
------------------------------------------------------
flag 28575 term 27 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 17355 term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {8376627986340320551 25 140} {3836977208257750789 25 141} {7178711593672969538 25 142} {7628808990441844826 25 143}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {8376627986340320551 25 140} {3836977208257750789 25 141} {7178711593672969538 25 142} {7628808990441844826 25 143}]
------------------------------------------------------
flag 68885 term 27 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 73150 term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {8376627986340320551 25 140} {3836977208257750789 25 141} {7178711593672969538 25 142} {7628808990441844826 25 143}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {8376627986340320551 25 140} {3836977208257750789 25 141} {7178711593672969538 25 142} {7628808990441844826 25 143}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2252731977721118307 (index 144) to leader 1
flag 15886 term 27 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 12662 term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {8376627986340320551 25 140} {3836977208257750789 25 141} {7178711593672969538 25 142} {7628808990441844826 25 143} {2252731977721118307 27 144}]
------------------------------------------------------
flag 13857 term 27 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 27 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 20451 term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {8376627986340320551 25 140} {3836977208257750789 25 141} {7178711593672969538 25 142} {7628808990441844826 25 143} {2252731977721118307 27 144}]
------------------------------------------------------
client write log 7182531454613574640 (index 145) to leader 1
client write log 7074712176486410830 (index 146) to leader 1
client write log 93602474508704734 (index 147) to leader 1
client write log 5521632862615980933 (index 148) to leader 1
client write log 4939507794380441411 (index 149) to leader 1
client write log 4160789651127327664 (index 150) to leader 1
client write log 2727300480157148176 (index 151) to leader 1
client write log 4304213639363001332 (index 152) to leader 1
client write log 1725708685555512099 (index 153) to leader 1
client write log 2226591927917613112 (index 154) to leader 1
client write log 8174037357881178832 (index 155) to leader 1
client write log 2820721610194011831 (index 156) to leader 1
client write log 636014551673974935 (index 157) to leader 1
client write log 5821332430719886666 (index 158) to leader 1
client write log 1776004467736951135 (index 159) to leader 1
term 27 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11209 term 27 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 27 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 70861 term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 139} {8376627986340320551 25 140} {3836977208257750789 25 141} {7178711593672969538 25 142} {7628808990441844826 25 143} {2252731977721118307 27 144} {7182531454613574640 27 145} {7074712176486410830 27 146} {93602474508704734 27 147} {5521632862615980933 27 148} {4939507794380441411 27 149} {4160789651127327664 27 150} {2727300480157148176 27 151} {4304213639363001332 27 152} {1725708685555512099 27 153} {2226591927917613112 27 154} {8174037357881178832 27 155} {2820721610194011831 27 156} {636014551673974935 27 157} {5821332430719886666 27 158} {1776004467736951135 27 159}]
------------------------------------------------------
term 27 Server1 start snapshot! index=149
term 27 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=159
-------------------------------------------------------------
term 27 Server1 start snapshot! index=159
term 27 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 86764 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 27
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 Server0 start snapshot! index=149
term 27 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=159
-------------------------------------------------------------
term 27 Server0 start snapshot! index=159
term 27 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6102460393007175274 (index 160) to leader 1
term 27 server 1 not vote for server 2, 日志不够新
term 27 server 0 not vote for server 2, 日志不够新
term 29 server 2 vote for server 1
term 29 server 1 get vote from server 2
term 29 server 1 become leader
------------------------------------------------------
term 29 server 0 vote for server 1
term 29 server 1 get outdate rpc reply from server 0
flag 10123 term 29 leader 1 nextIndex[0]: 161  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 53979 term 29 leader 1 nextIndex[2]: 161  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 29 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 161->160
------------------------------------------------------
term 29 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 161->160
------------------------------------------------------
flag 88949 term 29 leader 1 nextIndex[0]: 160  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 144  matchIndex[2]: 0
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 27
------------------------------------------------------
term 29 server 2 InstallSnapshot success
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 27 rf.commitIndex 159 rf.lastApplied 159
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28539 term 29 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 11327 term 29 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 29 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
flag 57552 term 29 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 38194 term 29 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
flag 18848 term 29 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 49778 term 29 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29425 term 29 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 9021 term 29 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
flag 2754 term 29 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 83154 term 29 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42218 term 29 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 6747 term 29 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
term 29 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74271 term 29 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 47486 term 29 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
flag 34470 term 29 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 78327 term 29 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
flag 53799 term 29 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 90912 term 29 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
flag 99461 term 29 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 67246 term 29 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
flag 46091 term 29 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 63395 term 29 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
flag 73502 term 29 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 72833 term 29 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69953 term 29 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 17315 term 29 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95085 term 29 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 79977 term 29 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
flag 67644 term 29 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 68162 term 29 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
flag 8588 term 29 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 64963 term 29 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
flag 84232 term 29 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 4908 term 29 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=159
leader log:
[{snapshot 27 159} {6102460393007175274 27 160}]
------------------------------------------------------
client write log 6102460393007175274 (index 161) to leader 1
flag 85728 term 29 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 25063 term 29 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161}]
------------------------------------------------------
flag 75608 term 29 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 29 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 29 leaderCommit: 161 
------------------------------------------------------
flag 96374 term 29 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 29 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 29 leaderCommit: 161 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161}]
------------------------------------------------------
flag 84876 term 29 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 29 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 29 leaderCommit: 161 
------------------------------------------------------
flag 86050 term 29 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 29 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 29 leaderCommit: 161 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161}]
------------------------------------------------------
flag 25158 term 29 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 29 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 29 leaderCommit: 161 
------------------------------------------------------
flag 10040 term 29 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 29 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 29 leaderCommit: 161 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161}]
------------------------------------------------------
flag 69513 term 29 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 29 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 29 leaderCommit: 161 
------------------------------------------------------
flag 52851 term 29 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 29 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 29 leaderCommit: 161 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161}]
------------------------------------------------------
flag 75127 term 29 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 29 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 29 leaderCommit: 161 
------------------------------------------------------
flag 39975 term 29 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 29 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 29 leaderCommit: 161 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8032823887513822093 (index 162) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64603 term 29 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 29 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 29 leaderCommit: 161 
------------------------------------------------------
flag 98735 term 29 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 29 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 29 leaderCommit: 161 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94955 term 29 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 29 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 29 leaderCommit: 162 
------------------------------------------------------
flag 72589 term 29 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 29 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 29 leaderCommit: 162 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162}]
------------------------------------------------------
client write log 2093026885173991673 (index 163) to leader 1
client write log 2346275370790972372 (index 164) to leader 1
client write log 6146629279170707849 (index 165) to leader 1
client write log 8902177705297397010 (index 166) to leader 1
client write log 431173270310918919 (index 167) to leader 1
client write log 4772905453727621082 (index 168) to leader 1
flag 35606 term 29 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 29 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 29 leaderCommit: 162 
------------------------------------------------------
flag 90775 term 29 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 29 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 29 leaderCommit: 162 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75887 term 29 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 64951 term 29 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 29 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168}]
------------------------------------------------------
term 29 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!connect server 2
client write log 3827190161523971690 (index 169) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97440 term 29 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 28967 term 29 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 29 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 30 server 2 AppendEntries false 领导者任期过期 args.Term 29
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 2 not vote for server 0, 投给了其他人
term 30 server 1 vote for server 0
term 30 server 0 get vote from server 1
term 30 server 0 become leader
------------------------------------------------------
flag 44639 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 25027 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 30 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 170->169
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
term 30 server 1 not vote for server 2, 投给了其他人
term 30 server 2 get outdate rpc reply from server 1
flag 84074 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 61922 term 30 leader 0 nextIndex[2]: 162  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
flag 30660 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 58733 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
flag 31041 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 81067 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
flag 37650 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 62962 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67282 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 76066 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99157 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 66112 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
flag 26599 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 40362 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
flag 49984 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 65137 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
flag 28399 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 79700 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
flag 41997 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 58752 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
flag 88153 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 41562 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
flag 65976 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 1252 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
flag 74246 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 89045 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
flag 89452 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 457 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
flag 89872 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 96352 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:168 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169}]
------------------------------------------------------
client write log 3827190161523971690 (index 170) to leader 0
flag 34469 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 23092 term 30 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169} {3827190161523971690 30 170}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 27 159} {6102460393007175274 27 160} {6102460393007175274 29 161} {8032823887513822093 29 162} {2093026885173991673 29 163} {2346275370790972372 29 164} {6146629279170707849 29 165} {8902177705297397010 29 166} {431173270310918919 29 167} {4772905453727621082 29 168} {3827190161523971690 29 169} {3827190161523971690 30 170}]
------------------------------------------------------
term 30 Server0 start snapshot! index=169
term 30 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
flag 73493 term 30 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 89854 term 30 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {3827190161523971690 30 170}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {3827190161523971690 30 170}]
------------------------------------------------------
term 30 Server2 start snapshot! index=169
term 30 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
term 30 Server1 start snapshot! index=169
term 30 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
flag 99880 term 30 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 42756 term 30 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {3827190161523971690 30 170}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {3827190161523971690 30 170}]
------------------------------------------------------
term 30 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55209 term 30 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 58442 term 30 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {3827190161523971690 30 170}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {3827190161523971690 30 170}]
------------------------------------------------------
flag 25322 term 30 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 44252 term 30 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {3827190161523971690 30 170}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {3827190161523971690 30 170}]
------------------------------------------------------
flag 16943 term 30 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 78228 term 30 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {3827190161523971690 30 170}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {3827190161523971690 30 170}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
flag 79084 term 30 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 1760 term 30 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 33491 term 30 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 13787 term 30 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 64874 term 30 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 12369 term 30 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 31 server 1 vote for server 2
term 31 server 2 get vote from server 1
term 31 server 2 become leader
------------------------------------------------------
flag 36277 term 30 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 56789 term 30 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 82010 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 2750 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {3827190161523971690 30 170}]
------------------------------------------------------
client write log 2997141175787927227 (index 171) to leader 2
flag 55451 term 30 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 62235 term 30 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 37593 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 7333 term 31 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 29 169} {3827190161523971690 30 170} {2997141175787927227 31 171}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17301 term 30 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 53756 term 30 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
flag 58795 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 47627 term 31 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 29 169} {3827190161523971690 30 170} {2997141175787927227 31 171}]
------------------------------------------------------
client write log 3563044729902494441 (index 172) to leader 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 171->170
------------------------------------------------------
flag 33410 term 30 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 leader 0 nextIndex[2]: 0  matchIndex[2]: 170
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
flag 83051 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 84956 term 31 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 31 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 31 leaderCommit: 171 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 29 169} {3827190161523971690 30 170} {2997141175787927227 31 171} {3563044729902494441 31 172}]
------------------------------------------------------
flag 74455 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 172 
------------------------------------------------------
flag 18568 term 31 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 56445 term 30 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 leader 0 nextIndex[2]: 0  matchIndex[2]: 170
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 29 169} {3827190161523971690 30 170} {2997141175787927227 31 171} {3563044729902494441 31 172}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2933698176620459081 (index 173) to leader 2
flag 90901 term 31 leader 2 nextIndex[0]: 171  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 172 
flag 95762 term 30 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 leader 0 nextIndex[2]: 0  matchIndex[2]: 170
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
------------------------------------------------------
flag 90700 term 31 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 30 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 server 1 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 29 169} {3827190161523971690 30 170} {2997141175787927227 31 171} {3563044729902494441 31 172} {2933698176620459081 31 173}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 29 169} {3827190161523971690 30 170} {2997141175787927227 31 171} {3563044729902494441 31 172} {2933698176620459081 31 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95324 term 31 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
flag 78020 term 31 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 29 169} {3827190161523971690 30 170} {2997141175787927227 31 171} {3563044729902494441 31 172} {2933698176620459081 31 173}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 29 169} {3827190161523971690 30 170} {2997141175787927227 31 171} {3563044729902494441 31 172} {2933698176620459081 31 173}]
------------------------------------------------------
flag 2222 term 31 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
flag 3665 term 31 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 29 169} {3827190161523971690 30 170} {2997141175787927227 31 171} {3563044729902494441 31 172} {2933698176620459081 31 173}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 29 169} {3827190161523971690 30 170} {2997141175787927227 31 171} {3563044729902494441 31 172} {2933698176620459081 31 173}]
------------------------------------------------------
flag 54960 term 31 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
flag 40111 term 31 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 29 169} {3827190161523971690 30 170} {2997141175787927227 31 171} {3563044729902494441 31 172} {2933698176620459081 31 173}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 29 169} {3827190161523971690 30 170} {2997141175787927227 31 171} {3563044729902494441 31 172} {2933698176620459081 31 173}]
------------------------------------------------------
flag 83244 term 31 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
flag 12522 term 31 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 29 169} {3827190161523971690 30 170} {2997141175787927227 31 171} {3563044729902494441 31 172} {2933698176620459081 31 173}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 29 169} {3827190161523971690 30 170} {2997141175787927227 31 171} {3563044729902494441 31 172} {2933698176620459081 31 173}]
------------------------------------------------------
term 31 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 174->173
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 0  matchIndex[0]: 173
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
flag 89560 term 31 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
term 31 server 0 InstallSnapshot fail
rf.commitIndex 173 args.LastIncludedIndex 169
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 29 169} {3827190161523971690 30 170} {2997141175787927227 31 171} {3563044729902494441 31 172} {2933698176620459081 31 173}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 978716768682935383 (index 174) to leader 2
flag 88978 term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 173 
------------------------------------------------------
flag 82688 term 31 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {3827190161523971690 30 170} {2997141175787927227 31 171} {3563044729902494441 31 172} {2933698176620459081 31 173} {978716768682935383 31 174}]
------------------------------------------------------
flag 1046 term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 14539 term 31 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 31 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {3827190161523971690 30 170} {2997141175787927227 31 171} {3563044729902494441 31 172} {2933698176620459081 31 173} {978716768682935383 31 174}]
------------------------------------------------------
client write log 1246222342899749047 (index 175) to leader 2
client write log 9064312036717251615 (index 176) to leader 2
client write log 2981608517762463778 (index 177) to leader 2
client write log 7812964032466372681 (index 178) to leader 2
client write log 4923717446255560483 (index 179) to leader 2
client write log 612510570985149757 (index 180) to leader 2
client write log 7914663503693093029 (index 181) to leader 2
client write log 7084902063525290527 (index 182) to leader 2
flag 64302 term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 32294 term 31 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 31 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 29 169} {3827190161523971690 30 170} {2997141175787927227 31 171} {3563044729902494441 31 172} {2933698176620459081 31 173} {978716768682935383 31 174} {1246222342899749047 31 175} {9064312036717251615 31 176} {2981608517762463778 31 177} {7812964032466372681 31 178} {4923717446255560483 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182}]
------------------------------------------------------
term 31 Server2 start snapshot! index=179
term 31 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=182
-------------------------------------------------------------
term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 19819 term 31 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 31 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182}]
------------------------------------------------------
term 31 Server1 start snapshot! index=179
term 31 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=182
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2038811824036205110 (index 183) to leader 2
term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 2631 term 31 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 31 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 32 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 1 vote for server 2
term 33 server 2 get vote from server 1
term 33 server 2 become leader
------------------------------------------------------
term 33 server 0 vote for server 2
term 33 server 2 get outdate rpc reply from server 0
flag 41357 term 33 leader 2 nextIndex[0]: 184  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
flag 52058 term 33 leader 2 nextIndex[1]: 184  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 184->183
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 2 nextIndex[0]: 174  matchIndex[0]: 0
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 96173 term 33 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
term 33 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 31 rf.commitIndex 179 rf.lastApplied 179
term 33 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
flag 26470 term 33 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 33 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
flag 40071 term 33 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18137 term 33 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
flag 32589 term 33 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
term 33 server 0 not vote for server 2, 任期不够新
term 33 server 2 get outdate rpc reply from server 0
flag 30129 term 33 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
flag 69659 term 33 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
flag 3795 term 33 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
flag 31408 term 33 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30794 term 33 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
flag 74137 term 33 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
flag 10711 term 33 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
flag 36970 term 33 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
flag 53677 term 33 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
flag 63194 term 33 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
flag 24068 term 33 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
flag 76031 term 33 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
flag 84195 term 33 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
flag 68598 term 33 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
flag 58320 term 33 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
flag 32782 term 33 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77517 term 33 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
flag 67248 term 33 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
update nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58358 term 33 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
flag 65585 term 33 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
term 33 server 2 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 2
flag 91699 term 33 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
flag 2564 term 33 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
flag 47025 term 33 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
flag 21327 term 33 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
flag 66666 term 33 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
flag 12651 term 33 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56101 term 33 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
flag 52542 term 33 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=182
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2038811824036205110 (index 184) to leader 2
flag 52921 term 33 leader 2 nextIndex[0]: 184  matchIndex[0]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
flag 74965 term 33 leader 2 nextIndex[1]: 184  matchIndex[1]: 183
term 33 leader 2 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 31 leaderCommit: 182 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183} {2038811824036205110 33 184}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183} {2038811824036205110 33 184}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66626 term 33 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 33 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 33 leaderCommit: 184 
------------------------------------------------------
flag 38508 term 33 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 33 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 33 leaderCommit: 184 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183} {2038811824036205110 33 184}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183} {2038811824036205110 33 184}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40636 term 33 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 33 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 33 leaderCommit: 184 
------------------------------------------------------
flag 66450 term 33 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 33 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 33 leaderCommit: 184 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183} {2038811824036205110 33 184}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183} {2038811824036205110 33 184}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34885 term 33 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 33 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 33 leaderCommit: 184 
------------------------------------------------------
flag 45852 term 33 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 33 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 33 leaderCommit: 184 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183} {2038811824036205110 33 184}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183} {2038811824036205110 33 184}]
------------------------------------------------------
flag 34805 term 33 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 33 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 33 leaderCommit: 184 
------------------------------------------------------
flag 21045 term 33 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 33 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 33 leaderCommit: 184 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183} {2038811824036205110 33 184}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183} {2038811824036205110 33 184}]
------------------------------------------------------
flag 75041 term 33 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 33 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 33 leaderCommit: 184 
------------------------------------------------------
flag 18106 term 33 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 33 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 33 leaderCommit: 184 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183} {2038811824036205110 33 184}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183} {2038811824036205110 33 184}]
------------------------------------------------------
flag 75742 term 33 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 33 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 33 leaderCommit: 184 
------------------------------------------------------
flag 99394 term 33 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 33 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 33 leaderCommit: 184 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183} {2038811824036205110 33 184}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183} {2038811824036205110 33 184}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8506015364453117732 (index 185) to leader 2
flag 70227 term 33 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 33 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 33 leaderCommit: 184 
------------------------------------------------------
flag 6078 term 33 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 33 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 33 leaderCommit: 184 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183} {2038811824036205110 33 184} {8506015364453117732 33 185}]
------------------------------------------------------
flag 97245 term 33 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 33 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 33 leaderCommit: 185 
------------------------------------------------------
flag 5043 term 33 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 33 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 33 leaderCommit: 185 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183} {2038811824036205110 33 184} {8506015364453117732 33 185}]
------------------------------------------------------
client write log 5119822589107406313 (index 186) to leader 2
client write log 8245512381163347818 (index 187) to leader 2
client write log 4934288430867949073 (index 188) to leader 2
client write log 6035114941835132050 (index 189) to leader 2
client write log 7880069543429805605 (index 190) to leader 2
client write log 5838472920895265622 (index 191) to leader 2
client write log 3330160460687002133 (index 192) to leader 2
flag 79050 term 33 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 33 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 33 leaderCommit: 185 
------------------------------------------------------
flag 26104 term 33 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 33 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 33 leaderCommit: 185 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 179} {612510570985149757 31 180} {7914663503693093029 31 181} {7084902063525290527 31 182} {2038811824036205110 31 183} {2038811824036205110 33 184} {8506015364453117732 33 185} {5119822589107406313 33 186} {8245512381163347818 33 187} {4934288430867949073 33 188} {6035114941835132050 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192}]
------------------------------------------------------
term 33 Server2 start snapshot! index=189
term 33 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=192
-------------------------------------------------------------
term 33 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
flag 51189 term 33 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192}]
------------------------------------------------------
term 33 Server1 start snapshot! index=189
term 33 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=192
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2746627142667894353 (index 193) to leader 2
term 33 server 2 not vote for server 0, 日志不够新
term 33 server 1 not vote for server 0, 日志不够新
term 35 server 1 vote for server 2
term 35 server 0 vote for server 2
term 35 server 2 get vote from server 1
term 35 server 2 become leader
------------------------------------------------------
term 35 server 2 get outdate rpc reply from server 0
flag 97835 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 58428 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 35 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 194->193
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 194->193
------------------------------------------------------
term 35 leader 2 nextIndex[0]: 185  matchIndex[0]: 0
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
flag 69506 term 35 leader 2 nextIndex[1]: 193  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 0 InstallSnapshot success
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 33 rf.commitIndex 189 rf.lastApplied 189
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
term 35 server 0 not vote for server 2, 任期不够新
term 35 server 2 get outdate rpc reply from server 0
flag 35378 term 35 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 23368 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
term 35 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
flag 18844 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 36399 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
flag 98068 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 16363 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
flag 30352 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 80882 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
flag 64166 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 15541 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
flag 24227 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 95537 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92224 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 29267 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
flag 53079 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 69439 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94009 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 27728 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86069 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 77035 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38051 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 68540 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
flag 60539 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 24480 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
flag 6290 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 72479 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
flag 64858 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 41790 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
flag 43004 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 49179 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
flag 66480 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 72457 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
flag 7981 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 24848 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4012 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 601 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193}]
------------------------------------------------------
client write log 2746627142667894353 (index 194) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40555 term 35 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 14591 term 35 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 35 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194}]
------------------------------------------------------
flag 23738 term 35 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 14166 term 35 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 1 not vote for server 0, 任期不够新
term 35 server 0 get outdate rpc reply from server 1
flag 24609 term 35 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 66777 term 35 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194}]
------------------------------------------------------
flag 90670 term 35 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 99851 term 35 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194}]
------------------------------------------------------
flag 82908 term 35 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 26689 term 35 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194}]
------------------------------------------------------
flag 37310 term 35 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 85122 term 35 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194}]
------------------------------------------------------
flag 40435 term 35 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 8090 term 35 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 6057 term 35 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 48893 term 35 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 86842 term 35 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 1519 term 35 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 84723 term 35 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 15468 term 35 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
term 36 server 0 vote for server 1
term 36 server 1 get vote from server 0
term 36 server 1 become leader
------------------------------------------------------
client write log 8787011330704434151 (index 195) to leader 1
flag 96594 term 36 leader 1 nextIndex[0]: 195  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 40026 term 36 leader 1 nextIndex[2]: 195  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194} {8787011330704434151 36 195}]
------------------------------------------------------
flag 43022 term 35 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 6827 term 35 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 83128 term 36 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 36 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 36 leaderCommit: 195 
------------------------------------------------------
flag 41001 term 36 leader 1 nextIndex[2]: 195  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194} {8787011330704434151 36 195}]
------------------------------------------------------
flag 69984 term 35 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 35364 term 35 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
client write log 7137275970931815013 (index 196) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 195->194
------------------------------------------------------
flag 1836 term 36 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 36 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 36 leaderCommit: 195 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194} {8787011330704434151 36 195} {7137275970931815013 36 196}]
------------------------------------------------------
flag 41951 term 35 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
flag 87828 term 35 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 195->194
------------------------------------------------------
flag 63925 term 36 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 36 leaderCommit: 196 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194} {8787011330704434151 36 195} {7137275970931815013 36 196}]
------------------------------------------------------
!!!!!!connect server 2
client write log 7358625868763886643 (index 197) to leader 1
flag 19443 term 35 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 194 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 0  matchIndex[1]: 194
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 36 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 0 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23064 term 36 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 36 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 36 leaderCommit: 196 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 36 server 2 InstallSnapshot fail
rf.commitIndex 194 args.LastIncludedIndex 189
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194} {8787011330704434151 36 195} {7137275970931815013 36 196} {7358625868763886643 36 197}]
------------------------------------------------------
term 36 server 1 not vote for server 2, 日志不够新
term 36 server 0 not vote for server 2, 日志不够新
term 38 server 2 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
term 38 server 0 vote for server 1
term 38 server 1 get outdate rpc reply from server 0
flag 33779 term 38 leader 1 nextIndex[0]: 198  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
flag 8380 term 38 leader 1 nextIndex[2]: 198  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194} {8787011330704434151 36 195} {7137275970931815013 36 196} {7358625868763886643 36 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 198->197
------------------------------------------------------
flag 80799 term 38 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 38 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
flag 27960 term 38 leader 1 nextIndex[2]: 195  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194} {8787011330704434151 36 195} {7137275970931815013 36 196} {7358625868763886643 36 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194} {8787011330704434151 36 195} {7137275970931815013 36 196} {7358625868763886643 36 197}]
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80967 term 38 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 38 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
flag 16299 term 38 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 38 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194} {8787011330704434151 36 195} {7137275970931815013 36 196} {7358625868763886643 36 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194} {8787011330704434151 36 195} {7137275970931815013 36 196} {7358625868763886643 36 197}]
------------------------------------------------------
flag 68916 term 38 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 38 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
flag 32326 term 38 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 38 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194} {8787011330704434151 36 195} {7137275970931815013 36 196} {7358625868763886643 36 197}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194} {8787011330704434151 36 195} {7137275970931815013 36 196} {7358625868763886643 36 197}]
------------------------------------------------------
flag 48804 term 38 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 38 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
flag 77641 term 38 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 38 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194} {8787011330704434151 36 195} {7137275970931815013 36 196} {7358625868763886643 36 197}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194} {8787011330704434151 36 195} {7137275970931815013 36 196} {7358625868763886643 36 197}]
------------------------------------------------------
flag 76162 term 38 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 38 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
flag 92878 term 38 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 38 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194} {8787011330704434151 36 195} {7137275970931815013 36 196} {7358625868763886643 36 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194} {8787011330704434151 36 195} {7137275970931815013 36 196} {7358625868763886643 36 197}]
------------------------------------------------------
flag 55022 term 38 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 38 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
flag 16791 term 38 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 38 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194} {8787011330704434151 36 195} {7137275970931815013 36 196} {7358625868763886643 36 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194} {8787011330704434151 36 195} {7137275970931815013 36 196} {7358625868763886643 36 197}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5895821167085228546 (index 198) to leader 1
flag 86693 term 38 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 38 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
flag 19946 term 38 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 38 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 197 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194} {8787011330704434151 36 195} {7137275970931815013 36 196} {7358625868763886643 36 197} {5895821167085228546 38 198}]
------------------------------------------------------
flag 14227 term 38 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 38 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 38 leaderCommit: 198 
------------------------------------------------------
flag 15120 term 38 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 38 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 198 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194} {8787011330704434151 36 195} {7137275970931815013 36 196} {7358625868763886643 36 197} {5895821167085228546 38 198}]
------------------------------------------------------
client write log 2745269965344406247 (index 199) to leader 1
client write log 7110244104204049380 (index 200) to leader 1
client write log 7810657679434182773 (index 201) to leader 1
client write log 7155827216949707006 (index 202) to leader 1
client write log 5712228411894844862 (index 203) to leader 1
client write log 398265755669087485 (index 204) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98217 term 38 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 38 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 38 leaderCommit: 198 
------------------------------------------------------
flag 83828 term 38 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 38 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 36 leaderCommit: 198 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 189} {7880069543429805605 33 190} {5838472920895265622 33 191} {3330160460687002133 33 192} {2746627142667894353 33 193} {2746627142667894353 35 194} {8787011330704434151 36 195} {7137275970931815013 36 196} {7358625868763886643 36 197} {5895821167085228546 38 198} {2745269965344406247 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204}]
------------------------------------------------------
term 38 Server1 start snapshot! index=199
term 38 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=204
-------------------------------------------------------------
flag 43467 term 38 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 38 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204}]
------------------------------------------------------
term 38 Server0 start snapshot! index=199
term 38 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=204
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7377058369095851536 (index 205) to leader 1
term 38 server 1 not vote for server 2, 日志不够新
term 38 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 server 2 vote for server 1
term 40 server 0 vote for server 1
term 40 server 1 get vote from server 2
term 40 server 1 become leader
------------------------------------------------------
term 40 server 1 get outdate rpc reply from server 0
flag 53299 term 40 leader 1 nextIndex[0]: 206  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 49473 term 40 leader 1 nextIndex[2]: 206  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 40 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 206->205
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 206->205
------------------------------------------------------
flag 31394 term 40 leader 1 nextIndex[0]: 205  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 198  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 38
------------------------------------------------------
term 40 server 2 InstallSnapshot success
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 38 rf.commitIndex 199 rf.lastApplied 199
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
term 40 server 2 not vote for server 1, 任期不够新
term 40 server 1 get outdate rpc reply from server 2
flag 2164 term 40 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 10851 term 40 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 40 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
flag 87353 term 40 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 49893 term 40 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95573 term 40 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 63983 term 40 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
flag 9129 term 40 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 96538 term 40 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86524 term 40 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 51382 term 40 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
flag 40971 term 40 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 6617 term 40 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20989 term 40 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 11668 term 40 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96770 term 40 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 9453 term 40 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
flag 4376 term 40 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 79589 term 40 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61445 term 40 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 11217 term 40 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44852 term 40 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 83040 term 40 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
flag 4074 term 40 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 76425 term 40 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
flag 95170 term 40 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 83072 term 40 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
flag 99653 term 40 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 77370 term 40 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40173 term 40 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 3681 term 40 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
flag 77853 term 40 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 31873 term 40 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
flag 4996 term 40 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 7482 term 40 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7377058369095851536 (index 206) to leader 1
flag 63973 term 40 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
flag 65525 term 40 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 38 leaderCommit: 204 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205} {7377058369095851536 40 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205} {7377058369095851536 40 206}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8972 term 40 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 40 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 40 leaderCommit: 206 
------------------------------------------------------
flag 40288 term 40 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 40 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 40 leaderCommit: 206 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205} {7377058369095851536 40 206}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205} {7377058369095851536 40 206}]
------------------------------------------------------
flag 87616 term 40 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 40 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 40 leaderCommit: 206 
------------------------------------------------------
flag 52827 term 40 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 40 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 40 leaderCommit: 206 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205} {7377058369095851536 40 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205} {7377058369095851536 40 206}]
------------------------------------------------------
flag 73944 term 40 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 40 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 40 leaderCommit: 206 
------------------------------------------------------
flag 75610 term 40 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 40 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 40 leaderCommit: 206 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205} {7377058369095851536 40 206}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205} {7377058369095851536 40 206}]
------------------------------------------------------
flag 93705 term 40 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 40 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 40 leaderCommit: 206 
------------------------------------------------------
flag 25553 term 40 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 40 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 40 leaderCommit: 206 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205} {7377058369095851536 40 206}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205} {7377058369095851536 40 206}]
------------------------------------------------------
flag 51281 term 40 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 40 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 40 leaderCommit: 206 
------------------------------------------------------
flag 29006 term 40 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 40 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 40 leaderCommit: 206 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205} {7377058369095851536 40 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205} {7377058369095851536 40 206}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1671491085035666114 (index 207) to leader 1
flag 49970 term 40 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 40 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 40 leaderCommit: 206 
------------------------------------------------------
flag 64171 term 40 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 40 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 40 leaderCommit: 206 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205} {7377058369095851536 40 206} {1671491085035666114 40 207}]
------------------------------------------------------
flag 29020 term 40 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 40 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 40 leaderCommit: 207 
------------------------------------------------------
flag 93188 term 40 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 40 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 40 leaderCommit: 207 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205} {7377058369095851536 40 206} {1671491085035666114 40 207}]
------------------------------------------------------
client write log 2984247697603613436 (index 208) to leader 1
client write log 4244660199527049195 (index 209) to leader 1
client write log 7576817452517457913 (index 210) to leader 1
client write log 2506360252290395536 (index 211) to leader 1
client write log 1800611522221253521 (index 212) to leader 1
client write log 6200759668779116669 (index 213) to leader 1
client write log 4180752945002784843 (index 214) to leader 1
client write log 5299720236777179315 (index 215) to leader 1
client write log 5081877621392826343 (index 216) to leader 1
client write log 257181662707462981 (index 217) to leader 1
client write log 5864831194673089410 (index 218) to leader 1
client write log 4968953437265785410 (index 219) to leader 1
client write log 494095265553150844 (index 220) to leader 1
client write log 2062745351918988741 (index 221) to leader 1
flag 69811 term 40 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 40 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 40 leaderCommit: 207 
------------------------------------------------------
flag 72962 term 40 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 40 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 40 leaderCommit: 207 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 38 199} {7110244104204049380 38 200} {7810657679434182773 38 201} {7155827216949707006 38 202} {5712228411894844862 38 203} {398265755669087485 38 204} {7377058369095851536 38 205} {7377058369095851536 40 206} {1671491085035666114 40 207} {2984247697603613436 40 208} {4244660199527049195 40 209} {7576817452517457913 40 210} {2506360252290395536 40 211} {1800611522221253521 40 212} {6200759668779116669 40 213} {4180752945002784843 40 214} {5299720236777179315 40 215} {5081877621392826343 40 216} {257181662707462981 40 217} {5864831194673089410 40 218} {4968953437265785410 40 219} {494095265553150844 40 220} {2062745351918988741 40 221}]
------------------------------------------------------
term 40 Server1 start snapshot! index=209
term 40 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=221
-------------------------------------------------------------
term 40 Server1 start snapshot! index=219
term 40 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=221
-------------------------------------------------------------
flag 55593 term 40 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 40 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221}]
------------------------------------------------------
term 40 Server0 start snapshot! index=209
term 40 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=221
-------------------------------------------------------------
term 40 Server0 start snapshot! index=219
term 40 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=221
-------------------------------------------------------------
!!!!!!connect server 2
client write log 87222363112441455 (index 222) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41851 term 40 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 40 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
term 41 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 2 vote for server 1
term 42 server 1 get vote from server 2
term 42 server 1 become leader
------------------------------------------------------
term 42 server 0 vote for server 1
term 42 server 1 get outdate rpc reply from server 0
flag 96511 term 42 leader 1 nextIndex[0]: 223  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 64036 term 42 leader 1 nextIndex[2]: 223  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 42 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 223->222
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71785 term 42 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 207  matchIndex[2]: 0
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
term 42 server 2 InstallSnapshot success
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
term 42 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
rf.lastIncludedIndex 219 rf.lastIncludedTerm 40 rf.commitIndex 219 rf.lastApplied 219
flag 45008 term 42 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 64147 term 42 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 42 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
flag 87619 term 42 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 30077 term 42 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
flag 62152 term 42 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 91514 term 42 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46979 term 42 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 84634 term 42 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15788 term 42 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 51342 term 42 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
flag 76667 term 42 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 63631 term 42 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
flag 8648 term 42 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 8004 term 42 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
flag 64135 term 42 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 2876 term 42 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
flag 19182 term 42 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 35616 term 42 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
flag 81198 term 42 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 45406 term 42 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
flag 4882 term 42 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 15890 term 42 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
flag 15451 term 42 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 57588 term 42 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27643 term 42 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 21355 term 42 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
flag 2528 term 42 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 31511 term 42 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
flag 37713 term 42 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 78528 term 42 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
term 42 server 0 not vote for server 2, 任期不够新
term 42 server 2 get outdate rpc reply from server 0
flag 59250 term 42 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 63309 term 42 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222}]
------------------------------------------------------
client write log 87222363112441455 (index 223) to leader 1
flag 27624 term 42 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
flag 41638 term 42 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 42 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 40 leaderCommit: 221 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223}]
------------------------------------------------------
flag 7011 term 42 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 42 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
flag 26197 term 42 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 42 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223}]
------------------------------------------------------
flag 17435 term 42 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 42 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
flag 85816 term 42 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 42 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223}]
------------------------------------------------------
flag 63752 term 42 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 42 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
flag 65367 term 42 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 42 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13414 term 42 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 42 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
flag 73762 term 42 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 42 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223}]
------------------------------------------------------
flag 46865 term 42 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 42 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
flag 75449 term 42 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 42 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 75374 term 42 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 42 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
flag 24926 term 42 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 42 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
flag 30735 term 42 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 42 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
flag 99497 term 42 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 42 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 224->223
------------------------------------------------------
flag 87158 term 42 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 42 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 223
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
term 43 server 2 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
client write log 1726733155272893763 (index 224) to leader 0
flag 79235 term 43 leader 0 nextIndex[1]: 224  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
flag 89696 term 43 leader 0 nextIndex[2]: 224  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224}]
------------------------------------------------------
flag 27699 term 42 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 42 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 223
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
flag 31657 term 43 leader 0 nextIndex[1]: 224  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 224 
------------------------------------------------------
flag 25664 term 43 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 43 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 43 leaderCommit: 224 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224}]
------------------------------------------------------
flag 22577 term 42 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 42 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 223
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
client write log 4889995846919038543 (index 225) to leader 0
flag 65336 term 43 leader 0 nextIndex[1]: 224  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 224 
------------------------------------------------------
flag 9336 term 43 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 43 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 43 leaderCommit: 224 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
flag 1190 term 42 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 42 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 223
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
flag 79154 term 43 leader 0 nextIndex[1]: 224  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 225 
------------------------------------------------------
flag 51870 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
flag 69704 term 42 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 42 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 223 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 223
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
!!!!!!connect server 1
client write log 6759679826217445204 (index 224) to leader 1
flag 5972 term 43 leader 0 nextIndex[1]: 224  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 42 leaderCommit: 225 
------------------------------------------------------
flag 48255 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
flag 30422 term 43 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
flag 42197 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76582 term 43 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
flag 94013 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
flag 33825 term 43 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
flag 47893 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 226->225
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 225
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
flag 29607 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
term 43 server 1 InstallSnapshot fail
rf.commitIndex 225 args.LastIncludedIndex 219
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74155 term 43 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 43 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 40 leaderCommit: 225 
------------------------------------------------------
flag 89186 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15301 term 43 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
flag 67812 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
flag 69991 term 43 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
flag 87640 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44372 term 43 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
flag 74594 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15645 term 43 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
flag 49707 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
flag 91528 term 43 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
flag 32526 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
flag 87371 term 43 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
flag 52346 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
flag 68453 term 43 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
flag 60349 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
flag 20132 term 43 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
flag 49432 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
flag 80687 term 43 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
flag 94062 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
flag 91026 term 43 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
flag 46584 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
flag 62924 term 43 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
flag 66143 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
flag 78067 term 43 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
flag 23032 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
flag 62376 term 43 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
flag 58024 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
flag 64607 term 43 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
flag 24140 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
term 43 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225}]
------------------------------------------------------
client write log 6759679826217445204 (index 226) to leader 0
flag 46270 term 43 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
flag 66095 term 43 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225} {6759679826217445204 43 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225} {6759679826217445204 43 226}]
------------------------------------------------------
flag 20929 term 43 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 43 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 75588 term 43 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 43 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225} {6759679826217445204 43 226}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225} {6759679826217445204 43 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49753 term 43 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 43 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 29726 term 43 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 43 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
term 43 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225} {6759679826217445204 43 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225} {6759679826217445204 43 226}]
------------------------------------------------------
flag 54763 term 43 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 43 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 95597 term 43 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 43 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225} {6759679826217445204 43 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225} {6759679826217445204 43 226}]
------------------------------------------------------
flag 93634 term 43 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 43 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 17082 term 43 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 43 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225} {6759679826217445204 43 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225} {6759679826217445204 43 226}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24294 term 43 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 43 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 3235 term 43 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 43 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225} {6759679826217445204 43 226}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225} {6759679826217445204 43 226}]
------------------------------------------------------
flag 32167 term 43 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 43 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 89304 term 43 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 43 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
term 43 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225} {6759679826217445204 43 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225} {6759679826217445204 43 226}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1649542975925739592 (index 227) to leader 0
flag 64347 term 43 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 43 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 62 term 43 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 43 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225} {6759679826217445204 43 226} {1649542975925739592 43 227}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9361 term 43 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 43 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 227 
------------------------------------------------------
flag 64240 term 43 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 43 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 43 leaderCommit: 227 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225} {6759679826217445204 43 226} {1649542975925739592 43 227}]
------------------------------------------------------
client write log 3627385332299520471 (index 228) to leader 0
client write log 695134588773992526 (index 229) to leader 0
client write log 8428827737817364650 (index 230) to leader 0
client write log 792094366514349609 (index 231) to leader 0
client write log 5475442460153769158 (index 232) to leader 0
client write log 6698354979122071816 (index 233) to leader 0
flag 1858 term 43 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 43 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 227 
------------------------------------------------------
flag 74293 term 43 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 43 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 43 leaderCommit: 227 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 40 219} {494095265553150844 40 220} {2062745351918988741 40 221} {87222363112441455 40 222} {87222363112441455 42 223} {1726733155272893763 43 224} {4889995846919038543 43 225} {6759679826217445204 43 226} {1649542975925739592 43 227} {3627385332299520471 43 228} {695134588773992526 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233}]
------------------------------------------------------
term 43 Server0 start snapshot! index=229
term 43 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=233
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 227->226
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 226
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 43
------------------------------------------------------
flag 37090 term 43 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 43 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233}]
------------------------------------------------------
term 43 Server2 start snapshot! index=229
term 43 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=233
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8528289578153960946 (index 234) to leader 0
term 43 server 2 not vote for server 1, 日志不够新
term 43 server 0 not vote for server 1, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 1 vote for server 0
term 45 server 2 vote for server 0
term 45 server 0 get vote from server 1
term 45 server 0 become leader
------------------------------------------------------
term 45 server 0 get outdate rpc reply from server 2
flag 26428 term 45 leader 0 nextIndex[1]: 235  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 48758 term 45 leader 0 nextIndex[2]: 235  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 235->234
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 235->234
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 227  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 43
------------------------------------------------------
flag 1288 term 45 leader 0 nextIndex[2]: 234  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 45 server 1 InstallSnapshot success
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 43 rf.commitIndex 229 rf.lastApplied 229
term 45 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
flag 86454 term 45 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 45 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 68484 term 45 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
term 45 server 1 not vote for server 0, 任期不够新
term 45 server 0 get outdate rpc reply from server 1
flag 3293 term 45 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 52495 term 45 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 server 1 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 1
flag 65302 term 45 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 78474 term 45 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
flag 9335 term 45 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 54246 term 45 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
flag 3673 term 45 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 39242 term 45 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
flag 31752 term 45 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 50360 term 45 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
flag 56575 term 45 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 93345 term 45 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
flag 50616 term 45 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 27482 term 45 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
flag 52521 term 45 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 16828 term 45 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12698 term 45 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 55559 term 45 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
flag 27940 term 45 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 50310 term 45 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
term 45 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
flag 92484 term 45 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 36643 term 45 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
flag 20843 term 45 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 66074 term 45 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
flag 59102 term 45 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 28675 term 45 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
flag 70666 term 45 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 47246 term 45 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8485 term 45 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 8947 term 45 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11140 term 45 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 26821 term 45 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234}]
------------------------------------------------------
client write log 8528289578153960946 (index 235) to leader 0
flag 87647 term 45 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
flag 28998 term 45 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 45 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234} {8528289578153960946 45 235}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234} {8528289578153960946 45 235}]
------------------------------------------------------
flag 8471 term 45 leader 0 nextIndex[1]: 236  matchIndex[1]: 235
term 45 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 45 leaderCommit: 235 
------------------------------------------------------
flag 31286 term 45 leader 0 nextIndex[2]: 236  matchIndex[2]: 235
term 45 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 45 leaderCommit: 235 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234} {8528289578153960946 45 235}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234} {8528289578153960946 45 235}]
------------------------------------------------------
flag 62333 term 45 leader 0 nextIndex[1]: 236  matchIndex[1]: 235
term 45 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 45 leaderCommit: 235 
------------------------------------------------------
flag 66719 term 45 leader 0 nextIndex[2]: 236  matchIndex[2]: 235
term 45 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 45 leaderCommit: 235 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234} {8528289578153960946 45 235}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234} {8528289578153960946 45 235}]
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18278 term 45 leader 0 nextIndex[1]: 236  matchIndex[1]: 235
term 45 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 45 leaderCommit: 235 
------------------------------------------------------
flag 49674 term 45 leader 0 nextIndex[2]: 236  matchIndex[2]: 235
term 45 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 45 leaderCommit: 235 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234} {8528289578153960946 45 235}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234} {8528289578153960946 45 235}]
------------------------------------------------------
flag 25478 term 45 leader 0 nextIndex[1]: 236  matchIndex[1]: 235
term 45 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 45 leaderCommit: 235 
------------------------------------------------------
flag 98099 term 45 leader 0 nextIndex[2]: 236  matchIndex[2]: 235
term 45 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 45 leaderCommit: 235 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234} {8528289578153960946 45 235}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234} {8528289578153960946 45 235}]
------------------------------------------------------
flag 22132 term 45 leader 0 nextIndex[1]: 236  matchIndex[1]: 235
term 45 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 45 leaderCommit: 235 
------------------------------------------------------
flag 36800 term 45 leader 0 nextIndex[2]: 236  matchIndex[2]: 235
term 45 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 45 leaderCommit: 235 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234} {8528289578153960946 45 235}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234} {8528289578153960946 45 235}]
------------------------------------------------------
flag 63042 term 45 leader 0 nextIndex[1]: 236  matchIndex[1]: 235
term 45 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 45 leaderCommit: 235 
------------------------------------------------------
flag 88154 term 45 leader 0 nextIndex[2]: 236  matchIndex[2]: 235
term 45 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 45 leaderCommit: 235 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234} {8528289578153960946 45 235}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234} {8528289578153960946 45 235}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6730616217544213950 (index 236) to leader 0
flag 66255 term 45 leader 0 nextIndex[1]: 236  matchIndex[1]: 235
term 45 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 45 leaderCommit: 235 
------------------------------------------------------
flag 36525 term 45 leader 0 nextIndex[2]: 236  matchIndex[2]: 235
term 45 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 45 leaderCommit: 235 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234} {8528289578153960946 45 235} {6730616217544213950 45 236}]
------------------------------------------------------
flag 17648 term 45 leader 0 nextIndex[1]: 236  matchIndex[1]: 235
term 45 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 45 leaderCommit: 236 
------------------------------------------------------
flag 65198 term 45 leader 0 nextIndex[2]: 237  matchIndex[2]: 236
term 45 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 45 leaderCommit: 236 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234} {8528289578153960946 45 235} {6730616217544213950 45 236}]
------------------------------------------------------
client write log 4059649442627529511 (index 237) to leader 0
client write log 8202117526539506628 (index 238) to leader 0
client write log 5990714672194182754 (index 239) to leader 0
client write log 6730745144628909049 (index 240) to leader 0
client write log 5904431185435623217 (index 241) to leader 0
client write log 6527373569600519394 (index 242) to leader 0
client write log 1181554840181459432 (index 243) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77340 term 45 leader 0 nextIndex[1]: 236  matchIndex[1]: 235
term 45 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 45 leaderCommit: 236 
------------------------------------------------------
flag 29049 term 45 leader 0 nextIndex[2]: 237  matchIndex[2]: 236
term 45 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 45 leaderCommit: 236 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 43 229} {8428827737817364650 43 230} {792094366514349609 43 231} {5475442460153769158 43 232} {6698354979122071816 43 233} {8528289578153960946 43 234} {8528289578153960946 45 235} {6730616217544213950 45 236} {4059649442627529511 45 237} {8202117526539506628 45 238} {5990714672194182754 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243}]
------------------------------------------------------
term 45 Server0 start snapshot! index=239
term 45 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=243
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 236  matchIndex[1]: 235
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 45
------------------------------------------------------
flag 32400 term 45 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 45 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243}]
------------------------------------------------------
term 45 Server2 start snapshot! index=239
term 45 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=243
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2562134956028903943 (index 244) to leader 0
term 45 server 2 not vote for server 1, 日志不够新
term 45 server 0 not vote for server 1, 日志不够新
term 47 server 2 vote for server 0
term 47 server 0 get vote from server 2
term 47 server 0 become leader
------------------------------------------------------
term 47 server 1 vote for server 0
term 47 server 0 get outdate rpc reply from server 1
flag 75865 term 47 leader 0 nextIndex[1]: 245  matchIndex[1]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
flag 14939 term 47 leader 0 nextIndex[2]: 245  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
term 47 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 245->244
------------------------------------------------------
term 47 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 245->244
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 236  matchIndex[1]: 0
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 45
------------------------------------------------------
flag 44824 term 47 leader 0 nextIndex[2]: 244  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
term 47 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 45 rf.commitIndex 239 rf.lastApplied 239
term 47 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3291 term 47 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 47 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
flag 80906 term 47 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
flag 66112 term 47 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
flag 27465 term 47 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
flag 11469 term 47 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
flag 59169 term 47 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
flag 48922 term 47 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
flag 40407 term 47 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52907 term 47 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
flag 12242 term 47 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
flag 37143 term 47 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
flag 46333 term 47 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
flag 26916 term 47 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
flag 45699 term 47 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
flag 59595 term 47 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
flag 69975 term 47 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
flag 29312 term 47 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
flag 54702 term 47 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
flag 84375 term 47 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
flag 17484 term 47 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
flag 36895 term 47 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
flag 30150 term 47 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
flag 47138 term 47 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
flag 60776 term 47 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
flag 18296 term 47 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
flag 55747 term 47 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
flag 59954 term 47 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
flag 17704 term 47 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
flag 18463 term 47 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
flag 65643 term 47 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
flag 518 term 47 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
flag 7496 term 47 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
flag 89741 term 47 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
flag 86463 term 47 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244}]
------------------------------------------------------
client write log 2562134956028903943 (index 245) to leader 0
flag 46721 term 47 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
flag 12909 term 47 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 47 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 45 leaderCommit: 243 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245}]
------------------------------------------------------
flag 97945 term 47 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
flag 19957 term 47 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245}]
------------------------------------------------------
flag 25409 term 47 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
flag 43553 term 47 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245}]
------------------------------------------------------
flag 89054 term 47 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
flag 62880 term 47 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245}]
------------------------------------------------------
flag 2598 term 47 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
flag 56514 term 47 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245}]
------------------------------------------------------
flag 44385 term 47 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
flag 99454 term 47 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 33478 term 47 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
flag 54839 term 47 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
flag 66394 term 47 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
flag 44720 term 47 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
flag 65855 term 47 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
flag 43690 term 47 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
term 48 server 1 vote for server 2
term 48 server 2 get vote from server 1
term 48 server 2 become leader
------------------------------------------------------
flag 55272 term 48 leader 2 nextIndex[0]: 246  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
flag 59497 term 48 leader 2 nextIndex[1]: 246  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245}]
------------------------------------------------------
client write log 4583818016220263764 (index 246) to leader 2
flag 75707 term 47 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
flag 13339 term 47 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
flag 39188 term 48 leader 2 nextIndex[0]: 246  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
flag 72858 term 48 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 48 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245} {4583818016220263764 48 246}]
------------------------------------------------------
flag 50260 term 47 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
flag 99750 term 47 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
flag 42215 term 48 leader 2 nextIndex[0]: 246  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 246 
------------------------------------------------------
flag 35078 term 48 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 48 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 48 leaderCommit: 246 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245} {4583818016220263764 48 246}]
------------------------------------------------------
client write log 7168092042238818956 (index 247) to leader 2
flag 89668 term 47 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
flag 24563 term 47 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
flag 84187 term 48 leader 2 nextIndex[0]: 246  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 246 
------------------------------------------------------
flag 72627 term 48 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 48 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 48 leaderCommit: 246 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245} {4583818016220263764 48 246} {7168092042238818956 48 247}]
------------------------------------------------------
flag 67298 term 47 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
flag 59328 term 47 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 246->245
------------------------------------------------------
flag 51786 term 48 leader 2 nextIndex[0]: 246  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 247 
------------------------------------------------------
flag 44482 term 48 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 48 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 48 leaderCommit: 247 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245} {4583818016220263764 48 246} {7168092042238818956 48 247}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8995824532604922875 (index 248) to leader 2
flag 51801 term 47 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 47 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
term 47 leader 0 nextIndex[2]: 0  matchIndex[2]: 245
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 45
------------------------------------------------------
term 48 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 47 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 1 AppendEntries false 领导者任期过期 args.Term 47
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89222 term 48 leader 2 nextIndex[0]: 246  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 247 
------------------------------------------------------
flag 87900 term 48 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 48 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 48 leaderCommit: 247 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245} {4583818016220263764 48 246} {7168092042238818956 48 247} {8995824532604922875 48 248}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245} {4583818016220263764 48 246} {7168092042238818956 48 247} {8995824532604922875 48 248}]
------------------------------------------------------
flag 10201 term 48 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 48 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 48 leaderCommit: 248 
------------------------------------------------------
flag 26535 term 48 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 48 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 48 leaderCommit: 248 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245} {4583818016220263764 48 246} {7168092042238818956 48 247} {8995824532604922875 48 248}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245} {4583818016220263764 48 246} {7168092042238818956 48 247} {8995824532604922875 48 248}]
------------------------------------------------------
flag 68001 term 48 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 48 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 48 leaderCommit: 248 
------------------------------------------------------
flag 94492 term 48 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 48 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 48 leaderCommit: 248 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245} {4583818016220263764 48 246} {7168092042238818956 48 247} {8995824532604922875 48 248}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245} {4583818016220263764 48 246} {7168092042238818956 48 247} {8995824532604922875 48 248}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45668 term 48 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 48 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 48 leaderCommit: 248 
------------------------------------------------------
flag 5400 term 48 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 48 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 48 leaderCommit: 248 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245} {4583818016220263764 48 246} {7168092042238818956 48 247} {8995824532604922875 48 248}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245} {4583818016220263764 48 246} {7168092042238818956 48 247} {8995824532604922875 48 248}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31758 term 48 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 48 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 48 leaderCommit: 248 
------------------------------------------------------
flag 28436 term 48 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 48 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 48 leaderCommit: 248 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245} {4583818016220263764 48 246} {7168092042238818956 48 247} {8995824532604922875 48 248}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245} {4583818016220263764 48 246} {7168092042238818956 48 247} {8995824532604922875 48 248}]
------------------------------------------------------
flag 58349 term 48 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 48 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 48 leaderCommit: 248 
------------------------------------------------------
flag 73616 term 48 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 48 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 48 leaderCommit: 248 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245} {4583818016220263764 48 246} {7168092042238818956 48 247} {8995824532604922875 48 248}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245} {4583818016220263764 48 246} {7168092042238818956 48 247} {8995824532604922875 48 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 249->248
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 248
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 45
------------------------------------------------------
flag 75267 term 48 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 48 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 48 leaderCommit: 248 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245} {4583818016220263764 48 246} {7168092042238818956 48 247} {8995824532604922875 48 248}]
------------------------------------------------------
term 48 server 0 InstallSnapshot fail
rf.commitIndex 248 args.LastIncludedIndex 239
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
!!!!!!diconnect server 0
client write log 5693973857336959865 (index 249) to leader 2
flag 84880 term 48 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 48 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 45 leaderCommit: 248 
------------------------------------------------------
flag 18494 term 48 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 48 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 48 leaderCommit: 248 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 45 239} {6730745144628909049 45 240} {5904431185435623217 45 241} {6527373569600519394 45 242} {1181554840181459432 45 243} {2562134956028903943 45 244} {2562134956028903943 47 245} {4583818016220263764 48 246} {7168092042238818956 48 247} {8995824532604922875 48 248} {5693973857336959865 48 249}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 240->239
------------------------------------------------------
term 48 Server2 start snapshot! index=249
term 48 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 239
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 48
------------------------------------------------------
flag 88029 term 48 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 48 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 48 249}]
------------------------------------------------------
term 48 Server1 start snapshot! index=249
term 48 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
client write log 6773307882290355944 (index 250) to leader 2
client write log 2974055335765786674 (index 251) to leader 2
client write log 209108566623531352 (index 252) to leader 2
client write log 7411022463732151838 (index 253) to leader 2
client write log 4593522113748543136 (index 254) to leader 2
client write log 8880150258071096499 (index 255) to leader 2
client write log 327008222870874589 (index 256) to leader 2
client write log 7060155064389069590 (index 257) to leader 2
client write log 7135620157488237105 (index 258) to leader 2
client write log 5034518375517101276 (index 259) to leader 2
client write log 2165491796905012315 (index 260) to leader 2
client write log 3418046297810536425 (index 261) to leader 2
client write log 330357671566746971 (index 262) to leader 2
client write log 7579950641086280902 (index 263) to leader 2
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 239
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 48
------------------------------------------------------
flag 92385 term 48 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 48 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 48 leaderCommit: 249 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 48 249} {6773307882290355944 48 250} {2974055335765786674 48 251} {209108566623531352 48 252} {7411022463732151838 48 253} {4593522113748543136 48 254} {8880150258071096499 48 255} {327008222870874589 48 256} {7060155064389069590 48 257} {7135620157488237105 48 258} {5034518375517101276 48 259} {2165491796905012315 48 260} {3418046297810536425 48 261} {330357671566746971 48 262} {7579950641086280902 48 263}]
------------------------------------------------------
term 48 Server2 start snapshot! index=259
term 48 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=263
-------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 239
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 48
------------------------------------------------------
flag 19741 term 48 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 48 259} {2165491796905012315 48 260} {3418046297810536425 48 261} {330357671566746971 48 262} {7579950641086280902 48 263}]
------------------------------------------------------
term 48 Server1 start snapshot! index=259
term 48 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=263
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7771618407313390344 (index 264) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 239
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 48
------------------------------------------------------
flag 14022 term 48 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 48 259} {2165491796905012315 48 260} {3418046297810536425 48 261} {330357671566746971 48 262} {7579950641086280902 48 263} {7771618407313390344 48 264}]
------------------------------------------------------
term 49 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 server 1 vote for server 2
term 50 server 2 get vote from server 1
term 50 server 2 become leader
------------------------------------------------------
term 50 server 0 vote for server 2
term 50 server 2 get outdate rpc reply from server 0
flag 44660 term 50 leader 2 nextIndex[0]: 265  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
flag 33715 term 50 leader 2 nextIndex[1]: 265  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 48 259} {2165491796905012315 48 260} {3418046297810536425 48 261} {330357671566746971 48 262} {7579950641086280902 48 263} {7771618407313390344 48 264}]
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 265->264
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 249  matchIndex[0]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 48
------------------------------------------------------
flag 3331 term 50 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 50 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 48 259} {2165491796905012315 48 260} {3418046297810536425 48 261} {330357671566746971 48 262} {7579950641086280902 48 263} {7771618407313390344 48 264}]
------------------------------------------------------
term 50 server 0 InstallSnapshot success
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 48 rf.commitIndex 259 rf.lastApplied 259
flag 73972 term 50 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 50 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
flag 15565 term 50 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 50 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 48 259} {2165491796905012315 48 260} {3418046297810536425 48 261} {330357671566746971 48 262} {7579950641086280902 48 263} {7771618407313390344 48 264}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 48 259} {2165491796905012315 48 260} {3418046297810536425 48 261} {330357671566746971 48 262} {7579950641086280902 48 263} {7771618407313390344 48 264}]
------------------------------------------------------
flag 5454 term 50 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 50 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
flag 67625 term 50 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 50 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 48 259} {2165491796905012315 48 260} {3418046297810536425 48 261} {330357671566746971 48 262} {7579950641086280902 48 263} {7771618407313390344 48 264}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 48 259} {2165491796905012315 48 260} {3418046297810536425 48 261} {330357671566746971 48 262} {7579950641086280902 48 263} {7771618407313390344 48 264}]
------------------------------------------------------
flag 56474 term 50 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 50 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
flag 16676 term 50 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 50 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:264 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 48 259} {2165491796905012315 48 260} {3418046297810536425 48 261} {330357671566746971 48 262} {7579950641086280902 48 263} {7771618407313390344 48 264}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 48 259} {2165491796905012315 48 260} {3418046297810536425 48 261} {330357671566746971 48 262} {7579950641086280902 48 263} {7771618407313390344 48 264}]
------------------------------------------------------
flag 44481 term 50 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 50 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
flag 49005 term 50 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 50 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 48 259} {2165491796905012315 48 260} {3418046297810536425 48 261} {330357671566746971 48 262} {7579950641086280902 48 263} {7771618407313390344 48 264}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 48 259} {2165491796905012315 48 260} {3418046297810536425 48 261} {330357671566746971 48 262} {7579950641086280902 48 263} {7771618407313390344 48 264}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14780 term 50 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 50 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
flag 76019 term 50 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 50 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 48 259} {2165491796905012315 48 260} {3418046297810536425 48 261} {330357671566746971 48 262} {7579950641086280902 48 263} {7771618407313390344 48 264}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 48 259} {2165491796905012315 48 260} {3418046297810536425 48 261} {330357671566746971 48 262} {7579950641086280902 48 263} {7771618407313390344 48 264}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62808 term 50 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 50 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
flag 61424 term 50 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 50 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 48 259} {2165491796905012315 48 260} {3418046297810536425 48 261} {330357671566746971 48 262} {7579950641086280902 48 263} {7771618407313390344 48 264}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 48 259} {2165491796905012315 48 260} {3418046297810536425 48 261} {330357671566746971 48 262} {7579950641086280902 48 263} {7771618407313390344 48 264}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3989007314776479371 (index 265) to leader 2
flag 39262 term 50 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 50 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
flag 90391 term 50 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 50 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {2165491796905012315 48 260} {3418046297810536425 48 261} {330357671566746971 48 262} {7579950641086280902 48 263} {7771618407313390344 48 264} {3989007314776479371 50 265}]
------------------------------------------------------
flag 50542 term 50 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 50 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 3434 term 50 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 50 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 50 leaderCommit: 265 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {2165491796905012315 48 260} {3418046297810536425 48 261} {330357671566746971 48 262} {7579950641086280902 48 263} {7771618407313390344 48 264} {3989007314776479371 50 265}]
------------------------------------------------------
client write log 8057329874898879200 (index 266) to leader 2
client write log 6733223475923510700 (index 267) to leader 2
client write log 140994440380299280 (index 268) to leader 2
client write log 2961696270797237751 (index 269) to leader 2
client write log 8906081025664864497 (index 270) to leader 2
client write log 5251660503029539716 (index 271) to leader 2
client write log 5796743476678325739 (index 272) to leader 2
client write log 8040548937189598596 (index 273) to leader 2
client write log 8367039510003230787 (index 274) to leader 2
client write log 3383738625779867083 (index 275) to leader 2
client write log 5809464576605407406 (index 276) to leader 2
flag 13779 term 50 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 50 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 73604 term 50 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 50 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 50 leaderCommit: 265 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 48 259} {2165491796905012315 48 260} {3418046297810536425 48 261} {330357671566746971 48 262} {7579950641086280902 48 263} {7771618407313390344 48 264} {3989007314776479371 50 265} {8057329874898879200 50 266} {6733223475923510700 50 267} {140994440380299280 50 268} {2961696270797237751 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276}]
------------------------------------------------------
term 50 Server2 start snapshot! index=269
term 50 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=276
-------------------------------------------------------------
term 50 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 50
------------------------------------------------------
flag 57789 term 50 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 50 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276}]
------------------------------------------------------
term 50 Server1 start snapshot! index=269
term 50 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=276
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8302918458355131814 (index 277) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 2 not vote for server 0, 日志不够新
term 50 server 1 not vote for server 0, 日志不够新
term 52 server 1 vote for server 2
term 52 server 0 vote for server 2
term 52 server 2 get vote from server 1
term 52 server 2 become leader
------------------------------------------------------
term 52 server 2 get outdate rpc reply from server 0
flag 82276 term 52 leader 2 nextIndex[0]: 278  matchIndex[0]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 88392 term 52 leader 2 nextIndex[1]: 278  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 52 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 278->277
------------------------------------------------------
term 52 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 278->277
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 265  matchIndex[0]: 0
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 50
------------------------------------------------------
flag 77544 term 52 leader 2 nextIndex[1]: 277  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
term 52 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 50 rf.commitIndex 269 rf.lastApplied 269
term 52 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
flag 75779 term 52 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 52 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 6084 term 52 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4137 term 52 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 29684 term 52 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88781 term 52 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 77321 term 52 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 1 not vote for server 0, 任期不够新
term 52 server 0 get outdate rpc reply from server 1
flag 98105 term 52 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 6952 term 52 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58216 term 52 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 91151 term 52 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
flag 16072 term 52 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 3228 term 52 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
flag 62705 term 52 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 73004 term 52 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70385 term 52 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 71601 term 52 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
term 52 server 0 not vote for server 2, 任期不够新
term 52 server 2 get outdate rpc reply from server 0
flag 37902 term 52 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 76460 term 52 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
flag 37274 term 52 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 77475 term 52 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
flag 37123 term 52 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 23755 term 52 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26573 term 52 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 83681 term 52 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19528 term 52 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 66227 term 52 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
flag 81647 term 52 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 61822 term 52 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61239 term 52 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 93694 term 52 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
flag 20364 term 52 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 8880 term 52 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56824 term 52 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 13308 term 52 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
flag 60581 term 52 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 14114 term 52 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=276
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277}]
------------------------------------------------------
client write log 8302918458355131814 (index 278) to leader 2
flag 70484 term 52 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
flag 66182 term 52 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 52 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 50 leaderCommit: 276 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
term 52 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277} {8302918458355131814 52 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277} {8302918458355131814 52 278}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36249 term 52 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
flag 28538 term 52 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277} {8302918458355131814 52 278}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277} {8302918458355131814 52 278}]
------------------------------------------------------
flag 41075 term 52 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
flag 11511 term 52 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277} {8302918458355131814 52 278}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277} {8302918458355131814 52 278}]
------------------------------------------------------
flag 2068 term 52 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
flag 32638 term 52 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277} {8302918458355131814 52 278}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277} {8302918458355131814 52 278}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78827 term 52 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
flag 60515 term 52 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277} {8302918458355131814 52 278}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277} {8302918458355131814 52 278}]
------------------------------------------------------
flag 89194 term 52 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
flag 46800 term 52 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
term 52 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277} {8302918458355131814 52 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277} {8302918458355131814 52 278}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
flag 885 term 52 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
flag 38244 term 52 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
flag 70666 term 52 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
flag 40482 term 52 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
flag 88826 term 52 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
flag 42757 term 52 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
term 53 server 0 vote for server 1
term 53 server 1 get vote from server 0
term 53 server 1 become leader
------------------------------------------------------
client write log 6404201084024286436 (index 279) to leader 1
flag 87546 term 53 leader 1 nextIndex[0]: 279  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
flag 12663 term 53 leader 1 nextIndex[2]: 279  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 50 269} {8906081025664864497 50 270} {5251660503029539716 50 271} {5796743476678325739 50 272} {8040548937189598596 50 273} {8367039510003230787 50 274} {3383738625779867083 50 275} {5809464576605407406 50 276} {8302918458355131814 50 277} {8302918458355131814 52 278} {6404201084024286436 53 279}]
------------------------------------------------------
flag 4847 term 52 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
flag 88651 term 52 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
term 53 Server1 start snapshot! index=279
term 53 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 279->278
------------------------------------------------------
flag 47562 term 53 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 53 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 53 leaderCommit: 279 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 279  matchIndex[2]: 0
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 0  matchIndex[0]: 278
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 50
------------------------------------------------------
flag 38732 term 52 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 53 279}]
------------------------------------------------------
term 53 Server0 start snapshot! index=279
term 53 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
client write log 6549196909457811781 (index 280) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 0  matchIndex[0]: 278
flag 38808 term 53 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 53 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 53 leaderCommit: 279 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 279  matchIndex[2]: 0
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 53
------------------------------------------------------
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 50
------------------------------------------------------
flag 29231 term 52 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 53 279} {6549196909457811781 53 280}]
------------------------------------------------------
flag 84416 term 53 leader 1 nextIndex[0]: 281  matchIndex[0]: 280
term 53 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 53 leaderCommit: 280 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 279  matchIndex[2]: 0
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 0  matchIndex[0]: 278
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 50
------------------------------------------------------
flag 51197 term 52 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 53 279} {6549196909457811781 53 280}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1448603281082334704 (index 281) to leader 1
flag 90146 term 53 leader 1 nextIndex[0]: 281  matchIndex[0]: 280
term 53 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 53 leaderCommit: 280 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 279  matchIndex[2]: 0
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 53
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 0  matchIndex[0]: 278
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 50
------------------------------------------------------
flag 98220 term 52 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 52 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 52 leaderCommit: 278 
------------------------------------------------------
term 53 server 2 InstallSnapshot success
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 280 matchIndex[2] 279 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 53 rf.commitIndex 279 rf.lastApplied 279
term 53 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 53 server 1 AppendEntries false 领导者任期过期 args.Term 52
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 53 279} {6549196909457811781 53 280} {1448603281082334704 53 281}]
------------------------------------------------------
flag 94740 term 53 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 53 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 53 leaderCommit: 281 
------------------------------------------------------
flag 9141 term 53 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 53 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 53 leaderCommit: 281 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 53 279} {6549196909457811781 53 280} {1448603281082334704 53 281}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 53 279} {6549196909457811781 53 280} {1448603281082334704 53 281}]
------------------------------------------------------
flag 41881 term 53 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 53 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 53 leaderCommit: 281 
------------------------------------------------------
flag 83118 term 53 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 53 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 53 leaderCommit: 281 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 53 279} {6549196909457811781 53 280} {1448603281082334704 53 281}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 53 279} {6549196909457811781 53 280} {1448603281082334704 53 281}]
------------------------------------------------------
flag 49303 term 53 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 53 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 53 leaderCommit: 281 
------------------------------------------------------
flag 15843 term 53 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 53 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 53 leaderCommit: 281 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 53 279} {6549196909457811781 53 280} {1448603281082334704 53 281}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 53 279} {6549196909457811781 53 280} {1448603281082334704 53 281}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29119 term 53 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 53 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 53 leaderCommit: 281 
------------------------------------------------------
flag 90447 term 53 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 53 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 53 leaderCommit: 281 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 53 279} {6549196909457811781 53 280} {1448603281082334704 53 281}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 53 279} {6549196909457811781 53 280} {1448603281082334704 53 281}]
------------------------------------------------------
flag 89237 term 53 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 53 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 53 leaderCommit: 281 
------------------------------------------------------
flag 55974 term 53 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 53 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 53 leaderCommit: 281 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 53 279} {6549196909457811781 53 280} {1448603281082334704 53 281}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 53 279} {6549196909457811781 53 280} {1448603281082334704 53 281}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73906 term 53 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 53 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 53 leaderCommit: 281 
------------------------------------------------------
flag 6019 term 53 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 53 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 53 leaderCommit: 281 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 53 279} {6549196909457811781 53 280} {1448603281082334704 53 281}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 53 279} {6549196909457811781 53 280} {1448603281082334704 53 281}]
------------------------------------------------------
flag 93447 term 53 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 53 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 53 leaderCommit: 281 
------------------------------------------------------
flag 45344 term 53 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 53 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 53 leaderCommit: 281 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 53 279} {6549196909457811781 53 280} {1448603281082334704 53 281}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 53 279} {6549196909457811781 53 280} {1448603281082334704 53 281}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6301260083735993740 (index 282) to leader 1
flag 87211 term 53 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 53 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 53 leaderCommit: 281 
------------------------------------------------------
flag 85220 term 53 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 53 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 53 leaderCommit: 281 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 53 279} {6549196909457811781 53 280} {1448603281082334704 53 281} {6301260083735993740 53 282}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34218 term 53 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 53 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 53 leaderCommit: 282 
------------------------------------------------------
flag 56059 term 53 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 53 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 53 leaderCommit: 282 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 53 279} {6549196909457811781 53 280} {1448603281082334704 53 281} {6301260083735993740 53 282}]
------------------------------------------------------
client write log 3299410703536488216 (index 283) to leader 1
client write log 8771828775649743640 (index 284) to leader 1
client write log 8906105029247884232 (index 285) to leader 1
client write log 9034046714483174090 (index 286) to leader 1
client write log 5613576403200267424 (index 287) to leader 1
client write log 5411858876340607532 (index 288) to leader 1
client write log 5867430362944678187 (index 289) to leader 1
client write log 3011388031353554243 (index 290) to leader 1
client write log 4257981533203796485 (index 291) to leader 1
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48643 term 53 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 53 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 53 leaderCommit: 282 
------------------------------------------------------
flag 70299 term 53 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 53 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 53 leaderCommit: 282 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 53 279} {6549196909457811781 53 280} {1448603281082334704 53 281} {6301260083735993740 53 282} {3299410703536488216 53 283} {8771828775649743640 53 284} {8906105029247884232 53 285} {9034046714483174090 53 286} {5613576403200267424 53 287} {5411858876340607532 53 288} {5867430362944678187 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291}]
------------------------------------------------------
term 53 Server1 start snapshot! index=289
term 53 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=291
-------------------------------------------------------------
flag 21252 term 53 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 53 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291}]
------------------------------------------------------
term 53 Server0 start snapshot! index=289
term 53 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=291
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5337153860558403090 (index 292) to leader 1
flag 39033 term 53 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 53 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 53
------------------------------------------------------
term 54 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 server 2 vote for server 1
term 55 server 0 vote for server 1
term 55 server 1 get vote from server 2
term 55 server 1 become leader
------------------------------------------------------
term 55 server 1 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41489 term 55 leader 1 nextIndex[0]: 293  matchIndex[0]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 20218 term 55 leader 1 nextIndex[2]: 293  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 55 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 293->292
term 55 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
flag 13214 term 55 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 282  matchIndex[2]: 0
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 53
------------------------------------------------------
term 55 server 2 InstallSnapshot success
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 53 rf.commitIndex 289 rf.lastApplied 289
term 55 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14561 term 55 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 60050 term 55 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 55 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
flag 98113 term 55 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 48865 term 55 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
flag 42176 term 55 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 42440 term 55 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
flag 3600 term 55 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 28524 term 55 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
flag 8970 term 55 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 90652 term 55 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4890 term 55 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 60176 term 55 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38031 term 55 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 46643 term 55 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
flag 87922 term 55 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 34699 term 55 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
flag 2747 term 55 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 11721 term 55 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62332 term 55 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 11276 term 55 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
flag 713 term 55 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 2298 term 55 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63933 term 55 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 71589 term 55 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
term 55 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
flag 70393 term 55 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 66209 term 55 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
flag 22782 term 55 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 42520 term 55 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
flag 50169 term 55 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 34097 term 55 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:291 
term 55 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
flag 98292 term 55 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 23664 term 55 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9764 term 55 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 32278 term 55 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=291
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5337153860558403090 (index 293) to leader 1
flag 11457 term 55 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
flag 7563 term 55 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 55 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 53 leaderCommit: 291 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292} {5337153860558403090 55 293}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292} {5337153860558403090 55 293}]
------------------------------------------------------
flag 47622 term 55 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 55 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 55 leaderCommit: 293 
------------------------------------------------------
flag 44335 term 55 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 55 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 55 leaderCommit: 293 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292} {5337153860558403090 55 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292} {5337153860558403090 55 293}]
------------------------------------------------------
flag 91400 term 55 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 55 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 55 leaderCommit: 293 
------------------------------------------------------
flag 85851 term 55 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 55 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 55 leaderCommit: 293 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292} {5337153860558403090 55 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292} {5337153860558403090 55 293}]
------------------------------------------------------
flag 43250 term 55 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 55 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 55 leaderCommit: 293 
------------------------------------------------------
flag 33112 term 55 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 55 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 55 leaderCommit: 293 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292} {5337153860558403090 55 293}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292} {5337153860558403090 55 293}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88035 term 55 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 55 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 55 leaderCommit: 293 
------------------------------------------------------
flag 99350 term 55 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 55 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 55 leaderCommit: 293 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:293 
term 55 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292} {5337153860558403090 55 293}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292} {5337153860558403090 55 293}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13083 term 55 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 55 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 55 leaderCommit: 293 
------------------------------------------------------
flag 17313 term 55 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 55 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 55 leaderCommit: 293 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292} {5337153860558403090 55 293}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292} {5337153860558403090 55 293}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 170698864400071356 (index 294) to leader 1
flag 35409 term 55 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 55 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 55 leaderCommit: 293 
------------------------------------------------------
flag 27297 term 55 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 55 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 55 leaderCommit: 293 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292} {5337153860558403090 55 293} {170698864400071356 55 294}]
------------------------------------------------------
flag 29367 term 55 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 55 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 55 leaderCommit: 294 
------------------------------------------------------
flag 68538 term 55 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 55 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 55 leaderCommit: 294 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292} {5337153860558403090 55 293} {170698864400071356 55 294}]
------------------------------------------------------
client write log 7652080002331658620 (index 295) to leader 1
client write log 7592698984251446765 (index 296) to leader 1
client write log 6691020671075933072 (index 297) to leader 1
client write log 3639576119746930376 (index 298) to leader 1
client write log 2331554761605951762 (index 299) to leader 1
client write log 8952928347459370778 (index 300) to leader 1
client write log 5869964909371875534 (index 301) to leader 1
client write log 8665657823975942751 (index 302) to leader 1
client write log 7656677467583417374 (index 303) to leader 1
client write log 7473550967193140015 (index 304) to leader 1
client write log 7702220084749394362 (index 305) to leader 1
client write log 1520772446656222694 (index 306) to leader 1
client write log 3430882974716301928 (index 307) to leader 1
flag 30411 term 55 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 55 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 55 leaderCommit: 294 
------------------------------------------------------
flag 72819 term 55 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 55 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 55 leaderCommit: 294 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 289} {3011388031353554243 53 290} {4257981533203796485 53 291} {5337153860558403090 53 292} {5337153860558403090 55 293} {170698864400071356 55 294} {7652080002331658620 55 295} {7592698984251446765 55 296} {6691020671075933072 55 297} {3639576119746930376 55 298} {2331554761605951762 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 Server1 start snapshot! index=299
term 55 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=307
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50859 term 55 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 55
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307}]
------------------------------------------------------
term 55 Server0 start snapshot! index=299
term 55 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=307
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3705030197610155138 (index 308) to leader 1
term 55 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 55 server 1 not vote for server 2, 日志不够新
term 55 server 0 not vote for server 2, 日志不够新
term 57 server 2 vote for server 1
term 57 server 0 vote for server 1
term 57 server 1 get vote from server 2
term 57 server 1 become leader
------------------------------------------------------
term 57 server 1 get outdate rpc reply from server 0
flag 55437 term 57 leader 1 nextIndex[0]: 309  matchIndex[0]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 50935 term 57 leader 1 nextIndex[2]: 309  matchIndex[2]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 57 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 57 server 0 AppendEntries false prev日志不匹配
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 309->308
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 309->308
------------------------------------------------------
term 57 server 2 not vote for server 0, 任期不够新
term 57 server 0 get outdate rpc reply from server 2
flag 43213 term 57 leader 1 nextIndex[0]: 308  matchIndex[0]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 57 leader 1 nextIndex[2]: 294  matchIndex[2]: 0
term 57 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 55
------------------------------------------------------
term 57 server 2 InstallSnapshot success
------------------------------------------------------
term 57 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 55 rf.commitIndex 299 rf.lastApplied 299
term 57 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
term 57 server 1 not vote for server 2, 任期不够新
term 57 server 2 get outdate rpc reply from server 1
flag 17354 term 57 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 3554 term 57 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 57 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
term 57 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24931 term 57 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 82726 term 57 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
flag 62092 term 57 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 88508 term 57 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
term 57 server 0 not vote for server 2, 任期不够新
term 57 server 2 get outdate rpc reply from server 0
flag 57130 term 57 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 54273 term 57 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
flag 18088 term 57 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 40196 term 57 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83889 term 57 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 88562 term 57 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
term 57 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54425 term 57 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 65042 term 57 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94058 term 57 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 89830 term 57 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
flag 74200 term 57 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 61760 term 57 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
flag 79309 term 57 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 62135 term 57 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
flag 77816 term 57 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 15573 term 57 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
term 57 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
flag 18090 term 57 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 72451 term 57 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
flag 47923 term 57 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 35939 term 57 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
flag 98851 term 57 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 88694 term 57 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
flag 39688 term 57 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 43664 term 57 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
flag 18320 term 57 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 44923 term 57 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
term 57 server 2 not vote for server 1, 任期不够新
term 57 server 1 get outdate rpc reply from server 2
flag 37408 term 57 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 49929 term 57 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308}]
------------------------------------------------------
client write log 3705030197610155138 (index 309) to leader 1
flag 75753 term 57 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 72019 term 57 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 57 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308} {3705030197610155138 57 309}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 55 299} {8952928347459370778 55 300} {5869964909371875534 55 301} {8665657823975942751 55 302} {7656677467583417374 55 303} {7473550967193140015 55 304} {7702220084749394362 55 305} {1520772446656222694 55 306} {3430882974716301928 55 307} {3705030197610155138 55 308} {3705030197610155138 57 309}]
------------------------------------------------------
term 57 Server1 start snapshot! index=309
term 57 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 41686 term 57 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
flag 41741 term 57 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 57 309}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 57 309}]
------------------------------------------------------
term 57 Server0 start snapshot! index=309
term 57 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
term 57 Server2 start snapshot! index=309
term 57 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 92312 term 57 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
flag 13417 term 57 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 57 309}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 57 309}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83299 term 57 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
flag 3164 term 57 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 57 309}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 57 309}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56405 term 57 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
flag 73285 term 57 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 57 309}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 57 309}]
------------------------------------------------------
flag 73855 term 57 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
flag 79501 term 57 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 57 309}]
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 57 309}]
------------------------------------------------------
flag 61193 term 57 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
flag 11251 term 57 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 57 309}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 57 309}]
------------------------------------------------------
!!!!!!diconnect server 1
term 57 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68871 term 57 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
flag 49624 term 57 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
flag 7845 term 57 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
flag 18110 term 57 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
flag 23885 term 57 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
flag 18693 term 57 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
term 58 server 2 vote for server 0
term 58 server 0 get vote from server 2
term 58 server 0 become leader
------------------------------------------------------
flag 69949 term 58 leader 0 nextIndex[1]: 310  matchIndex[1]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
flag 82799 term 58 leader 0 nextIndex[2]: 310  matchIndex[2]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 57 309}]
------------------------------------------------------
flag 26747 term 57 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
flag 8981 term 57 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
client write log 4473906633275527012 (index 310) to leader 0
flag 99245 term 58 leader 0 nextIndex[1]: 310  matchIndex[1]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
flag 87521 term 58 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 58 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 57 309} {4473906633275527012 58 310}]
------------------------------------------------------
flag 27513 term 57 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
flag 81405 term 57 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
term 57 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64015 term 58 leader 0 nextIndex[1]: 310  matchIndex[1]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 310 
------------------------------------------------------
flag 78606 term 58 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 58 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 58 leaderCommit: 310 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 57 309} {4473906633275527012 58 310}]
------------------------------------------------------
client write log 560597565697347528 (index 311) to leader 0
flag 59914 term 57 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
flag 88856 term 57 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
flag 88090 term 58 leader 0 nextIndex[1]: 310  matchIndex[1]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 310 
------------------------------------------------------
flag 99833 term 58 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 58 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 58 leaderCommit: 310 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
flag 98179 term 57 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
flag 42980 term 57 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
flag 78685 term 58 leader 0 nextIndex[1]: 310  matchIndex[1]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 311 
------------------------------------------------------
flag 98714 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
flag 56327 term 57 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
flag 75138 term 57 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 309 
------------------------------------------------------
!!!!!!connect server 1
client write log 6205805336823612810 (index 310) to leader 1
term 58 server 2 AppendEntries false 领导者任期过期 args.Term 57
------------------------------------------------------
term 58 server 0 AppendEntries false 领导者任期过期 args.Term 57
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20911 term 58 leader 0 nextIndex[1]: 310  matchIndex[1]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 57 leaderCommit: 311 
------------------------------------------------------
flag 39624 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
flag 23811 term 58 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
flag 22410 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56752 term 58 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
flag 13789 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
flag 69309 term 58 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
flag 30208 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65323 term 58 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
flag 57237 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
flag 23513 term 58 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
flag 25835 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
flag 75361 term 58 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
flag 55752 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
flag 98396 term 58 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
flag 93254 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
flag 70351 term 58 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
flag 69683 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
flag 98143 term 58 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
flag 98998 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
flag 57825 term 58 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
flag 94999 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83342 term 58 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
flag 81221 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
flag 68480 term 58 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
flag 99478 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
flag 13677 term 58 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
flag 27123 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
flag 92627 term 58 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
flag 58745 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20727 term 58 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
flag 97232 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
flag 16536 term 58 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
flag 24764 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
flag 25610 term 58 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
flag 57664 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76681 term 58 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
flag 27996 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
flag 22547 term 58 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
flag 21607 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311}]
------------------------------------------------------
client write log 6205805336823612810 (index 312) to leader 0
flag 97086 term 58 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
flag 29785 term 58 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 58 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 58 leaderCommit: 311 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311} {6205805336823612810 58 312}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311} {6205805336823612810 58 312}]
------------------------------------------------------
flag 37392 term 58 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 58 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 58 leaderCommit: 312 
------------------------------------------------------
flag 44716 term 58 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 58 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 58 leaderCommit: 312 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:312 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311} {6205805336823612810 58 312}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311} {6205805336823612810 58 312}]
------------------------------------------------------
flag 62794 term 58 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 58 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 58 leaderCommit: 312 
------------------------------------------------------
flag 12464 term 58 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 58 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 58 leaderCommit: 312 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311} {6205805336823612810 58 312}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311} {6205805336823612810 58 312}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38062 term 58 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 58 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 58 leaderCommit: 312 
------------------------------------------------------
flag 83318 term 58 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 58 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 58 leaderCommit: 312 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311} {6205805336823612810 58 312}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311} {6205805336823612810 58 312}]
------------------------------------------------------
flag 12729 term 58 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 58 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 58 leaderCommit: 312 
------------------------------------------------------
flag 79965 term 58 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 58 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 58 leaderCommit: 312 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311} {6205805336823612810 58 312}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311} {6205805336823612810 58 312}]
------------------------------------------------------
flag 4069 term 58 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 58 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 58 leaderCommit: 312 
------------------------------------------------------
flag 55121 term 58 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 58 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 58 leaderCommit: 312 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311} {6205805336823612810 58 312}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311} {6205805336823612810 58 312}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3984136657866996663 (index 313) to leader 0
flag 22068 term 58 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 58 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 58 leaderCommit: 312 
------------------------------------------------------
flag 29950 term 58 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 58 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 58 leaderCommit: 312 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311} {6205805336823612810 58 312} {3984136657866996663 58 313}]
------------------------------------------------------
flag 46777 term 58 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 58 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 58 leaderCommit: 313 
------------------------------------------------------
flag 39676 term 58 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 58 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 58 leaderCommit: 313 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311} {6205805336823612810 58 312} {3984136657866996663 58 313}]
------------------------------------------------------
client write log 7992926309717303218 (index 314) to leader 0
client write log 4623441584130784182 (index 315) to leader 0
client write log 5238966375358948755 (index 316) to leader 0
client write log 3934104842745904039 (index 317) to leader 0
client write log 6837389765791827174 (index 318) to leader 0
client write log 6715242251142539705 (index 319) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 313->312
------------------------------------------------------
term 58 leader 0 nextIndex[1]: 0  matchIndex[1]: 312
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 57
------------------------------------------------------
flag 74016 term 58 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 58 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 58 leaderCommit: 313 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 57 309} {4473906633275527012 58 310} {560597565697347528 58 311} {6205805336823612810 58 312} {3984136657866996663 58 313} {7992926309717303218 58 314} {4623441584130784182 58 315} {5238966375358948755 58 316} {3934104842745904039 58 317} {6837389765791827174 58 318} {6715242251142539705 58 319}]
------------------------------------------------------
term 58 Server0 start snapshot! index=319
term 58 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 58 leader 0 nextIndex[1]: 0  matchIndex[1]: 312
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 58
------------------------------------------------------
flag 69483 term 58 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 58 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 58 319}]
------------------------------------------------------
term 58 Server2 start snapshot! index=319
term 58 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1166875031733561564 (index 320) to leader 0
term 58 server 2 not vote for server 1, 日志不够新
term 58 server 0 not vote for server 1, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 60 server 2 vote for server 0
term 60 server 1 vote for server 0
term 60 server 0 get vote from server 2
term 60 server 0 become leader
------------------------------------------------------
term 60 server 0 get outdate rpc reply from server 1
flag 13550 term 60 leader 0 nextIndex[1]: 321  matchIndex[1]: 0
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
flag 25795 term 60 leader 0 nextIndex[2]: 321  matchIndex[2]: 0
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 60 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 321->320
------------------------------------------------------
term 60 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 321->320
------------------------------------------------------
term 60 leader 0 nextIndex[1]: 313  matchIndex[1]: 0
term 60 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 58
------------------------------------------------------
flag 3050 term 60 leader 0 nextIndex[2]: 320  matchIndex[2]: 0
term 60 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 60 server 1 InstallSnapshot success
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 60 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 58 rf.commitIndex 319 rf.lastApplied 319
flag 87558 term 60 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 60 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
flag 25579 term 60 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
flag 20911 term 60 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
flag 82391 term 60 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39200 term 60 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
flag 39938 term 60 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43299 term 60 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
flag 96145 term 60 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
flag 58113 term 60 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
flag 89770 term 60 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
flag 88477 term 60 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
flag 46264 term 60 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 60 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13978 term 60 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
flag 43816 term 60 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
term 60 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
flag 21961 term 60 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
flag 69868 term 60 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60925 term 60 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
flag 55655 term 60 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
flag 25569 term 60 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
flag 43479 term 60 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
flag 26616 term 60 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
flag 17352 term 60 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12408 term 60 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
flag 4290 term 60 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97490 term 60 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
flag 56174 term 60 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
flag 47231 term 60 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
flag 52730 term 60 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
flag 85421 term 60 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
flag 94774 term 60 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
flag 62507 term 60 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
flag 90098 term 60 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
flag 32795 term 60 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
flag 16496 term 60 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
flag 97485 term 60 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
flag 31553 term 60 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 58 319} {1166875031733561564 58 320}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1166875031733561564 (index 321) to leader 0
flag 22523 term 60 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
flag 89941 term 60 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 60 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 58 leaderCommit: 319 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 58 319} {1166875031733561564 58 320} {1166875031733561564 60 321}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 58 319} {1166875031733561564 58 320} {1166875031733561564 60 321}]
------------------------------------------------------
flag 95774 term 60 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 60 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 60 leaderCommit: 321 
------------------------------------------------------
flag 29942 term 60 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 60 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 60 leaderCommit: 321 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 58 319} {1166875031733561564 58 320} {1166875031733561564 60 321}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 58 319} {1166875031733561564 58 320} {1166875031733561564 60 321}]
------------------------------------------------------
term 60 server 1 not vote for server 0, 任期不够新
term 60 server 0 get outdate rpc reply from server 1
flag 34777 term 60 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 60 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 60 leaderCommit: 321 
------------------------------------------------------
flag 92034 term 60 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 60 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 60 leaderCommit: 321 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 58 319} {1166875031733561564 58 320} {1166875031733561564 60 321}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 58 319} {1166875031733561564 58 320} {1166875031733561564 60 321}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98697 term 60 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 60 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 60 leaderCommit: 321 
------------------------------------------------------
flag 14583 term 60 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 60 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 60 leaderCommit: 321 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 58 319} {1166875031733561564 58 320} {1166875031733561564 60 321}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 58 319} {1166875031733561564 58 320} {1166875031733561564 60 321}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93149 term 60 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 60 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 60 leaderCommit: 321 
------------------------------------------------------
flag 81149 term 60 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 60 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 60 leaderCommit: 321 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 58 319} {1166875031733561564 58 320} {1166875031733561564 60 321}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 58 319} {1166875031733561564 58 320} {1166875031733561564 60 321}]
------------------------------------------------------
flag 19105 term 60 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 60 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 60 leaderCommit: 321 
------------------------------------------------------
flag 26060 term 60 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 60 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 60 leaderCommit: 321 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 58 319} {1166875031733561564 58 320} {1166875031733561564 60 321}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 58 319} {1166875031733561564 58 320} {1166875031733561564 60 321}]
------------------------------------------------------
  ... Passed --  81.4  3 1856  784335  321
--- PASS: TestSnapshotInstall2D (81.38s)
PASS
